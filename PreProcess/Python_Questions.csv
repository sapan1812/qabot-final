,Id,A_Score,Q_Score,Tag,Title,Q_Body,A_Body
620,306400,1462,824,python,How do I randomly select an item from a list using Python?,"<p>Assume I have the following list:</p>

<pre><code>foo = ['a', 'b', 'c', 'd', 'e']
</code></pre>

<p>What is the simplest way to retrieve an item at random from this list?</p>
","<p>Use <a href=""https://docs.python.org/2/library/random.html#random.choice""><code>random.choice</code></a>:</p>

<pre><code>import random

foo = ['a', 'b', 'c', 'd', 'e']
print(random.choice(foo))
</code></pre>
"
1098,541390,970,599,python,Extracting extension from filename in Python,"<p>Is there a function to extract the extension from a filename?</p>
","<p>Yes. Use <a href=""https://docs.python.org/2/library/os.path.html#os.path.splitext""><code>os.path.splitext</code></a>:</p>

<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; filename, file_extension = os.path.splitext('/path/to/somefile.ext')
&gt;&gt;&gt; filename
'/path/to/somefile'
&gt;&gt;&gt; file_extension
'.ext'
</code></pre>
"
1099,541390,234,599,python,Extracting extension from filename in Python,"<p>Is there a function to extract the extension from a filename?</p>
","<pre><code>import os.path
extension = os.path.splitext(filename)[1]
</code></pre>
"
275,152580,105,588,python,What's the canonical way to check for type in python?,"<p>What is the best way to check whether a given object is of a given type? How about checking whether the object inherits from a given type?</p>

<p>Let's say I have an object <code>o</code>. How do I check whether it's a <code>str</code>?</p>
","<p>The <strong>most</strong> Pythonic way to check the type of an object is... not to check it.</p>

<p>Since Python encourages <a href=""http://wikipedia.org/wiki/Duck_typing"">Duck Typing</a>, you should just try to use the object's methods the way you want to use them.  So if your function is looking for a writable file object, <em>don't</em> check that it's a subclass of <code>file</code>, just try to use its <code>.write()</code> method!</p>

<p>Of course, sometimes these nice abstractions break down and <code>isinstance(obj, cls)</code> is what you need.  But use sparingly.</p>
"
274,152580,4,588,python,What's the canonical way to check for type in python?,"<p>What is the best way to check whether a given object is of a given type? How about checking whether the object inherits from a given type?</p>

<p>Let's say I have an object <code>o</code>. How do I check whether it's a <code>str</code>?</p>
","<p>I think the cool thing about using a dynamic language like python is you really shouldn't have to check something like that.</p>

<p>I would just call the required methods on your object and catch an <code>AttributeError</code>. Later on this will allow you to call your methods with other (seemingly unrelated) objects to accomplish different tasks, such as mocking an object for testing.</p>

<p>I've used this alot when getting data off the web with <code>urllib2.urlopen()</code> which returns a <em>file like</em> object. This can in turn can be passed to almost any method that reads from a file, because is implements the same <code>read()</code> method as a real file.</p>

<p>But I'm sure there is a time and place for using <code>isinstance()</code>, otherwise it probably wouldn't be there :)</p>
"
271,152580,11,588,python,What's the canonical way to check for type in python?,"<p>What is the best way to check whether a given object is of a given type? How about checking whether the object inherits from a given type?</p>

<p>Let's say I have an object <code>o</code>. How do I check whether it's a <code>str</code>?</p>
","<pre><code>isinstance(o, str)
</code></pre>

<p><a href=""http://docs.python.org/lib/built-in-funcs.html"">Link</a></p>
"
272,152580,22,588,python,What's the canonical way to check for type in python?,"<p>What is the best way to check whether a given object is of a given type? How about checking whether the object inherits from a given type?</p>

<p>Let's say I have an object <code>o</code>. How do I check whether it's a <code>str</code>?</p>
","<p><code>isinstance(o, str)</code> will return <code>true</code> if <code>o</code> is an <code>str</code> or is of a type that inherits from <code>str</code>.</p>

<p><code>type(o) == str</code> will return <code>true</code> if and only if <code>o</code> is a str. It will return <code>false</code> if <code>o</code> is of a type that inherits from <code>str</code>.</p>
"
273,152580,735,588,python,What's the canonical way to check for type in python?,"<p>What is the best way to check whether a given object is of a given type? How about checking whether the object inherits from a given type?</p>

<p>Let's say I have an object <code>o</code>. How do I check whether it's a <code>str</code>?</p>
","<p>To check if the type of <code>o</code> is exactly <code>str</code>:</p>

<pre><code>type(o) is str
</code></pre>

<p>To check if <code>o</code> is an instance of <code>str</code> or any subclass of <code>str</code> (this would be the ""canonical"" way):</p>

<pre><code>isinstance(o, str)
</code></pre>

<p>The following also works, and can be useful in some cases:</p>

<pre><code>issubclass(type(o), str)
type(o) in ([str] + str.__subclasses__())
</code></pre>

<p>See <a href=""http://docs.python.org/2/library/functions.html"">Built-in Functions</a> in the Python Library Reference for relevant information.</p>

<p>One more note: in this case, you may actually want to use:</p>

<pre><code>isinstance(o, basestring)
</code></pre>

<p>because this will also catch Unicode strings (<code>unicode</code> is not a subclass of <code>str</code>; both <code>str</code> and <code>unicode</code> are subclasses of <code>basestring</code>).</p>

<p>Alternatively, <code>isinstance</code> accepts a tuple of classes. This will return True if x is an instance of any subclass of any of (str, unicode):</p>

<pre><code>isinstance(o, (str, unicode))
</code></pre>
"
613,303200,90,484,python,How do I remove/delete a folder that is not empty with Python?,"<p>I am getting an 'access is denied' error when I attempt to delete a folder that is not empty. I used the following command in my attempt: <code>os.remove(""/folder_name"")</code>. </p>

<p>What is the most effective way of removing/deleting a folder/directory that is not empty?</p>
","<p>From <a href=""http://docs.python.org/library/os.html#os.walk"">the python docs</a> on <code>os.walk()</code>:</p>

<pre><code># Delete everything reachable from the directory named in 'top',
# assuming there are no symbolic links.
# CAUTION:  This is dangerous!  For example, if top == '/', it
# could delete all your disk files.
import os
for root, dirs, files in os.walk(top, topdown=False):
    for name in files:
        os.remove(os.path.join(root, name))
    for name in dirs:
        os.rmdir(os.path.join(root, name))
</code></pre>
"
612,303200,770,484,python,How do I remove/delete a folder that is not empty with Python?,"<p>I am getting an 'access is denied' error when I attempt to delete a folder that is not empty. I used the following command in my attempt: <code>os.remove(""/folder_name"")</code>. </p>

<p>What is the most effective way of removing/deleting a folder/directory that is not empty?</p>
","<pre><code>import shutil

shutil.rmtree('/folder_name')
</code></pre>

<p><a href=""http://docs.python.org/library/shutil.html#shutil.rmtree"">Standard Library Reference: shutil.rmtree</a>.</p>
"
420,209840,11,435,python,Map two lists into a dictionary in Python,"<p>Imagine that you have:</p>

<pre><code>keys = ('name', 'age', 'food')
values = ('Monty', 42, 'spam')
</code></pre>

<p>What is the simplest way to produce the following dictionary ?</p>

<pre><code>dict = {'name' : 'Monty', 'age' : 42, 'food' : 'spam'}
</code></pre>

<p>This code works, but I'm not really proud of it :</p>

<pre><code>dict = {}
junk = map(lambda k, v: dict.update({k: v}), keys, values)
</code></pre>
","<p>If you need to transform keys or values before creating a dictionary then a <a href=""http://docs.python.org/ref/genexpr.html"">generator expression</a> could be used. Example:</p>

<pre><code>&gt;&gt;&gt; adict = dict((str(k), v) for k, v in zip(['a', 1, 'b'], [2, 'c', 3]))
</code></pre>

<p>Take a look <a href=""http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html"">Code Like a Pythonista: Idiomatic Python</a>.</p>
"
419,209840,92,435,python,Map two lists into a dictionary in Python,"<p>Imagine that you have:</p>

<pre><code>keys = ('name', 'age', 'food')
values = ('Monty', 42, 'spam')
</code></pre>

<p>What is the simplest way to produce the following dictionary ?</p>

<pre><code>dict = {'name' : 'Monty', 'age' : 42, 'food' : 'spam'}
</code></pre>

<p>This code works, but I'm not really proud of it :</p>

<pre><code>dict = {}
junk = map(lambda k, v: dict.update({k: v}), keys, values)
</code></pre>
","<p>Try this:</p>

<pre><code>&gt;&gt;&gt; import itertools
&gt;&gt;&gt; keys = ('name', 'age', 'food')
&gt;&gt;&gt; values = ('Monty', 42, 'spam')
&gt;&gt;&gt; adict = dict(itertools.izip(keys,values))
&gt;&gt;&gt; adict
{'food': 'spam', 'age': 42, 'name': 'Monty'}
</code></pre>

<p>It was the simplest solution I could come up with.</p>

<p>PS It's also more economical in memory consumption compared to zip.</p>
"
418,209840,25,435,python,Map two lists into a dictionary in Python,"<p>Imagine that you have:</p>

<pre><code>keys = ('name', 'age', 'food')
values = ('Monty', 42, 'spam')
</code></pre>

<p>What is the simplest way to produce the following dictionary ?</p>

<pre><code>dict = {'name' : 'Monty', 'age' : 42, 'food' : 'spam'}
</code></pre>

<p>This code works, but I'm not really proud of it :</p>

<pre><code>dict = {}
junk = map(lambda k, v: dict.update({k: v}), keys, values)
</code></pre>
","<pre><code>&gt;&gt;&gt; keys = ('name', 'age', 'food')
&gt;&gt;&gt; values = ('Monty', 42, 'spam')
&gt;&gt;&gt; dict(zip(keys, values))
{'food': 'spam', 'age': 42, 'name': 'Monty'}
</code></pre>
"
417,209840,770,435,python,Map two lists into a dictionary in Python,"<p>Imagine that you have:</p>

<pre><code>keys = ('name', 'age', 'food')
values = ('Monty', 42, 'spam')
</code></pre>

<p>What is the simplest way to produce the following dictionary ?</p>

<pre><code>dict = {'name' : 'Monty', 'age' : 42, 'food' : 'spam'}
</code></pre>

<p>This code works, but I'm not really proud of it :</p>

<pre><code>dict = {}
junk = map(lambda k, v: dict.update({k: v}), keys, values)
</code></pre>
","<p>Like this:</p>

<pre><code>&gt;&gt;&gt; keys = ['a', 'b', 'c']
&gt;&gt;&gt; values = [1, 2, 3]
&gt;&gt;&gt; dictionary = dict(zip(keys, values))
&gt;&gt;&gt; print dictionary
{'a': 1, 'b': 2, 'c': 3}
</code></pre>

<p>Voila :-)  The pairwise dict constructor and zip function are awesomely useful: <a href=""https://docs.python.org/2/library/functions.html#func-dict"">https://docs.python.org/2/library/functions.html#func-dict</a></p>
"
477,247770,13,351,python,Retrieving python module path,"<p>I want to detect whether module has changed. Now, using inotify is simple, you just need to know the directory you want to get notifications from.</p>

<p>How do I retrieve a module's path in python?</p>
","<p>This was trivial.</p>

<p>Each module has a <code>__file__</code> variable that shows its relative path from where you are right now.</p>

<p>Therefore, getting a directory for the module to notify it is simple as:</p>

<pre><code>os.path.dirname(__file__)
</code></pre>
"
478,247770,386,351,python,Retrieving python module path,"<p>I want to detect whether module has changed. Now, using inotify is simple, you just need to know the directory you want to get notifications from.</p>

<p>How do I retrieve a module's path in python?</p>
","<pre><code>import a_module
print a_module.__file__
</code></pre>

<p>Will actually give you the path to the .pyc file that was loaded, at least on Mac OS X. So I guess you can do</p>

<pre><code>import os
path = os.path.dirname(amodule.__file__)
</code></pre>

<p>You can also try</p>

<pre><code>path = os.path.abspath(amodule.__file__)
</code></pre>

<p>To get the directory to look for changes.</p>
"
917,455580,66,331,python,JSON datetime between Python and JavaScript,"<p>I want to send a datetime.datetime object in serialized form from Python using <a href=""http://en.wikipedia.org/wiki/JSON"">JSON</a> and de-serialize in JavaScript using JSON. What is the best way to do this?</p>
","<p>For cross language projects I found out that strings containing <a href=""http://www.ietf.org/rfc/rfc3339.txt"">RfC 3339</a> dates are the best way to go. A RfC 3339 date looks like this:</p>

<pre><code>  1985-04-12T23:20:50.52Z
</code></pre>

<p>I think most of the format is obvious. The only somewhat unusual thing may be the ""Z"" at the end. It stands for GMT/UTC. You could also add a timezone offset like +02:00 for CEST (Germany in summer). I personally prefer to keep everything in UTC until it is displayed.</p>

<p>For displaying, comparisons and storage you can leave it in string format across all languages. If you need the date for calculations easy to convert it back to a native date object in most language.</p>

<p>So generate the JSON like this:</p>

<pre><code>  json.dump(datetime.now().strftime('%Y-%m-%dT%H:%M:%S'))
</code></pre>

<p>Unfortunately Javascripts Date constructor doesn't accept RfC 3339 strings but there are many <a href=""http://blog.dansnetwork.com/2008/11/01/javascript-iso8601rfc3339-date-parser/"">parsers</a> available on the Internet.</p>

<p><a href=""https://github.com/hudora/huTools/blob/master/huTools/hujson.py"">huTools.hujson</a> tries to handle the most common encoding issues you might come across in Python code including date/datetime objects while handling timezones correctly.</p>
"
916,455580,21,331,python,JSON datetime between Python and JavaScript,"<p>I want to send a datetime.datetime object in serialized form from Python using <a href=""http://en.wikipedia.org/wiki/JSON"">JSON</a> and de-serialize in JavaScript using JSON. What is the best way to do this?</p>
","<p>If you're certain that only Javascript will be consuming the JSON, I prefer to pass Javascript <code>Date</code> objects directly.</p>

<p>The <code>ctime()</code> method on <code>datetime</code> objects will return a string that the Javascript Date object can understand.</p>

<pre><code>import datetime
date = datetime.datetime.today()
json = '{""mydate"":new Date(""%s"")}' % date.ctime()
</code></pre>

<p>Javascript will happily use that as an object literal, and you've got your Date object built right in.</p>
"
287,159720,381,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>See Python <a href=""http://www.python.org/dev/peps/pep-0008/"">PEP 8</a>.</p>

<blockquote>
  <p>Function names should be lowercase,
  with words separated by underscores as
  necessary to improve readability.</p>
  
  <p>mixedCase is allowed only in contexts
  where that's already the prevailing
  style</p>
</blockquote>

<p>Variables...</p>

<blockquote>
  <p>Use the function naming rules:
  lowercase with words separated by
  underscores as necessary to improve
  readability.</p>
</blockquote>

<p>Personally, I deviate from this because I also prefer <code>mixedCase</code> over <code>lower_case</code> for my own projects.</p>
"
288,159720,0,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>The coding style is usually part of an organization's internal policy/convention standards, but I think in general, the all_lower_case_underscore_separator style (also called snake_case) is most common in python. </p>
"
292,159720,150,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>David Goodger (in ""Code Like a Pythonista"" <a href=""http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html"">here</a>)  describes the PEP 8 recommendations as follows:</p>

<ul>
<li><p><code>joined_lower</code> for functions, methods,
attributes, variables</p></li>
<li><p><code>joined_lower</code> or <code>ALL_CAPS</code> for
constants</p></li>
<li><p><code>StudlyCaps</code> for classes</p></li>
<li><p><code>camelCase</code> only to conform to
pre-existing conventions</p></li>
</ul>
"
289,159720,26,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>There is <a href=""http://www.python.org/dev/peps/pep-0008/"">PEP 8</a>, as other answers show, but PEP 8 is only the styleguide for the standard library, and it's only taken as gospel therein. One of the most frequent deviations of PEP 8 for other pieces of code is the variable naming, specifically for methods. There is no single predominate style, although considering the volume of code that uses mixedCase, if one were to make a strict census one would probably end up with a version of PEP 8 with mixedCase. There is little other deviation from PEP 8 that is quite as common.</p>
"
290,159720,11,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>Most python people prefer underscores, but even I am using python since more than 5 years right now, I still do not like them. They just look ugly to me, but maybe that's all the Java in my head. </p>

<p>I simply like CamelCase better since it fits better with the way classes are named, It feels more logical to have <code>SomeClass.doSomething()</code> than <code>SomeClass.do_something()</code>. If you look around in the global module index in python, you will find both, which is due to the fact that it's a collection of libraries from various sources that grew overtime and not something that was developed by one company like Sun with strict coding rules. I would say the bottom line is: Use whatever you like better, it's just a question of personal taste.</p>
"
291,159720,9,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>Personally I try to use CamelCase for classes, mixedCase methods and functions. Variables are usually underscore separated (when I can remember). This way I can tell at a glance what exactly I'm calling, rather than everything looking the same.</p>
"
294,159720,23,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>As mentioned, PEP 8 says to use <code>lower_case_with_underscores</code> for variables, methods and functions.</p>

<p>I prefer using <code>lower_case_with_underscores</code> for variables and <code>mixedCase</code> for methods and functions makes the code more explicit and readable.  Thus following the <a href=""http://www.python.org/dev/peps/pep-0020/"">Zen of Python's</a> ""explicit is better than implicit"" and ""Readability counts""</p>
"
293,159720,2,326,python,What is the naming convention in Python for variable and function names?,"<p>Coming from a C# background the naming convention for variables and method names are usually either CamelCase or Pascal Case:</p>

<pre><code>// C# example
string thisIsMyVariable = ""a""
public void ThisIsMyMethod()
</code></pre>

<p>In Python, I have seen the above but I have also seen underscores being used:</p>

<pre><code># python example
this_is_my_variable = 'a'
def this_is_my_function():
</code></pre>

<p>Is there a more preferable, definitive coding style for Python?</p>
","<p>Typically, one follow the conventions used in the language's standard library.</p>
"
59,51520,424,308,python,How to get an absolute file path in Python,"<p>Given a path such as <code>""mydir/myfile.txt""</code>, how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with:</p>

<pre><code>""C:/example/cwd/mydir/myfile.txt""
</code></pre>
","<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; os.path.abspath(""mydir/myfile.txt"")
</code></pre>
"
60,51520,32,308,python,How to get an absolute file path in Python,"<p>Given a path such as <code>""mydir/myfile.txt""</code>, how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with:</p>

<pre><code>""C:/example/cwd/mydir/myfile.txt""
</code></pre>
","<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; os.path.abspath('mydir/myfile.txt')
'C:\\example\\cwd\\mydir\\myfile.txt'
&gt;&gt;&gt;
</code></pre>
"
61,51520,13,308,python,How to get an absolute file path in Python,"<p>Given a path such as <code>""mydir/myfile.txt""</code>, how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with:</p>

<pre><code>""C:/example/cwd/mydir/myfile.txt""
</code></pre>
","<p>Better still, install the <a href=""http://pypi.python.org/pypi/path.py/2.2""><code>path.py</code></a> module, it wraps all the <code>os.path</code> functions and other related functions into methods on an object that can be used wherever strings are used:</p>

<pre><code>&gt;&gt;&gt; from path import path
&gt;&gt;&gt; path('mydir/myfile.txt').abspath()
'C:\\example\\cwd\\mydir\\myfile.txt'
&gt;&gt;&gt;
</code></pre>
"
41,42950,43,306,python,Get Last Day of the Month in Python,"<p>Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month?</p>

<p>If the standard library doesn't support that, does the dateutil package support this?</p>
","<p>EDIT: See @<a href=""#43663"">Blair Conrad's answer</a> for a cleaner solution</p>

<p><hr /></p>

<pre><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; datetime.date (2000, 2, 1) - datetime.timedelta (days = 1)
datetime.date(2000, 1, 31)
&gt;&gt;&gt;
</code></pre>
"
42,42950,32,306,python,Get Last Day of the Month in Python,"<p>Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month?</p>

<p>If the standard library doesn't support that, does the dateutil package support this?</p>
","<p>EDIT: see my other answer. It has a better implementation than this one, which I leave here just in case someone's interested in seeing how one might ""roll your own"" calculator.</p>

<p>@<a href=""#42997"">John Millikin</a> gives a good answer, with the added complication of calculating the first day of the next month.</p>

<p>The following isn't particularly elegant, but to figure out the last day of the month that any given date lives in, you could try:</p>

<pre><code>def last_day_of_month(date):
    if date.month == 12:
        return date.replace(day=31)
    return date.replace(month=date.month+1, day=1) - datetime.timedelta(days=1)

&gt;&gt;&gt; last_day_of_month(datetime.date(2002, 1, 17))
datetime.date(2002, 1, 31)
&gt;&gt;&gt; last_day_of_month(datetime.date(2002, 12, 9))
datetime.date(2002, 12, 31)
&gt;&gt;&gt; last_day_of_month(datetime.date(2008, 2, 14))
datetime.date(2008, 2, 29)
</code></pre>
"
44,42950,10,306,python,Get Last Day of the Month in Python,"<p>Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month?</p>

<p>If the standard library doesn't support that, does the dateutil package support this?</p>
","<p>Another solution would be to do something like this: </p>

<pre><code>from datetime import datetime

def last_day_of_month(year, month):
    """""" Work out the last day of the month """"""
    last_days = [31, 30, 29, 28, 27]
    for i in last_days:
        try:
            end = datetime(year, month, i)
        except ValueError:
            continue
        else:
            return end.date()
    return None
</code></pre>

<p>And use the function like this:</p>

<pre><code>&gt;&gt;&gt; 
&gt;&gt;&gt; last_day_of_month(2008, 2)
datetime.date(2008, 2, 29)
&gt;&gt;&gt; last_day_of_month(2009, 2)
datetime.date(2009, 2, 28)
&gt;&gt;&gt; last_day_of_month(2008, 11)
datetime.date(2008, 11, 30)
&gt;&gt;&gt; last_day_of_month(2008, 12)
datetime.date(2008, 12, 31)
</code></pre>
"
966,472000,105,306,python,Usage of __slots__?,"<p>What is the purpose of <a href=""https://docs.python.org/3/reference/datamodel.html#slots""><code>__slots__</code></a> in Python â especially with respect to when would I want to use it and when not?</p>
","<p>You would want to use <code>__slots__</code> if you are going to instantiate a lot (hundreds, thousands) of objects of the same class. <code>__slots__</code> only exists as a memory optimization tool.</p>

<p>It's highly discouraged to use <code>__slots__</code> for constraining attribute creation, and in general you want to avoid it because it breaks pickle, along with some other introspection features of python.</p>
"
967,472000,243,306,python,Usage of __slots__?,"<p>What is the purpose of <a href=""https://docs.python.org/3/reference/datamodel.html#slots""><code>__slots__</code></a> in Python â especially with respect to when would I want to use it and when not?</p>
","<p>Quoting <a href=""http://code.activestate.com/lists/python-list/531365/"">Jacob Hallen</a>:</p>

<blockquote>
  <p>The proper use of <code>__slots__</code> is to save space in objects. Instead of having
  a dynamic dict that allows adding attributes to objects at anytime,
  there is a static structure which does not allow additions after creation.
  This saves the overhead of one dict for every object that uses slots. While this is sometimes a useful optimization, it would be completely
  unnecessary if the Python interpreter was dynamic enough so that it would
  only require the dict when there actually were additions to the object.</p>
  
  <p>Unfortunately there is a side effect to slots. They change the behavior of
  the objects that have slots in a way that can be abused by control freaks
  and static typing weenies. This is bad, because the control freaks should
  be abusing the metaclasses and the static typing weenies should be abusing
  decorators, since in Python, there should be only one obvious way of doing something.</p>
  
  <p>Making CPython smart enough to handle saving space without <code>__slots__</code> is a major
  undertaking, which is probably why it is not on the list of changes for P3k (yet).</p>
</blockquote>
"
43,42950,552,306,python,Get Last Day of the Month in Python,"<p>Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month?</p>

<p>If the standard library doesn't support that, does the dateutil package support this?</p>
","<p>I didn't notice this earlier when I was looking at the <a href=""https://docs.python.org/2/library/calendar.html"">documentation for the calendar module</a>, but a method called <a href=""http://docs.python.org/library/calendar.html#calendar.monthrange"">monthrange</a> provides this information:</p>

<blockquote>
  <p><b>monthrange(year, month)</b><br>
  &nbsp;&nbsp;&nbsp;&nbsp;Returns weekday of first day of the month and number of days in month, for the specified year and month. </p>
</blockquote>

<pre><code>&gt;&gt;&gt; import calendar
&gt;&gt;&gt; calendar.monthrange(2002,1)
(1, 31)
&gt;&gt;&gt; calendar.monthrange(2008,2)
(4, 29)
&gt;&gt;&gt; calendar.monthrange(2100,2)
(0, 28)
</code></pre>

<p>so:</p>

<pre><code>calendar.monthrange(year, month)[1]
</code></pre>

<p>seems like the simplest way to go.</p>

<p>Just to be clear, <code>monthrange</code> supports leap years as well:</p>

<pre><code>&gt;&gt;&gt; from calendar import monthrange
&gt;&gt;&gt; monthrange(2012, 2)
(2, 29)
</code></pre>

<p><a href=""http://stackoverflow.com/questions/42950/get-last-day-of-the-month-in-python#43088"">My previous answer</a> still works, but is clearly suboptimal.</p>
"
968,472000,2,306,python,Usage of __slots__?,"<p>What is the purpose of <a href=""https://docs.python.org/3/reference/datamodel.html#slots""><code>__slots__</code></a> in Python â especially with respect to when would I want to use it and when not?</p>
","<p>You have â essentially â no use for <code>__slots__</code>.  </p>

<p>For the time when you think you might need <code>__slots__</code>, you actually want to use <strong>Lightweight</strong> or <strong>Flyweight</strong> design patterns. These are cases when you no longer want to use purely Python objects. Instead, you want a Python object-like wrapper around an array, struct, or numpy array.</p>

<pre><code>class Flyweight(object):

    def get(self, theData, index):
        return theData[index]

    def set(self, theData, index, value):
        theData[index]= value
</code></pre>

<p>The class-like wrapper has no attributes â it just provides methods that act on the underlying data. The methods can be reduced to class methods. Indeed, it could be reduced to just functions operating on the underlying array of data.</p>
"
969,472000,48,306,python,Usage of __slots__?,"<p>What is the purpose of <a href=""https://docs.python.org/3/reference/datamodel.html#slots""><code>__slots__</code></a> in Python â especially with respect to when would I want to use it and when not?</p>
","<p>Each python object has a <code>__dict__</code> atttribute which is a dictionary containing all other attributes. e.g. when you type <code>self.attr</code> python is actually doing <code>self.__dict__['attr']</code>. As you can imagine using a dictionary to store attribute takes some extra space &amp; time for accessing it.</p>

<p>However, when you use <code>__slots__</code>, any object created for that class won't have a <code>__dict__</code> attribute. Instead, all attribute access is done directly via pointers.</p>

<p>So if want a C style structure rather than a full fledged class you can use <code>__slots__</code> for compacting size of the objects &amp; reducing attribute access time. A good example is a Point class containing attributes x &amp; y. If you are going to have a lot of points, you can try using <code>__slots__</code> in order to conserve some memory.</p>
"
542,265960,16,282,python,Best way to strip punctuation from a string in Python,"<p>It seems like there should be a simpler way than:</p>

<pre><code>import string
s = ""string. With. Punctuation?"" # Sample string 
out = s.translate(string.maketrans("""",""""), string.punctuation)
</code></pre>

<p>Is there?</p>
","<p>Not necessarily simpler, but a different way, if you are more familiar with the re family. </p>

<pre><code>import re, string
s = ""string. With. Punctuation?"" # Sample string 
out = re.sub('[%s]' % re.escape(string.punctuation), '', s)
</code></pre>
"
544,265960,20,282,python,Best way to strip punctuation from a string in Python,"<p>It seems like there should be a simpler way than:</p>

<pre><code>import string
s = ""string. With. Punctuation?"" # Sample string 
out = s.translate(string.maketrans("""",""""), string.punctuation)
</code></pre>

<p>Is there?</p>
","<p>I usually use something like this:</p>

<pre><code>&gt;&gt;&gt; s = ""string. With. Punctuation?"" # Sample string
&gt;&gt;&gt; import string
&gt;&gt;&gt; for c in string.punctuation:
...     s= s.replace(c,"""")
...
&gt;&gt;&gt; s
'string With Punctuation'
</code></pre>
"
545,265960,383,282,python,Best way to strip punctuation from a string in Python,"<p>It seems like there should be a simpler way than:</p>

<pre><code>import string
s = ""string. With. Punctuation?"" # Sample string 
out = s.translate(string.maketrans("""",""""), string.punctuation)
</code></pre>

<p>Is there?</p>
","<p>From an efficiency perspective, you're not going to beat translate() - it's performing raw string operations in C with a lookup table - there's not much that will beat that but writing your own C code.
If speed isn't a worry, another option though is:</p>

<pre><code>exclude = set(string.punctuation)
s = ''.join(ch for ch in s if ch not in exclude)
</code></pre>

<p>This is faster than s.replace with each char, but won't perform as well as non-pure python approaches such as regexes or string.translate, as you can see from the below timings.  For this type of problem, doing it at as low a level as possible pays off.</p>

<p>Timing code:</p>

<pre><code>import re, string, timeit

s = ""string. With. Punctuation""
exclude = set(string.punctuation)
table = string.maketrans("""","""")
regex = re.compile('[%s]' % re.escape(string.punctuation))

def test_set(s):
    return ''.join(ch for ch in s if ch not in exclude)

def test_re(s):  # From Vinko's solution, with fix.
    return regex.sub('', s)

def test_trans(s):
    return s.translate(table, string.punctuation)

def test_repl(s):  # From S.Lott's solution
    for c in string.punctuation:
        s=s.replace(c,"""")
    return s

print ""sets      :"",timeit.Timer('f(s)', 'from __main__ import s,test_set as f').timeit(1000000)
print ""regex     :"",timeit.Timer('f(s)', 'from __main__ import s,test_re as f').timeit(1000000)
print ""translate :"",timeit.Timer('f(s)', 'from __main__ import s,test_trans as f').timeit(1000000)
print ""replace   :"",timeit.Timer('f(s)', 'from __main__ import s,test_repl as f').timeit(1000000)
</code></pre>

<p>This gives the following results:</p>

<pre><code>sets      : 19.8566138744
regex     : 6.86155414581
translate : 2.12455511093
replace   : 28.4436721802
</code></pre>
"
543,265960,0,282,python,Best way to strip punctuation from a string in Python,"<p>It seems like there should be a simpler way than:</p>

<pre><code>import string
s = ""string. With. Punctuation?"" # Sample string 
out = s.translate(string.maketrans("""",""""), string.punctuation)
</code></pre>

<p>Is there?</p>
","<p>Do search and replace using the regex functions, as seen <a href=""http://www.amk.ca/python/howto/regex/regex.html#SECTION000620000000000000000"" rel=""nofollow"">here.</a>. If you have to repeatedly perform the operation, you can keep a compiled copy of the regex pattern (your punctuation) around, which will speed things up a bit.</p>
"
195,104420,2,271,python,How to generate all permutations of a list in Python,"<p>How do you generate all the permutations of a list in Python, independently of the type of elements in that list?</p>

<p>For example:</p>

<pre><code>permutations([])
[]

permutations([1])
[1]

permutations([1, 2])
[1, 2]
[2, 1]

permutations([1, 2, 3])
[1, 2, 3]
[1, 3, 2]
[2, 1, 3]
[2, 3, 1]
[3, 1, 2]
[3, 2, 1]
</code></pre>

<p>EDIT:
Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the <strong>itertools</strong> module:</p>

<pre><code>import itertools
itertools.permutations([1, 2, 3])
</code></pre>
","<p>Forgive my python illiteracy as I won't be offering the solution in python.
As I do not know what method python 2.6 uses to generate the permutations and eliben's one looks like Johnson-Trotter permutation generation, you might look for article
in Wikipedia on <a href=""http://en.wikipedia.org/wiki/Permutation#Algorithms_to_generate_permutations"" rel=""nofollow"">Permutations and their generation</a> that looks quite like unrank function in <a href=""http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.43.4521"" rel=""nofollow"">paper by Myrvold and Ruskey</a>.</p>

<p>It would seem to me that this could be used in a generator in the same way as in other replies to lessen the memory requirement considerably. Just remember that the permutations will not be in lexicographic order.</p>
"
892,449560,316,271,python,How do I determine the size of an object in Python?,"<p>In C, we can find the size of an <code>int</code>, <code>char</code>, etc. I want to know how to get size of objects like a string, integer, etc. in Python.</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/135664/how-many-bytes-per-element-are-there-in-a-python-list-tuple"">How many bytes per element are there in a Python list (tuple)?</a></p>

<p>I am using an XML file which contains size fields that specify the size of value. I must parse this XML and do my coding. When I want to change the value of a particular field, I will check the size field of that value. Here I want to compare whether the new value that I'm gong to enter is of the same size as in XML. I need to check the size of new value. In case of a string I can say its the length. But in case of int, float, etc. I am confused.</p>
","<p>Just use the <a href=""http://docs.python.org/library/sys.html#sys.getsizeof"">sys.getsizeof</a> function defined in the <code>sys</code> module.</p>

<blockquote>
  <p><code>sys.getsizeof(object[, default])</code>:</p>
  
  <p>Return the size of an object in bytes.
  The object can be any type of object.
  All built-in objects will return
  correct results, but this does not
  have to hold true for third-party
  extensions as it is implementation
  specific.</p>
  
  <p>The <code>default</code> argument allows to define
  a value which will be returned if the
  object type does not provide means to
  retrieve the size and would cause a
  <code>TypeError</code>.</p>
  
  <p><code>getsizeof</code> calls the objectâs
  <code>__sizeof__</code> method and adds an additional garbage collector overhead
  if the object is managed by the
  garbage collector.</p>
</blockquote>

<p>Usage example, in python 3.0:</p>

<pre><code>&gt;&gt;&gt; import sys
&gt;&gt;&gt; x = 2
&gt;&gt;&gt; sys.getsizeof(x)
14
&gt;&gt;&gt; sys.getsizeof(sys.getsizeof)
32
&gt;&gt;&gt; sys.getsizeof('this')
38
&gt;&gt;&gt; sys.getsizeof('this also')
48
</code></pre>

<p>If you are in python &lt; 2.6 and don't have <code>sys.getsizeof</code> you can use <a href=""http://code.activestate.com/recipes/546530/"">this extensive module</a> instead. Never used it though.</p>
"
192,104420,15,271,python,How to generate all permutations of a list in Python,"<p>How do you generate all the permutations of a list in Python, independently of the type of elements in that list?</p>

<p>For example:</p>

<pre><code>permutations([])
[]

permutations([1])
[1]

permutations([1, 2])
[1, 2]
[2, 1]

permutations([1, 2, 3])
[1, 2, 3]
[1, 3, 2]
[2, 1, 3]
[2, 3, 1]
[3, 1, 2]
[3, 2, 1]
</code></pre>

<p>EDIT:
Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the <strong>itertools</strong> module:</p>

<pre><code>import itertools
itertools.permutations([1, 2, 3])
</code></pre>
","<p>This solution implements a generator, to avoid holding all the permutations on memory:</p>

<pre><code>def permutations (orig_list):
    if not isinstance(orig_list, list):
        orig_list = list(orig_list)

    yield orig_list

    if len(orig_list) == 1:
        return

    for n in sorted(orig_list):
        new_list = orig_list[:]
        pos = new_list.index(n)
        del(new_list[pos])
        new_list.insert(0, n)
        for resto in permutations(new_list[1:]):
            if new_list[:1] + resto &lt;&gt; orig_list:
                yield new_list[:1] + resto
</code></pre>
"
193,104420,190,271,python,How to generate all permutations of a list in Python,"<p>How do you generate all the permutations of a list in Python, independently of the type of elements in that list?</p>

<p>For example:</p>

<pre><code>permutations([])
[]

permutations([1])
[1]

permutations([1, 2])
[1, 2]
[2, 1]

permutations([1, 2, 3])
[1, 2, 3]
[1, 3, 2]
[2, 1, 3]
[2, 3, 1]
[3, 1, 2]
[3, 2, 1]
</code></pre>

<p>EDIT:
Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the <strong>itertools</strong> module:</p>

<pre><code>import itertools
itertools.permutations([1, 2, 3])
</code></pre>
","<p><strong>Starting with Python 2.6</strong> (and if you're on Python 3) you have a <strong>standard-library</strong> tool for this: <a href=""https://docs.python.org/2/library/itertools.html#itertools.permutations""><code>itertools.permutations</code></a>.</p>

<hr>

<p>If you're using an <strong>older Python (&lt;2.6)</strong> for some reason or are just curious to know how it works, here's one nice approach, taken from  <a href=""http://code.activestate.com/recipes/252178/"">http://code.activestate.com/recipes/252178/</a>:</p>

<pre><code>def all_perms(elements):
    if len(elements) &lt;=1:
        yield elements
    else:
        for perm in all_perms(elements[1:]):
            for i in range(len(elements)):
                # nb elements[0:1] works in both string and list contexts
                yield perm[:i] + elements[0:1] + perm[i:]
</code></pre>

<p>A couple of alternative approaches are listed in the documentation of <code>itertools.permutations</code>. Here's one:</p>

<pre><code>def permutations(iterable, r=None):
    # permutations('ABCD', 2) --&gt; AB AC AD BA BC BD CA CB CD DA DB DC
    # permutations(range(3)) --&gt; 012 021 102 120 201 210
    pool = tuple(iterable)
    n = len(pool)
    r = n if r is None else r
    if r &gt; n:
        return
    indices = range(n)
    cycles = range(n, n-r, -1)
    yield tuple(pool[i] for i in indices[:r])
    while n:
        for i in reversed(range(r)):
            cycles[i] -= 1
            if cycles[i] == 0:
                indices[i:] = indices[i+1:] + indices[i:i+1]
                cycles[i] = n - i
            else:
                j = cycles[i]
                indices[i], indices[-j] = indices[-j], indices[i]
                yield tuple(pool[i] for i in indices[:r])
                break
        else:
            return
</code></pre>

<p>And another, based on <code>itertools.product</code>:</p>

<pre><code>def permutations(iterable, r=None):
    pool = tuple(iterable)
    n = len(pool)
    r = n if r is None else r
    for indices in product(range(n), repeat=r):
        if len(set(indices)) == r:
            yield tuple(pool[i] for i in indices)
</code></pre>
"
194,104420,255,271,python,How to generate all permutations of a list in Python,"<p>How do you generate all the permutations of a list in Python, independently of the type of elements in that list?</p>

<p>For example:</p>

<pre><code>permutations([])
[]

permutations([1])
[1]

permutations([1, 2])
[1, 2]
[2, 1]

permutations([1, 2, 3])
[1, 2, 3]
[1, 3, 2]
[2, 1, 3]
[2, 3, 1]
[3, 1, 2]
[3, 2, 1]
</code></pre>

<p>EDIT:
Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the <strong>itertools</strong> module:</p>

<pre><code>import itertools
itertools.permutations([1, 2, 3])
</code></pre>
","<p>And in <a href=""http://docs.python.org/dev/whatsnew/2.6.html"">Python 2.6</a> onwards:</p>

<pre><code>import itertools
itertools.permutations([1,2,3])
</code></pre>

<p>(returned as a generator.  Use <code>list(permutations(l))</code> to return as a list.)</p>
"
196,104420,10,271,python,How to generate all permutations of a list in Python,"<p>How do you generate all the permutations of a list in Python, independently of the type of elements in that list?</p>

<p>For example:</p>

<pre><code>permutations([])
[]

permutations([1])
[1]

permutations([1, 2])
[1, 2]
[2, 1]

permutations([1, 2, 3])
[1, 2, 3]
[1, 3, 2]
[2, 1, 3]
[2, 3, 1]
[3, 1, 2]
[3, 2, 1]
</code></pre>

<p>EDIT:
Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the <strong>itertools</strong> module:</p>

<pre><code>import itertools
itertools.permutations([1, 2, 3])
</code></pre>
","<p>The following code is an in-place permutation of a given list, implemented as a generator. Since it only returns references to the list, the list should not be modified outside the generator.
The solution is non-recursive, so uses low memory. Work well also with multiple copies of elements in the input list.</p>

<pre><code>def permute_in_place(a):
    a.sort()
    yield list(a)

    if len(a) &lt;= 1:
        return

    first = 0
    last = len(a)
    while 1:
        i = last - 1

        while 1:
            i = i - 1
            if a[i] &lt; a[i+1]:
                j = last - 1
                while not (a[i] &lt; a[j]):
                    j = j - 1
                a[i], a[j] = a[j], a[i] # swap the values
                r = a[i+1:last]
                r.reverse()
                a[i+1:last] = r
                yield list(a)
                break
            if i == first:
                a.reverse()
                return

if __name__ == '__main__':
    for n in range(5):
        for a in permute_in_place(range(1, n+1)):
            print a
        print

    for a in permute_in_place([0, 0, 1, 1, 1]):
        print a
    print
</code></pre>
"
197,104420,177,271,python,How to generate all permutations of a list in Python,"<p>How do you generate all the permutations of a list in Python, independently of the type of elements in that list?</p>

<p>For example:</p>

<pre><code>permutations([])
[]

permutations([1])
[1]

permutations([1, 2])
[1, 2]
[2, 1]

permutations([1, 2, 3])
[1, 2, 3]
[1, 3, 2]
[2, 1, 3]
[2, 3, 1]
[3, 1, 2]
[3, 2, 1]
</code></pre>

<p>EDIT:
Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the <strong>itertools</strong> module:</p>

<pre><code>import itertools
itertools.permutations([1, 2, 3])
</code></pre>
","<p><em>The following code with Python 2.6 and above ONLY</em></p>

<p>First, import <code>itertools</code>:</p>

<pre><code>import itertools
</code></pre>

<h3>Permutation (order matters):</h3>

<pre><code>print list(itertools.permutations([1,2,3,4], 2))
[(1, 2), (1, 3), (1, 4),
(2, 1), (2, 3), (2, 4),
(3, 1), (3, 2), (3, 4),
(4, 1), (4, 2), (4, 3)]
</code></pre>

<h3>Combination (order does NOT matter):</h3>

<pre><code>print list(itertools.combinations('123', 2))
[('1', '2'), ('1', '3'), ('2', '3')]
</code></pre>

<h3>Cartesian product (with several iterables):</h3>

<pre><code>print list(itertools.product([1,2,3], [4,5,6]))
[(1, 4), (1, 5), (1, 6),
(2, 4), (2, 5), (2, 6),
(3, 4), (3, 5), (3, 6)]
</code></pre>

<h3>Cartesian product (with one iterable and itself):</h3>

<pre><code>print list(itertools.product([1,2], repeat=3))
[(1, 1, 1), (1, 1, 2), (1, 2, 1), (1, 2, 2),
(2, 1, 1), (2, 1, 2), (2, 2, 1), (2, 2, 2)]
</code></pre>
"
893,449560,11,271,python,How do I determine the size of an object in Python?,"<p>In C, we can find the size of an <code>int</code>, <code>char</code>, etc. I want to know how to get size of objects like a string, integer, etc. in Python.</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/135664/how-many-bytes-per-element-are-there-in-a-python-list-tuple"">How many bytes per element are there in a Python list (tuple)?</a></p>

<p>I am using an XML file which contains size fields that specify the size of value. I must parse this XML and do my coding. When I want to change the value of a particular field, I will check the size field of that value. Here I want to compare whether the new value that I'm gong to enter is of the same size as in XML. I need to check the size of new value. In case of a string I can say its the length. But in case of int, float, etc. I am confused.</p>
","<p>This can be more complicated than it looks depending on how you want to count things.  For instance, if you have a list of ints, do you want the size of the list containing the <em>references</em> to the ints? (ie. list only, not what is contained in it), or do you want to include the actual data pointed to, in which case you need to deal with duplicate references, and how to prevent double-counting when two objects contain references to the same object. </p>

<p>You may want to take a look at one of the python memory profilers, such as <a href=""http://pysizer.8325.org/"">pysizer</a> to see if they meet your needs.</p>
"
891,449560,2,271,python,How do I determine the size of an object in Python?,"<p>In C, we can find the size of an <code>int</code>, <code>char</code>, etc. I want to know how to get size of objects like a string, integer, etc. in Python.</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/135664/how-many-bytes-per-element-are-there-in-a-python-list-tuple"">How many bytes per element are there in a Python list (tuple)?</a></p>

<p>I am using an XML file which contains size fields that specify the size of value. I must parse this XML and do my coding. When I want to change the value of a particular field, I will check the size field of that value. Here I want to compare whether the new value that I'm gong to enter is of the same size as in XML. I need to check the size of new value. In case of a string I can say its the length. But in case of int, float, etc. I am confused.</p>
","<p>First: an answer.</p>

<pre><code>import sys

try: print sys.getsizeof(object)
except AttributeError:
    print ""sys.getsizeof exists in Python â¥2.6""
</code></pre>

<p>Discussion:<br />
In Python, you cannot ever access ""direct"" memory addresses.  Why, then, would you need or want to know how many such addresses are occupied by a given object??  It's a question that's entirely inappropriate at that level of abstraction.  When you're painting your house, you don't ask what frequencies of light are absorbed or reflected by each of the constituent atoms within the paint, you just ask what color it is -- the details of the physical characteristics that create that color are beside the point.  Similarly, the number of bytes of memory that a given Python object occupies is beside the point.</p>

<p>So, why are you trying to use Python to write C code? :)</p>
"
261,145270,2,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p>One of the official Python documents contains details on <a href=""https://docs.python.org/3.6/extending/"" rel=""nofollow"">extending Python using C/C++</a>.
Even without the use of <a href=""http://www.swig.org/"" rel=""nofollow"">SWIG</a>, itâs quite straightforward and works perfectly well on Windows.</p>
"
258,145270,23,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p>The quickest way to do this is using <a href=""http://www.swig.org/"">SWIG</a>.</p>

<p>Example from SWIG <a href=""http://www.swig.org/tutorial.html"">tutorial</a>:</p>

<pre><code>/* File : example.c */
int fact(int n) {
    if (n &lt;= 1) return 1;
    else return n*fact(n-1);
}
</code></pre>

<p>Interface file:</p>

<pre><code>/* example.i */
%module example
%{
/* Put header files here or function declarations like below */
extern int fact(int n);
%}

extern int fact(int n);
</code></pre>

<p>Building a Python module on Unix:</p>

<pre><code>swig -python example.i
gcc -fPIC -c example.c example_wrap.c -I/usr/local/include/python2.7
gcc -shared example.o example_wrap.o -o _example.so
</code></pre>

<p>Usage:</p>

<pre><code>&gt;&gt;&gt; import example
&gt;&gt;&gt; example.fact(5)
120
</code></pre>

<p>Note that you have to have python-dev. Also in some systems python header files will be in /usr/include/python2.7 based on the way you have installed it.</p>

<p>From the tutorial:</p>

<blockquote>
  <p>SWIG is a fairly complete C++ compiler with support for nearly every language feature. This includes preprocessing, pointers, classes, inheritance, and even C++ templates. SWIG can also be used to package structures and classes into proxy classes in the target language â exposing the underlying functionality in a very natural manner.</p>
</blockquote>
"
259,145270,12,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p>Iâve never used it but Iâve heard good things about <a href=""https://docs.python.org/3.6/library/ctypes.html"">ctypes</a>. If youâre trying to use it with C++, be sure to evade name mangling via <a href=""http://stackoverflow.com/q/1041866/2157640""><code>extern ""C""</code></a>. <em>Thanks for the comment, Florian BÃ¶sch.</em></p>
"
354,181530,296,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>You don't need to use 4 spaces on your second conditional line.  Maybe use:</p>

<pre><code>if (cond1 == 'val1' and cond2 == 'val2' and 
       cond3 == 'val3' and cond4 == 'val4'):
    do_something
</code></pre>

<p>Also, don't forget the whitespace is more flexible than you might think:</p>

<pre><code>if (   
       cond1 == 'val1' and cond2 == 'val2' and 
       cond3 == 'val3' and cond4 == 'val4'
   ):
    do_something
if    (cond1 == 'val1' and cond2 == 'val2' and 
       cond3 == 'val3' and cond4 == 'val4'):
    do_something
</code></pre>

<p>Both of those are fairly ugly though.</p>

<p>Maybe lose the brackets (the <a href=""https://www.python.org/dev/peps/pep-0008/#multiline-if-statements"">Style Guide</a> discourages this though)?</p>

<pre><code>if cond1 == 'val1' and cond2 == 'val2' and \
   cond3 == 'val3' and cond4 == 'val4':
    do_something
</code></pre>

<p>This at least gives you some differentiation.</p>

<p>Or even:</p>

<pre><code>if cond1 == 'val1' and cond2 == 'val2' and \
                       cond3 == 'val3' and \
                       cond4 == 'val4':
    do_something
</code></pre>

<p>I think I prefer:</p>

<pre><code>if cond1 == 'val1' and \
   cond2 == 'val2' and \
   cond3 == 'val3' and \
   cond4 == 'val4':
    do_something
</code></pre>

<p>Here's the <a href=""https://www.python.org/dev/peps/pep-0008/#multiline-if-statements"">Style Guide</a>, which (since 2010) recommends using brackets.</p>
"
260,145270,9,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p><a href=""http://openwetware.org/wiki/Julius_B._Lucks/Projects/Python_All_A_Scientist_Needs"">This paper, claiming python to be all a scientist needs,</a> basically says: first prototype everything in Python. Then when you need to speed a part up, use SWIG and translate this part to C.</p>
"
356,181530,11,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>I prefer this style when I have a terribly large if-condition:</p>

<pre><code>if (
  expr1
  and (expr2 or expr3)
  and hasattr(thingy1, '__eq__')
  or status==""HappyTimes""
):
  do_stuff()
else:
  do_other_stuff()
</code></pre>
"
355,181530,13,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>I suggest moving the <code>and</code> keyword to the second line and indenting all lines containing conditions with two spaces instead of four:</p>

<pre><code>if (cond1 == 'val1' and cond2 == 'val2'
  and cond3 == 'val3' and cond4 == 'val4'):
    do_something
</code></pre>

<p>This is exactly how I solve this problem in my code. Having a keyword as the first word in the line makes the condition a lot more readable, and reducing the number of spaces further distinguishes condition from action.</p>
"
357,181530,61,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>I've resorted to the following in the degenerate case where it's simply AND's or OR's.</p>

<pre><code>if all( [cond1 == 'val1', cond2 == 'val2', cond3 == 'val3', cond4 == 'val4'] ):

if any( [cond1 == 'val1', cond2 == 'val2', cond3 == 'val3', cond4 == 'val4'] ):
</code></pre>

<p>It shaves a few characters and makes it clear that there's no subtlety to the condition.</p>
"
358,181530,2,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>""all"" and ""any"" are nice for the many conditions of same type case. BUT they always evaluates all conditions. As shown in this example:</p>

<pre><code>def c1():
    print "" Executed c1""
    return False
def c2():
    print "" Executed c2""
    return False


print ""simple and (aborts early!)""
if c1() and c2():
    pass

print

print ""all (executes all :( )""
if all((c1(),c2())):
    pass

print
</code></pre>
"
359,181530,27,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p><em>Someone</em> has to champion use of vertical whitespace here! :)</p>

<pre><code>if (     cond1 == val1
     and cond2 == val2
     and cond3 == val3
   ):
    do_stuff()
</code></pre>

<p>This makes each condition clearly visible. It also allows cleaner expression of more complex conditions:</p>

<pre><code>if (    cond1 == val1
     or 
        (     cond2_1 == val2_1
          and cond2_2 &gt;= val2_2
          and cond2_3 != bad2_3
        )
   ):
    do_more_stuff()
</code></pre>

<p>Yes, we're trading off a bit of vertical real estate for clarity. Well worth it IMO.</p>
"
360,181530,1,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>Just a few other random ideas for completeness's sake.  If they work for you, use them.  Otherwise, you're probably better off trying something else.</p>

<p>You could also do this with a dictionary:</p>

<pre><code>&gt;&gt;&gt; x = {'cond1' : 'val1', 'cond2' : 'val2'}
&gt;&gt;&gt; y = {'cond1' : 'val1', 'cond2' : 'val2'}
&gt;&gt;&gt; x == y
True
</code></pre>

<p>This option is more complicated, but you may also find it useful:</p>

<pre><code>class Klass(object):
    def __init__(self, some_vars):
        #initialize conditions here
    def __nonzero__(self):
        return (self.cond1 == 'val1' and self.cond2 == 'val2' and
                self.cond3 == 'val3' and self.cond4 == 'val4')

foo = Klass()
if foo:
    print ""foo is true!""
else:
    print ""foo is false!""
</code></pre>

<p>Dunno if that works for you, but it's another option to consider.  Here's one more way:</p>

<pre><code>class Klass(object):
    def __init__(self):
        #initialize conditions here
    def __eq__(self):
        return (self.cond1 == 'val1' and self.cond2 == 'val2' and
               self.cond3 == 'val3' and self.cond4 == 'val4')

x = Klass(some_values)
y = Klass(some_other_values)
if x == y:
    print 'x == y'
else:
    print 'x!=y'
</code></pre>

<p>The last two I haven't tested, but the concepts should be enough to get you going if that's what you want to go with.</p>

<p>(And for the record, if this is just a one time thing, you're probably just better off using the method you presented at first.  If you're doing the comparison in lots of places, these methods may enhance readability enough to make you not feel so bad about the fact that they are kind of hacky.)</p>
"
361,181530,2,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>What if we only insert an additional blank line between the condition and the body and do the rest in the canonical way?</p>

<pre><code>if (cond1 == 'val1' and cond2 == 'val2' and
    cond3 == 'val3' and cond4 == 'val4'):

    do_something
</code></pre>

<p>p.s. I always use tabs, not spaces; I cannot fine-tune...</p>
"
262,145270,16,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p>Check out <a href=""http://www.cosc.canterbury.ac.nz/greg.ewing/python/Pyrex/"">pyrex</a> or <a href=""http://cython.org/"">cython</a>.  They're python-like languages for interfacing between C/C++ and python.</p>
"
263,145270,69,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p>You should have a look at <a href=""http://www.boost.org/doc/libs/1_49_0/libs/python/doc/"">Boost.Python</a>, here is the short introdution taken from their website:</p>

<blockquote>
  <p>The Boost Python Library is a framework for interfacing Python and
  C++. It allows you to quickly and seamlessly expose C++ classes
  functions and objects to Python, and vice-versa, using no special
  tools -- just your C++ compiler. It is designed to wrap C++ interfaces
  non-intrusively, so that you should not have to change the C++ code at
  all in order to wrap it, making Boost.Python ideal for exposing
  3rd-party libraries to Python. The library's use of advanced
  metaprogramming techniques simplifies its syntax for users, so that
  wrapping code takes on the look of a kind of declarative interface
  definition language (IDL).</p>
</blockquote>
"
353,181530,11,270,python,Python style: multiple-line conditions in IFs,"<p>Sometimes I break long conditions in IFs to several lines. The most obvious way to do this is:</p>

<pre><code>  if (cond1 == 'val1' and cond2 == 'val2' and
      cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>Isn't very very appealing visually, because the action blends with the conditions. However, it is the natural way using correct Python indentation of 4 spaces.</p>

<p>For the moment I'm using:</p>

<pre><code>  if (    cond1 == 'val1' and cond2 == 'val2' and
          cond3 == 'val3' and cond4 == 'val4'):
      do_something
</code></pre>

<p>But this isn't very pretty. :-)</p>

<p>Can you recommend an alternative way ?</p>
","<p>This doesn't improve so much but...</p>

<pre><code>allCondsAreOK = (cond1 == 'val1' and cond2 == 'val2' and
                 cond3 == 'val3' and cond4 == 'val4')

if allCondsAreOK:
   do_something
</code></pre>
"
264,145270,339,270,python,Calling C/C++ from python?,"<p>What would be the quickest way to construct a python binding to a C or C++ library?</p>

<p>(using windows if this matters)</p>
","<p>I like <a href=""http://docs.python.org/2/library/ctypes.html"">ctypes</a> a lot, <a href=""http://www.swig.org/"">swig</a> always tended to give me <a href=""http://groups.google.com/group/comp.lang.python/browse_thread/thread/d94badd9847fe43a?pli=1"">problems</a>. Also ctypes has the advantage that you don't need to satisfy any compile time dependency on python, and your binding will work on any python that has ctypes, not just the one it was compiled against.</p>

<p>Suppose you have a simple C++ example class you want to talk to in a file called foo.cpp:</p>

<pre><code>#include &lt;iostream&gt;

class Foo{
    public:
        void bar(){
            std::cout &lt;&lt; ""Hello"" &lt;&lt; std::endl;
        }
};
</code></pre>

<p>Since ctypes can only talk to C functions, you need to provide those declaring them as extern ""C""</p>

<pre><code>extern ""C"" {
    Foo* Foo_new(){ return new Foo(); }
    void Foo_bar(Foo* foo){ foo-&gt;bar(); }
}
</code></pre>

<p>Next you have to compile this to a shared library</p>

<pre><code>g++ -c -fPIC foo.cpp -o foo.o
g++ -shared -Wl,-soname,libfoo.so -o libfoo.so  foo.o
</code></pre>

<p>And finally you have to write your python wrapper (e.g. in fooWrapper.py)</p>

<pre><code>from ctypes import cdll
lib = cdll.LoadLibrary('./libfoo.so')

class Foo(object):
    def __init__(self):
        self.obj = lib.Foo_new()

    def bar(self):
        lib.Foo_bar(self.obj)
</code></pre>

<p>Once you have that you can call it like</p>

<pre><code>f = Foo()
f.bar() #and you will see ""Hello"" on the screen
</code></pre>
"
764,390250,1,222,python,"Elegant ways to support equivalence (""equality"") in Python classes","<p>When writing custom classes it is often important to allow equivalence by means of the <code>==</code> and <code>!=</code> operators. In Python, this is made possible by implementing the <code>__eq__</code> and <code>__ne__</code> special methods, respectively. The easiest way I've found to do this is the following method:</p>

<pre><code>class Foo:
    def __init__(self, item):
        self.item = item

    def __eq__(self, other):
        if isinstance(other, self.__class__):
            return self.__dict__ == other.__dict__
        else:
            return False

    def __ne__(self, other):
        return not self.__eq__(other)
</code></pre>

<p>Do you know of more elegant means of doing this? Do you know of any particular disadvantages to using the above method of comparing <code>__dict__</code>s?</p>

<p><strong>Note</strong>: A bit of clarification--when <code>__eq__</code> and <code>__ne__</code> are undefined, you'll find this behavior:</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
False
</code></pre>

<p>That is, <code>a == b</code> evaluates to <code>False</code> because it really runs <code>a is b</code>, a test of identity (i.e., ""Is <code>a</code> the same object as <code>b</code>?"").</p>

<p>When <code>__eq__</code> and <code>__ne__</code> are defined, you'll find this behavior (which is the one we're after):</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
True
</code></pre>
","<p>The 'is' test will test for identity using the builtin 'id()' function which essentially returns the memory address of the object and therefore isn't overloadable.</p>

<p>However in the case of testing the equality of a class you probably want to be a little bit more strict about your tests and only compare the data attributes in your class:</p>

<pre><code>import types

class ComparesNicely(object):

    def __eq__(self, other):
        for key, value in self.__dict__.iteritems():
            if (isinstance(value, types.FunctionType) or 
                    key.startswith(""__"")):
                continue

            if key not in other.__dict__:
                return False

            if other.__dict__[key] != value:
                return False

         return True
</code></pre>

<p>This code will only compare non function data members of your class as well as skipping anything private which is generally what you want. In the case of Plain Old Python Objects I have a base class which implements __init__, __str__, __repr__ and __eq__ so my POPO objects don't carry the burden of all that extra (and in most cases identical) logic.</p>
"
763,390250,166,222,python,"Elegant ways to support equivalence (""equality"") in Python classes","<p>When writing custom classes it is often important to allow equivalence by means of the <code>==</code> and <code>!=</code> operators. In Python, this is made possible by implementing the <code>__eq__</code> and <code>__ne__</code> special methods, respectively. The easiest way I've found to do this is the following method:</p>

<pre><code>class Foo:
    def __init__(self, item):
        self.item = item

    def __eq__(self, other):
        if isinstance(other, self.__class__):
            return self.__dict__ == other.__dict__
        else:
            return False

    def __ne__(self, other):
        return not self.__eq__(other)
</code></pre>

<p>Do you know of more elegant means of doing this? Do you know of any particular disadvantages to using the above method of comparing <code>__dict__</code>s?</p>

<p><strong>Note</strong>: A bit of clarification--when <code>__eq__</code> and <code>__ne__</code> are undefined, you'll find this behavior:</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
False
</code></pre>

<p>That is, <code>a == b</code> evaluates to <code>False</code> because it really runs <code>a is b</code>, a test of identity (i.e., ""Is <code>a</code> the same object as <code>b</code>?"").</p>

<p>When <code>__eq__</code> and <code>__ne__</code> are defined, you'll find this behavior (which is the one we're after):</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
True
</code></pre>
","<p>You need to be careful with inheritance:</p>

<pre><code>&gt;&gt;&gt; class Foo:
    def __eq__(self, other):
        if isinstance(other, self.__class__):
            return self.__dict__ == other.__dict__
        else:
            return False

&gt;&gt;&gt; class Bar(Foo):pass

&gt;&gt;&gt; b = Bar()
&gt;&gt;&gt; f = Foo()
&gt;&gt;&gt; f == b
True
&gt;&gt;&gt; b == f
False
</code></pre>

<p>Check types more strictly, like this:</p>

<pre><code>def __eq__(self, other):
    if type(other) is type(self):
        return self.__dict__ == other.__dict__
    return False
</code></pre>

<p>Besides that, your approach will work fine, that's what special methods are there for.</p>
"
762,390250,143,222,python,"Elegant ways to support equivalence (""equality"") in Python classes","<p>When writing custom classes it is often important to allow equivalence by means of the <code>==</code> and <code>!=</code> operators. In Python, this is made possible by implementing the <code>__eq__</code> and <code>__ne__</code> special methods, respectively. The easiest way I've found to do this is the following method:</p>

<pre><code>class Foo:
    def __init__(self, item):
        self.item = item

    def __eq__(self, other):
        if isinstance(other, self.__class__):
            return self.__dict__ == other.__dict__
        else:
            return False

    def __ne__(self, other):
        return not self.__eq__(other)
</code></pre>

<p>Do you know of more elegant means of doing this? Do you know of any particular disadvantages to using the above method of comparing <code>__dict__</code>s?</p>

<p><strong>Note</strong>: A bit of clarification--when <code>__eq__</code> and <code>__ne__</code> are undefined, you'll find this behavior:</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
False
</code></pre>

<p>That is, <code>a == b</code> evaluates to <code>False</code> because it really runs <code>a is b</code>, a test of identity (i.e., ""Is <code>a</code> the same object as <code>b</code>?"").</p>

<p>When <code>__eq__</code> and <code>__ne__</code> are defined, you'll find this behavior (which is the one we're after):</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
True
</code></pre>
","<p>The way you describe is the way I've always done it. Since it's totally generic, you can always break that functionality out into a mixin class and inherit it in classes where you want that functionality.</p>

<pre><code>class CommonEqualityMixin(object):

    def __eq__(self, other):
        return (isinstance(other, self.__class__)
            and self.__dict__ == other.__dict__)

    def __ne__(self, other):
        return not self.__eq__(other)

class Foo(CommonEqualityMixin):

    def __init__(self, item):
        self.item = item
</code></pre>
"
760,390250,8,222,python,"Elegant ways to support equivalence (""equality"") in Python classes","<p>When writing custom classes it is often important to allow equivalence by means of the <code>==</code> and <code>!=</code> operators. In Python, this is made possible by implementing the <code>__eq__</code> and <code>__ne__</code> special methods, respectively. The easiest way I've found to do this is the following method:</p>

<pre><code>class Foo:
    def __init__(self, item):
        self.item = item

    def __eq__(self, other):
        if isinstance(other, self.__class__):
            return self.__dict__ == other.__dict__
        else:
            return False

    def __ne__(self, other):
        return not self.__eq__(other)
</code></pre>

<p>Do you know of more elegant means of doing this? Do you know of any particular disadvantages to using the above method of comparing <code>__dict__</code>s?</p>

<p><strong>Note</strong>: A bit of clarification--when <code>__eq__</code> and <code>__ne__</code> are undefined, you'll find this behavior:</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
False
</code></pre>

<p>That is, <code>a == b</code> evaluates to <code>False</code> because it really runs <code>a is b</code>, a test of identity (i.e., ""Is <code>a</code> the same object as <code>b</code>?"").</p>

<p>When <code>__eq__</code> and <code>__ne__</code> are defined, you'll find this behavior (which is the one we're after):</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
True
</code></pre>
","<p>You don't have to override both <code>__eq__</code> and <code>__ne__</code> you can override only <code>__cmp__</code> but this will make an implication on the result of ==, !==, &lt; , > and so on.</p>

<p><code>is</code> tests for object identity. This means a <code>is</code> b will be <code>True</code> in the case when a and b both hold the reference to the same object. In python you always hold a reference to an object in a variable not the actual object, so essentially for a is b to be true the objects in them should be located in the same memory location. How and most importantly why would you go about overriding this behaviour?</p>

<p>Edit: I didn't know <code>__cmp__</code> was removed from python 3 so avoid it.</p>
"
761,390250,2,222,python,"Elegant ways to support equivalence (""equality"") in Python classes","<p>When writing custom classes it is often important to allow equivalence by means of the <code>==</code> and <code>!=</code> operators. In Python, this is made possible by implementing the <code>__eq__</code> and <code>__ne__</code> special methods, respectively. The easiest way I've found to do this is the following method:</p>

<pre><code>class Foo:
    def __init__(self, item):
        self.item = item

    def __eq__(self, other):
        if isinstance(other, self.__class__):
            return self.__dict__ == other.__dict__
        else:
            return False

    def __ne__(self, other):
        return not self.__eq__(other)
</code></pre>

<p>Do you know of more elegant means of doing this? Do you know of any particular disadvantages to using the above method of comparing <code>__dict__</code>s?</p>

<p><strong>Note</strong>: A bit of clarification--when <code>__eq__</code> and <code>__ne__</code> are undefined, you'll find this behavior:</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
False
</code></pre>

<p>That is, <code>a == b</code> evaluates to <code>False</code> because it really runs <code>a is b</code>, a test of identity (i.e., ""Is <code>a</code> the same object as <code>b</code>?"").</p>

<p>When <code>__eq__</code> and <code>__ne__</code> are defined, you'll find this behavior (which is the one we're after):</p>

<pre><code>&gt;&gt;&gt; a = Foo(1)
&gt;&gt;&gt; b = Foo(1)
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; a == b
True
</code></pre>
","<p>I think that the two terms you're looking for are <strong>equality</strong> (==) and <strong>identity</strong> (is). For example:</p>

<pre><code>&gt;&gt;&gt; a = [1,2,3]
&gt;&gt;&gt; b = [1,2,3]
&gt;&gt;&gt; a == b
True       &lt;-- a and b have values which are equal
&gt;&gt;&gt; a is b
False      &lt;-- a and b are not the same list object
</code></pre>
"
989,489720,34,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>Decorators are used for anything that you want to transparently ""wrap"" with additional functionality.</p>

<p>Django uses them for wrapping <a href=""http://docs.djangoproject.com/en/dev/topics/auth/?from=olddocs#the-login-required-decorator"">""login required"" functionality on view functions</a>, as well as for <a href=""http://docs.djangoproject.com/en/dev/howto/custom-template-tags/#registering-custom-filters"">registering filter functions</a>.</p>

<p>You can use class decorators for <a href=""http://stackoverflow.com/questions/401277/naming-python-loggers#402471"">adding named logs to classes</a>.</p>

<p>Any sufficiently generic functionality that you can ""tack on"" to an existing class or function's behavior is fair game for decoration.</p>

<p>There's also a <a href=""http://mail.python.org/pipermail/python-dev/2004-April/044132.html"">discussion of use cases on the Python-Dev newsgroup</a> pointed to by <a href=""http://www.python.org/dev/peps/pep-0318/#background"">PEP 318 -- Decorators for Functions and Methods</a>.</p>
"
996,489720,89,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>I use decorators mainly for timing purposes</p>

<pre><code>def time_dec(func):

  def wrapper(*arg):
      t = time.clock()
      res = func(*arg)
      print func.func_name, time.clock()-t
      return res

  return wrapper


@time_dec
def myFunction(n):
    ...
</code></pre>
"
988,489720,6,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>I use them mainly for debugging (wrapper around a function that prints its arguments and result) and verification (e.g. to check if an argument is of correct type or, in the case of web application, if the user has sufficient privileges to call a particular method).</p>
"
990,489720,19,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>The Twisted library uses decorators combined with generators to give the illusion that an asynchronous function is synchronous.  For example:</p>

<pre><code>@inlineCallbacks
def asyncf():
    doStuff()
    yield someAsynchronousCall()
    doStuff()
    yield someAsynchronousCall()
    doStuff()
</code></pre>

<p>Using this, code that would have been broken up into a ton of little callback functions can be written quite naturally as a single block, making it a lot easier to understand and maintain.</p>
"
991,489720,7,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>I've actually recently had one of those ""A-ha!"" moments, as you call them, and used a decorator to enable me to profile decorated functions/methods only. It's the profile_func decorator in <a href=""https://translate.svn.sourceforge.net/svnroot/translate/src/trunk/virtaal/devsupport/profiling.py"">this file</a>, the output of which can be viewed in <a href=""http://kcachegrind.sourceforge.net/"">KCacheGrind</a>. Very useful indeed.</p>
"
992,489720,5,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>Decorators are used either to define a function's properties or as boilerplate that alters it; it's possible but counter-intuitive for them to return completely different functions.  Looking at the other responses here, it seems like one of the most common uses is to limit the scope of some other process - be it logging, profiling, security checks, etc.</p>

<p>CherryPy uses object-dispatching to match URLs to objects and, eventually, methods.  Decorators on those methods signal whether or not CherryPy is even <em>allowed</em> to use those methods.  For example, adapted from <a href=""http://www.cherrypy.org/wiki/CherryPyTutorial"" rel=""nofollow"">the tutorial</a>:</p>

<pre><code>class HelloWorld:

    ...

    def secret(self):
        return ""You shouldn't be here.""

    @cherrypy.expose
    def index(self):
        return ""Hello world!""

cherrypy.quickstart(HelloWorld())
</code></pre>
"
994,489720,13,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>For nosetests, you can write a decorator that supplies a unit test function or method with several sets of parameters:</p>

<pre><code>@parameters(
   (2, 4, 6),
   (5, 6, 11),
)
def test_add(a, b, expected):
    assert a + b == expected
</code></pre>
"
995,489720,76,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>I've used them for synchronization.</p>

<pre><code>def synchronized(lock):
    """""" Synchronization decorator """"""
    def wrap(f):
        def newFunction(*args, **kw):
            lock.acquire()
            try:
                return f(*args, **kw)
            finally:
                lock.release()
        return newFunction
    return wrap
</code></pre>

<p>As pointed out in the comments, since Python 2.5 you can use a <a href=""http://docs.python.org/2/reference/compound_stmts.html#with""><code>with</code></a> statement in conjunction with a  <a href=""http://docs.python.org/2/library/threading.html#threading.Lock""><code>threading.Lock</code></a> (or <a href=""http://docs.python.org/2/library/multiprocessing.html#multiprocessing.Lock""><code>multiprocessing.Lock</code></a> since version 2.6) object to simplify the decorator's implementation to just:</p>

<pre><code>def synchronized(lock):
    """""" Synchronization decorator """"""
    def wrap(f):
        def newFunction(*args, **kw):
            with lock:
                return f(*args, **kw)
        return newFunction
    return wrap
</code></pre>

<p>Regardless, you then use it like this:</p>

<pre><code>import threading
lock = threading.Lock()

@synchronized(lock)
def do_something():
  # etc

@synchronzied(lock)
def do_something_else():
  # etc
</code></pre>

<p>Basically it just puts <code>lock.acquire()</code> / <code>lock.release()</code> on either side of the function call.</p>
"
993,489720,46,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>I use decorators for type checking parameters which are passed to my Python methods via some RMI. So instead of repeating the same parameter counting, exception-raising mumbo-jumbo again and again</p>

<pre><code>def myMethod(ID, name):
    if not (myIsType(ID, 'uint') and myIsType(name, 'utf8string')):
        raise BlaBlaException() ...
</code></pre>

<p>I just declare</p>

<pre><code>@accepts(uint, utf8string)
def myMethod(ID, name):
    ...
</code></pre>

<p>and accepts() does all the work for me.</p>
"
997,489720,5,212,python,What are some common uses for Python decorators?,"<p>While I like to think of myself as a reasonably competent Python coder, one aspect of the language I've never been able to grok is decorators.</p>

<p>I know what they are (superficially), I've read tutorials, examples, questions on Stack Overflow, and I understand the syntax, can write my own, occasionally use @classmethod and @staticmethod, but it never occurs to me to use a decorator to solve a problem in my own Python code.  I never encounter a problem where I think, ""Hmm...this looks like a job for a decorator!""</p>

<p>So, I'm wondering if you guys might offer some examples of where you've used decorators in your own programs, and hopefully I'll have an ""A-ha!"" moment and <em>get</em> them.</p>
","<p>I used them recently, while working on social networking web application. For Community/Groups, I was supposed to give membership authorization to create new discussion and reply to a message you have to be the member of that particular group. So, I wrote a decorator <code>@membership_required</code> and put that where I required in my view.</p>
"
414,209470,16,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>In the beginning there was sh, sed, and awk (and find, and grep, and...). It was good. But awk can be an odd little beast and hard to remember if you don't use it often. Then the great camel created Perl. Perl was a system administrator's dream. It was like shell scripting on steroids. Text processing, including regular expressions were just part of the language. Then it got ugly...  People tried to make big applications with Perl. Now, don't get me wrong, Perl can be an application, but it can (can!) look like a mess if you're not really careful. Then there is all this flat data business. It's enough to drive a programmer nuts.</p>

<p>Enter Python, Ruby, et al. These are really very good general purpose languages. They support text processing, and do it well (though perhaps not as tightly entwined in the basic core of the language). But they also scale up very well, and still have nice looking code at the end of the day. They also have developed pretty hefty communities with plenty of libraries for most anything.</p>

<p>Now, much of the negativeness towards Perl is a matter of opinion, and certainly some people can write very clean Perl, but with this many people complaining about it being too easy to create obfuscated code, you know some grain of truth is there. The question really becomes then, are you ever going to use this language for more than simple bash script replacements. If not, learn some more Perl.. it is absolutely fantastic for that. If, on the other hand, you want a language that will grow with you as you want to do more, may I suggest Python or Ruby.</p>

<p>Either way, good luck!</p>
"
410,209470,127,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>Any shell has several sets of features.</p>

<ul>
<li><p>The Essential Linux/Unix commands.  All of these are available through the <a href=""https://docs.python.org/3/library/subprocess.html"">subprocess</a> library.  This isn't always the best first choice for doing <em>all</em> external commands.  Look also at <a href=""https://docs.python.org/3/library/shutil.html"">shutil</a> for some commands that are separate Linux commands, but you could probably implement directly in your Python scripts.  Another huge batch of Linux commands are in the <a href=""https://docs.python.org/3/library/os.html"">os</a> library; you can do these more simply in Python.</p>

<p>And -- bonus! -- more quickly.  Each separate Linux command in the shell (with a few exceptions) forks a subprocess.  By using Python <code>shutil</code> and <code>os</code> modules, you don't fork a subprocess.</p></li>
<li><p>The shell environment features.  This includes stuff that sets a command's environment (current directory and environment variables and what-not).  You can easily manage this from Python directly.</p></li>
<li><p>The shell programming features.  This is all the process status code checking, the various logic commands (if, while, for, etc.) the test command and all of it's relatives.  The function definition stuff.  This is all much, much easier in Python.  This is one of the huge victories in getting rid of bash and doing it in Python.</p></li>
<li><p>Interaction features.  This includes command history and what-not.  You don't need this for writing shell scripts.  This is only for human interaction, and not for script-writing.</p></li>
<li><p>The shell file management features.  This includes redirection and pipelines.  This is trickier.  Much of this can be done with subprocess.  But some things that are easy in the shell are unpleasant in Python.  Specifically stuff like <code>(a | b; c ) | something &gt;result</code>.  This runs two processes in parallel (with output of <code>a</code> as input to <code>b</code>), followed by a third process.  The output from that sequence is run in parallel with <code>something</code> and the output is collected into a file named <code>result</code>.  That's just complex to express in any other language.</p></li>
</ul>

<p>Specific programs (awk, sed, grep, etc.) can often be rewritten as Python modules.  Don't go overboard.  Replace what you need and evolve your ""grep"" module.  Don't start out writing a Python module that replaces ""grep"".</p>

<p>The best thing is that you can do this in steps.</p>

<ol>
<li>Replace AWK and PERL with Python.  Leave everything else alone.</li>
<li>Look at replacing GREP with Python.  This can be a bit more complex, but your version of GREP can be tailored to your processing needs.</li>
<li>Look at replacing FIND with Python loops that use <code>os.walk</code>.  This is a big win because you don't spawn as many processes.</li>
<li>Look at replacing common shell logic (loops, decisions, etc.) with Python scripts.</li>
</ol>
"
416,209470,6,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>Adding to previous answers: check the <a href=""http://www.noah.org/wiki/Pexpect"">pexpect</a> module for dealing with interactive commands (adduser, passwd etc.)</p>
"
415,209470,4,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>I have built semi-long shell scripts (300-500 lines) and Python code which does similar functionality.  When many external commands are being executed, I find the shell is easier to use.  Perl is also a good option when there is lots of text manipulation.</p>
"
411,209470,1,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>If your textfile manipulation usually is one-time, possibly done on the shell-prompt, you will not get anything better from python.</p>

<p>On the other hand, if you usually have to do the same (or similar) task over and over, and you have to write your scripts for doing that, then python is great - and you can easily create your own libraries (you can do that with shell scripts too, but it's more cumbersome).</p>

<p>A very simple example to get a feeling.</p>

<pre><code>import popen2
stdout_text, stdin_text=popen2.popen2(""your-shell-command-here"")
for line in stdout_text:
  if line.startswith(""#""):
    pass
  else
    jobID=int(line.split("","")[0].split()[1].lstrip(""&lt;"").rstrip(""&gt;""))
    # do something with jobID
</code></pre>

<p>Check also sys and getopt module, they are the first you will need.</p>
"
408,209470,0,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>Python would be perfectly fine for text file manipulation. For learning, check <a href=""http://stackoverflow.com/questions/918/how-to-learn-python-good-example-code#964"">here</a>.</p>
"
413,209470,28,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<ul>
<li>If you want to use Python as a shell, why not have a look at <a href=""http://ipython.org/"">IPython</a> ? It is also good to learn interactively the language.</li>
<li>If you do a lot of text manipulation, and if you use Vim as a text editor, you can also directly write plugins for Vim in python. just type "":help python"" in Vim and follow the instructions or have a look at this <a href=""http://www.tummy.com/Community/Presentations/vimpython-20070225/vim.html"">presentation</a>. It is so easy and powerfull to write functions that you will use directly in your editor!</li>
</ul>
"
412,209470,2,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>Your best bet is a tool that is specifically geared towards your problem.  If it's processing text files, then Sed, Awk and Perl are the top contenders.  Python is a general-purpose <em>dynamic</em> language.  As with any general purpose language, there's support for file-manipulation, but that isn't what it's core purpose is.  I would consider Python or Ruby if I had a requirement for a dynamic language in particular.</p>

<p>In short, learn Sed and Awk really well, plus all the other goodies that come with your flavour of *nix (All the Bash built-ins, grep, tr and so forth).  If it's text file processing you're interested in, you're already using the right stuff. </p>
"
409,209470,8,207,python,Can I use Python as a Bash replacement?,"<p>I currently do my textfile manipulation through a bunch of badly remembered AWK, sed, Bash and a tiny bit of Perl.</p>

<p>I've seen mentioned a few places that python is good for this kind of thing, I know a little and I would like to know more. Is Python a good choice for this, and is there a good book or guide to learning how to use Python to replace shell scripting, AWK, sed and friends?</p>
","<p>I suggest the awesome online book <em><a href=""http://www.diveintopython.net"">Dive Into Python</a></em>.  It's how I learned the language originally.</p>

<p>Beyone teaching you the basic structure of the language, and a whole lot of useful data structures, it has a good chapter on <a href=""http://www.diveintopython.net/file_handling/index.html"">file handling</a> and subsequent chapters on <a href=""http://www.diveintopython.net/regular_expressions/index.html"">regular expressions</a> and more.</p>
"
187,100210,1,188,python,What is the standard way to add N seconds to datetime.time in Python?,"<p>Given a <code>datetime.time</code> value in Python, is there a standard way to add an integer number of seconds to it, so that <code>11:34:59</code> + 3 = <code>11:35:02</code>, for example?</p>

<p>These obvious ideas don't work:</p>

<pre><code>&gt;&gt;&gt; datetime.time(11, 34, 59) + 3
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time'
</code></pre>

<p>In the end I have written functions like this:</p>

<pre><code>def add_secs_to_time(timeval, secs_to_add):
    secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second
    secs += secs_to_add
    return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60)
</code></pre>

<p>I can't help thinking that I'm missing an easier way to do this though.</p>

<h3>Related</h3>

<ul>
<li><a href=""http://stackoverflow.com/questions/656297/python-time-timedelta-equivalent"">python time + timedelta equivalent</a></li>
</ul>
","<p>Try adding a datetime.datetime to a datetime.timedelta. If you only want the time portion, you can call the time() method on the resultant datetime.datetime object to get it.</p>
"
188,100210,281,188,python,What is the standard way to add N seconds to datetime.time in Python?,"<p>Given a <code>datetime.time</code> value in Python, is there a standard way to add an integer number of seconds to it, so that <code>11:34:59</code> + 3 = <code>11:35:02</code>, for example?</p>

<p>These obvious ideas don't work:</p>

<pre><code>&gt;&gt;&gt; datetime.time(11, 34, 59) + 3
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time'
</code></pre>

<p>In the end I have written functions like this:</p>

<pre><code>def add_secs_to_time(timeval, secs_to_add):
    secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second
    secs += secs_to_add
    return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60)
</code></pre>

<p>I can't help thinking that I'm missing an easier way to do this though.</p>

<h3>Related</h3>

<ul>
<li><a href=""http://stackoverflow.com/questions/656297/python-time-timedelta-equivalent"">python time + timedelta equivalent</a></li>
</ul>
","<p>You can use full <code>datetime</code> variables with <code>timedelta</code>, and by providing a dummy date then using <code>time</code> to just get the time value.</p>

<p>For example:</p>

<pre><code>import datetime
a = datetime.datetime(100,1,1,11,34,59)
b = a + datetime.timedelta(0,3) # days, seconds, then other fields.
print a.time()
print b.time()
</code></pre>

<p>results in the two values, three seconds apart:</p>

<pre><code>11:34:59
11:35:02
</code></pre>

<p>You could also opt for the more readable</p>

<pre><code>b = a + datetime.timedelta(seconds=3)
</code></pre>

<p>if you're so inclined.</p>

<hr>

<p>If you're after a function that can do this, you can look into using <code>addSecs</code> below:</p>

<pre><code>import datetime

def addSecs(tm, secs):
    fulldate = datetime.datetime(100, 1, 1, tm.hour, tm.minute, tm.second)
    fulldate = fulldate + datetime.timedelta(seconds=secs)
    return fulldate.time()

a = datetime.datetime.now().time()
b = addSecs(a, 300)
print a
print b
</code></pre>

<p>This outputs:</p>

<pre><code> 09:11:55.775695
 09:16:55
</code></pre>
"
189,100210,9,188,python,What is the standard way to add N seconds to datetime.time in Python?,"<p>Given a <code>datetime.time</code> value in Python, is there a standard way to add an integer number of seconds to it, so that <code>11:34:59</code> + 3 = <code>11:35:02</code>, for example?</p>

<p>These obvious ideas don't work:</p>

<pre><code>&gt;&gt;&gt; datetime.time(11, 34, 59) + 3
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time'
</code></pre>

<p>In the end I have written functions like this:</p>

<pre><code>def add_secs_to_time(timeval, secs_to_add):
    secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second
    secs += secs_to_add
    return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60)
</code></pre>

<p>I can't help thinking that I'm missing an easier way to do this though.</p>

<h3>Related</h3>

<ul>
<li><a href=""http://stackoverflow.com/questions/656297/python-time-timedelta-equivalent"">python time + timedelta equivalent</a></li>
</ul>
","<p>One little thing, might add clarity to override the default value for seconds</p>

<pre><code>&gt;&gt;&gt; b = a + datetime.timedelta(seconds=3000)
&gt;&gt;&gt; b
datetime.datetime(1, 1, 1, 12, 24, 59)
</code></pre>
"
191,100210,34,188,python,What is the standard way to add N seconds to datetime.time in Python?,"<p>Given a <code>datetime.time</code> value in Python, is there a standard way to add an integer number of seconds to it, so that <code>11:34:59</code> + 3 = <code>11:35:02</code>, for example?</p>

<p>These obvious ideas don't work:</p>

<pre><code>&gt;&gt;&gt; datetime.time(11, 34, 59) + 3
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time'
</code></pre>

<p>In the end I have written functions like this:</p>

<pre><code>def add_secs_to_time(timeval, secs_to_add):
    secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second
    secs += secs_to_add
    return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60)
</code></pre>

<p>I can't help thinking that I'm missing an easier way to do this though.</p>

<h3>Related</h3>

<ul>
<li><a href=""http://stackoverflow.com/questions/656297/python-time-timedelta-equivalent"">python time + timedelta equivalent</a></li>
</ul>
","<p>As others here have stated, you can just use full datetime objects throughout:</p>

<pre><code>sometime = get_some_time() # the time to which you want to add 3 seconds
later = (datetime.combine(date.today(), sometime) + timedelta(seconds=3)).time()
</code></pre>

<p>However, I think it's worth explaining why full datetime objects are required.  Consider what would happen if I added 2 hours to 11pm.  What's the correct behavior?  An exception, because you can't have a time larger than 11:59pm?  Should it wrap back around?</p>

<p>Different programmers will expect different things, so whichever result they picked would surprise a lot of people.  Worse yet, programmers would write code that worked just fine when they tested it initially, and then have it break later by doing something unexpected.  This is very bad, which is why you're not allowed to add timedelta objects to time objects.</p>
"
190,100210,7,188,python,What is the standard way to add N seconds to datetime.time in Python?,"<p>Given a <code>datetime.time</code> value in Python, is there a standard way to add an integer number of seconds to it, so that <code>11:34:59</code> + 3 = <code>11:35:02</code>, for example?</p>

<p>These obvious ideas don't work:</p>

<pre><code>&gt;&gt;&gt; datetime.time(11, 34, 59) + 3
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta'
&gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3)
TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time'
</code></pre>

<p>In the end I have written functions like this:</p>

<pre><code>def add_secs_to_time(timeval, secs_to_add):
    secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second
    secs += secs_to_add
    return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60)
</code></pre>

<p>I can't help thinking that I'm missing an easier way to do this though.</p>

<h3>Related</h3>

<ul>
<li><a href=""http://stackoverflow.com/questions/656297/python-time-timedelta-equivalent"">python time + timedelta equivalent</a></li>
</ul>
","<p>Thanks to @<a href=""#100345"">Pax Diablo</a>, @bvmou and @Arachnid for the suggestion of using full datetimes throughout.  If I have to accept datetime.time objects from an external source, then this seems to be an alternative <code>add_secs_to_time()</code> function:</p>

<pre><code>def add_secs_to_time(timeval, secs_to_add):
    dummy_date = datetime.date(1, 1, 1)
    full_datetime = datetime.datetime.combine(dummy_date, timeval)
    added_datetime = full_datetime + datetime.timedelta(seconds=secs_to_add)
    return added_datetime.time()
</code></pre>

<p>This verbose code can be compressed to this one-liner:</p>

<pre><code>(datetime.datetime.combine(datetime.date(1, 1, 1), timeval) + datetime.timedelta(seconds=secs_to_add)).time()
</code></pre>

<p>but I think I'd want to wrap that up in a function for code clarity anyway.</p>
"
973,473620,-23,185,python,How do you create a daemon in Python?,"<p><a href=""http://www.google.co.uk/search?q=python+daemon"">Searching on Google</a> reveals x2 code snippets. The first result is to <a href=""http://code.activestate.com/recipes/278731/"">this code recipe</a> which has a lot of documentation and explanation, along with some useful discussion underneath. </p>

<p>However, <a href=""http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/"">another code sample</a>, whilst not containing so much documentation, includes sample code for passing commands such as start, stop and restart. It also creates a PID file which can be handy for checking if the daemon is already running etc.</p>

<p>These samples both explain how to create the daemon. Are there any additional things that need to be considered? Is one sample better than the other, and why?</p>
","<p>80% of the time, when folks say ""daemon"", they only want a server.  Since the question is perfectly unclear on this point, it's hard to say what the possible domain of answers could be.  Since a server is adequate, start there.  If an actual ""daemon"" is actually needed (this is rare), read up on <code>nohup</code> as a way to daemonize a server.</p>

<p>Until such time as an actual daemon is actually required, just write a simple server.</p>

<p>Also look at the <a href=""http://www.python.org/doc/2.5.2/lib/module-wsgiref.html"" rel=""nofollow"">WSGI reference</a> implementation.</p>

<p>Also look at the <a href=""http://www.python.org/doc/2.5.2/lib/module-SimpleHTTPServer.html"" rel=""nofollow"">Simple HTTP Server</a>.</p>

<p>""Are there any additional things that need to be considered? ""  Yes.  About a million things.  What protocol?  How many requests?  How long to service each request?  How frequently will they arrive?  Will you use a dedicated process?  Threads?  Subprocesses?  Writing a daemon is a big job.  </p>
"
972,473620,114,185,python,How do you create a daemon in Python?,"<p><a href=""http://www.google.co.uk/search?q=python+daemon"">Searching on Google</a> reveals x2 code snippets. The first result is to <a href=""http://code.activestate.com/recipes/278731/"">this code recipe</a> which has a lot of documentation and explanation, along with some useful discussion underneath. </p>

<p>However, <a href=""http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/"">another code sample</a>, whilst not containing so much documentation, includes sample code for passing commands such as start, stop and restart. It also creates a PID file which can be handy for checking if the daemon is already running etc.</p>

<p>These samples both explain how to create the daemon. Are there any additional things that need to be considered? Is one sample better than the other, and why?</p>
","<p>Sander Marechal's <a href=""http://web.archive.org/web/20131017130434/http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/"">code sample</a> is superior to the original, which was originally posted in 2004.  I once contributed a daemonizer for Pyro, but would probably use Sander's code if I had to do it over.</p>
"
974,473620,-3,185,python,How do you create a daemon in Python?,"<p><a href=""http://www.google.co.uk/search?q=python+daemon"">Searching on Google</a> reveals x2 code snippets. The first result is to <a href=""http://code.activestate.com/recipes/278731/"">this code recipe</a> which has a lot of documentation and explanation, along with some useful discussion underneath. </p>

<p>However, <a href=""http://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/"">another code sample</a>, whilst not containing so much documentation, includes sample code for passing commands such as start, stop and restart. It also creates a PID file which can be handy for checking if the daemon is already running etc.</p>

<p>These samples both explain how to create the daemon. Are there any additional things that need to be considered? Is one sample better than the other, and why?</p>
","<p>The easiest way to create daemon with Python is to use the <a href=""http://twistedmatrix.com/trac/"" rel=""nofollow"">Twisted</a> event-driven framework.  It handles all of the stuff necessary for daemonization for you.  It uses the <a href=""http://en.wikipedia.org/wiki/Reactor_pattern"" rel=""nofollow"">Reactor Pattern</a> to handle concurrent requests.</p>
"
712,366980,417,184,python,"What are the differences between Perl, Python, AWK and sed?","<p>just want to know what are the main differences among them? and the power of each language (where it's better to use it).</p>

<p><strong>Edit:</strong> it's not ""vs."" like topic, just information.</p>
","<p>In order of appearance, the languages are <code>sed</code>, <code>awk</code>, <code>perl</code>, <code>python</code>.</p>

<p>The <code>sed</code> program is a stream editor, and is designed to apply the actions from a script to each line (or, more generally, to specified ranges of lines) of the input file or files.  Its language is based on <code>ed</code>, the Unix editor, and although it has conditionals and so on, it is hard to work with for complex tasks.  You can work minor miracles with it - but at a cost to the hair on your head.  However, it is probably the fastest of the programs when attempting tasks within its remit.  (It has the least powerful regular expressions of the programs discussed - adequate for many purposes, but certainly not PCRE - Perl-Compatible Regular Expressions)</p>

<p>The <code>awk</code> program (name from the initials of its authors - Aho, Weinberger and Kernighan) is a tool originally for formatting reports.  It can be used as a souped up <code>sed</code>; in its more recent versions, it is computationally complete.  It uses an interesting idea - the program is based on 'patterns matched' and 'actions taken when the pattern matches'.  The patterns are fairly powerful (Extended Regular Expressions).  The language for the actions is similar to C.  One of the key features of <code>awk</code> is that it splits the input lines into fields automatically.</p>

<p>Perl was written in part as an awk-killer and sed-killer.  Two of the programs provided with it are <code>a2p</code> and <code>s2p</code> for converting <code>awk</code> scripts and <code>sed</code> scripts into Perl.  Perl is one of the earliest of the next generation of scripting languages (Tcl/Tk can probably claim primacy).  It has powerful integrated regular expression handling with a vastly more powerful language.  It provides access to almost all system calls, and has the extensibility of the CPAN modules.  (Neither <code>awk</code> nor <code>sed</code> is extensible.)  One of Perl's mottos is ""TMTOWTDI - There's more than one way to do it"" (pronounced ""tim-toady"").  Perl has 'objects', but it is more of an add-on than a fundamental part of the language.</p>

<p>Python was written last, and probably in part as a reaction to Perl.  It has some interesting syntactic ideas (indenting to indicate levels - no braces or equivalents).  It is more fundamentally object-oriented than Perl; it is just as extensible as Perl.</p>

<p>OK - when to use each?</p>

<ul>
<li>sed - when you need to do simple text transforms on files.</li>
<li>awk - when you only need simple formatting and summarization or transformation of data.</li>
<li>perl - for almost any task, but especially when the task needs complex regular expressions.</li>
<li>python - for the same tasks that you could use Perl for.</li>
</ul>

<p>I'm not aware of anything that Perl can do that Python can't, nor vice versa.  The choice between the two would depend on other factors.  I learned Perl before there was a Python, so I tend to use it.  Python has less accreted syntax and is generally somewhat simpler to learn.  Perl 6, when it becomes available, will be a fascinating development.</p>

<p>(Note that the 'overviews' of Perl and Python, in particular, are woefully incomplete; whole books could be written on the topic.)</p>
"
711,366980,19,184,python,"What are the differences between Perl, Python, AWK and sed?","<p>just want to know what are the main differences among them? and the power of each language (where it's better to use it).</p>

<p><strong>Edit:</strong> it's not ""vs."" like topic, just information.</p>
","<p>I wouldn't call sed a fully-fledged programming language, it is a stream editor with language constructs aimed at editing text files programmatically.</p>

<p>Awk is a little more of a general purpose language but it is still best suited for text processing.</p>

<p>Perl and Python are fully fledged, general purpose programming languages.  Perl has its roots in text processing and has a number of awk-like constructs (there is even an awk-to-perl script floating around on the net).  There are many differences between Perl and Python, your best bet is probably to read the summaries of both languages on something like Wikipedia to get a good grasp on what they are.</p>
"
713,366980,23,184,python,"What are the differences between Perl, Python, AWK and sed?","<p>just want to know what are the main differences among them? and the power of each language (where it's better to use it).</p>

<p><strong>Edit:</strong> it's not ""vs."" like topic, just information.</p>
","<p>First, there are two unrelated things in the list ""Perl, Python awk and sed"".</p>

<p>Thing 1 - simplistic text manipulation tools.</p>

<ul>
<li><p>sed.  It has a fixed, relatively simple scope of work defined by the idea of reading and examining each line of a file.  sed is not designed to be particularly readable.  It is designed to be very small and very efficient on very tiny unix servers.</p></li>
<li><p>awk.  It has a slightly less fixed, less simple scope of work.  However, the main loop of an awk program is defined by the implicit reading of lines of a source file. </p></li>
</ul>

<p>These are not ""complete"" programming languages.  While you can -- with some work -- write fairly sophisticated programs in awk, it rapidly gets complicated and difficult to read.</p>

<p>Thing 2 - general-purposes programming languages.  These have a rich variety of statement types, numerous built-in data structures, and no wired-in assumptions or shortcuts to speak of.</p>

<ul>
<li><p>Perl.</p></li>
<li><p>Python. </p></li>
</ul>

<p>When to use them.</p>

<ul>
<li><p>sed.  Never.  It really doesn't have any value in the modern era of computers with more than 32K of memory.  Perl or Python do the same things more clearly.</p></li>
<li><p>awk.  Never.  Like sed, it reflects an earlier era of computing.  Rather than maintain this language (in addition to all the other required for a successful system), it's more pleasant to simply do everything in one pleasant language.</p></li>
<li><p>Perl.  Any programming problem of any kind.  If you like free-thinking syntax, where there are many, many ways to do the same thing, perl is fun.</p></li>
<li><p>Python.   Any programming problem of any kind.  If you like fairly limited syntax, where there are fewer choices, less subtlety, and (perhaps) more clarity.  Python's object-oriented nature makes it more suitable for large, complex problems.</p></li>
</ul>

<p>Background -- I'm not bashing sed and awk out of ignorance.  I learned awk over 20 years ago.  Did many things with it; used to teach it as a core unix skill.  I learned Perl about 15 years ago.  Did many sophisticated things with it.  I've left both behind because I can do the same things in Python -- and it is simpler and more clear.</p>

<p>There are two serious problems with sed and awk, neither of which are their age.</p>

<ol>
<li><p>The incompleteness of their implementation. Everything sed and awk do can be done in Python or Perl, often more simply and sometimes faster, too.  A shell pipeline has some performance advantages because of its multi-processing.   Python offers a <code>subprocess</code> module to allow me to recover those advantages.</p></li>
<li><p>The need to learn yet another language.  By doing things in Python (or Perl) your implementation depends on fewer languages, with a resulting increase in clarity.</p></li>
</ol>
"
1036,517970,1,169,python,How to clear python interpreter console?,"<p>Like most Python developers, I typically keep a console window open with the Python interpreter running to test commands, dir() stuff, help() stuff, etc.</p>

<p>Like any console, after a while the visible backlog of past commands and prints gets to be cluttered, and sometimes confusing when re-running the same command several times.  I'm wondering if, and how, to clear the Python interpreter console.</p>

<p>I've heard about doing a system call and either calling <code>cls</code> on Windows or <code>clear</code> on Linux, but I was hoping there was something I could command the interpreter itself to do.</p>

<p><strong>Note:</strong> I'm running on Windows, so Ctrl+L doesn't work.</p>
","<p>EDIT: I've just read ""windows"", this is for linux users, sorry.</p>

<p><hr /></p>

<p>In bash:</p>

<pre><code>#!/bin/bash

while [ ""0"" == ""0"" ]; do
    clear
    $@
    while [ ""$input"" == """" ]; do
        read -p ""Do you want to quit? (y/n): "" -n 1 -e input
        if [ ""$input"" == ""y"" ]; then
            exit 1
        elif [ ""$input"" == ""n"" ]; then
            echo ""Ok, keep working ;)""
        fi
    done
    input=""""
done
</code></pre>

<p>Save it as ""whatyouwant.sh"", chmod +x it then run:</p>

<pre><code>./whatyouwant.sh python
</code></pre>

<p>or something other than python (idle, whatever).
This will ask you if you actually want to exit, if not it rerun python (or the command you gave as parameter).</p>

<p>This will clear all, the screen and all the variables/object/anything you created/imported in python. </p>

<p>In python just type exit() when you want to exit.</p>
"
1033,517970,56,169,python,How to clear python interpreter console?,"<p>Like most Python developers, I typically keep a console window open with the Python interpreter running to test commands, dir() stuff, help() stuff, etc.</p>

<p>Like any console, after a while the visible backlog of past commands and prints gets to be cluttered, and sometimes confusing when re-running the same command several times.  I'm wondering if, and how, to clear the Python interpreter console.</p>

<p>I've heard about doing a system call and either calling <code>cls</code> on Windows or <code>clear</code> on Linux, but I was hoping there was something I could command the interpreter itself to do.</p>

<p><strong>Note:</strong> I'm running on Windows, so Ctrl+L doesn't work.</p>
","<p>Well, here's a quick hack:</p>

<pre><code>&gt;&gt;&gt; clear = ""\n"" * 100
&gt;&gt;&gt; print clear
&gt;&gt;&gt; ...do some other stuff...
&gt;&gt;&gt; print clear
</code></pre>

<p>Or to save some typing, put this file in your python search path:</p>

<pre><code># wiper.py
class Wipe(object):
    def __repr__(self):
        return '\n'*1000

wipe = Wipe()
</code></pre>

<p>Then you can do this from the interpreter all you like :)</p>

<pre><code>&gt;&gt;&gt; from wiper import wipe
&gt;&gt;&gt; wipe
&gt;&gt;&gt; wipe
&gt;&gt;&gt; wipe
</code></pre>
"
1035,517970,5,169,python,How to clear python interpreter console?,"<p>Like most Python developers, I typically keep a console window open with the Python interpreter running to test commands, dir() stuff, help() stuff, etc.</p>

<p>Like any console, after a while the visible backlog of past commands and prints gets to be cluttered, and sometimes confusing when re-running the same command several times.  I'm wondering if, and how, to clear the Python interpreter console.</p>

<p>I've heard about doing a system call and either calling <code>cls</code> on Windows or <code>clear</code> on Linux, but I was hoping there was something I could command the interpreter itself to do.</p>

<p><strong>Note:</strong> I'm running on Windows, so Ctrl+L doesn't work.</p>
","<p>Use idle. It has many handy features.  <kbd>Ctrl+F6</kbd>, for example, resets the console.  Closing and opening the console are good ways to clear it.</p>
"
1034,517970,218,169,python,How to clear python interpreter console?,"<p>Like most Python developers, I typically keep a console window open with the Python interpreter running to test commands, dir() stuff, help() stuff, etc.</p>

<p>Like any console, after a while the visible backlog of past commands and prints gets to be cluttered, and sometimes confusing when re-running the same command several times.  I'm wondering if, and how, to clear the Python interpreter console.</p>

<p>I've heard about doing a system call and either calling <code>cls</code> on Windows or <code>clear</code> on Linux, but I was hoping there was something I could command the interpreter itself to do.</p>

<p><strong>Note:</strong> I'm running on Windows, so Ctrl+L doesn't work.</p>
","<p>As you mentioned, you can do a system call:</p>

<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; clear = lambda: os.system('cls')
&gt;&gt;&gt; clear()
</code></pre>

<p>I am not sure of any other way in Windows.</p>
"
257,139180,20,164,python,listing all functions in a python module,"<p>I have a python module installed on my system and I'd like to be able to see what functions/classes/methods are available in it.   </p>

<p>I want to call the doc function on each one. In ruby I can do something like ClassName.methods to get a list of all the methods available on that class. Is there something similar in python?</p>

<p>eg. something like:</p>

<pre><code>from somemodule import foo
print foo.methods # or whatever is the correct method to call
</code></pre>
","<p>This will do the trick:</p>

<pre><code>dir(module) 
</code></pre>

<p>However, if you find it annoying to read the returned list, just use the following loop to get one name per line.</p>

<pre><code>for i in dir(module): print i
</code></pre>
"
256,139180,76,164,python,listing all functions in a python module,"<p>I have a python module installed on my system and I'd like to be able to see what functions/classes/methods are available in it.   </p>

<p>I want to call the doc function on each one. In ruby I can do something like ClassName.methods to get a list of all the methods available on that class. Is there something similar in python?</p>

<p>eg. something like:</p>

<pre><code>from somemodule import foo
print foo.methods # or whatever is the correct method to call
</code></pre>
","<p>Once you've <code>import</code>ed the module, you can just do:</p>

<pre><code> help(modulename)
</code></pre>

<p>... To get the docs on all the functions at once, interactively.  Or you can use:</p>

<pre><code> dir(modulename)
</code></pre>

<p>... To simply list the names of all the functions and variables defined in the module.</p>
"
255,139180,44,164,python,listing all functions in a python module,"<p>I have a python module installed on my system and I'd like to be able to see what functions/classes/methods are available in it.   </p>

<p>I want to call the doc function on each one. In ruby I can do something like ClassName.methods to get a list of all the methods available on that class. Is there something similar in python?</p>

<p>eg. something like:</p>

<pre><code>from somemodule import foo
print foo.methods # or whatever is the correct method to call
</code></pre>
","<pre><code>import types
import yourmodule

print [yourmodule.__dict__.get(a) for a in dir(yourmodule)
  if isinstance(yourmodule.__dict__.get(a), types.FunctionType)]
</code></pre>
"
254,139180,69,164,python,listing all functions in a python module,"<p>I have a python module installed on my system and I'd like to be able to see what functions/classes/methods are available in it.   </p>

<p>I want to call the doc function on each one. In ruby I can do something like ClassName.methods to get a list of all the methods available on that class. Is there something similar in python?</p>

<p>eg. something like:</p>

<pre><code>from somemodule import foo
print foo.methods # or whatever is the correct method to call
</code></pre>
","<p>The inspect module. Also see the <a href=""http://docs.python.org/2/library/pydoc.html""><code>pydoc</code></a> module, the <code>help()</code> function in the interactive interpreter and the <code>pydoc</code> command-line tool which generates the documentation you are after. You can just give them the class you wish to see the documentation of. They can also generate, for instance, HTML output and write it to disk.</p>
"
253,139180,238,164,python,listing all functions in a python module,"<p>I have a python module installed on my system and I'd like to be able to see what functions/classes/methods are available in it.   </p>

<p>I want to call the doc function on each one. In ruby I can do something like ClassName.methods to get a list of all the methods available on that class. Is there something similar in python?</p>

<p>eg. something like:</p>

<pre><code>from somemodule import foo
print foo.methods # or whatever is the correct method to call
</code></pre>
","<p>You can use <code>dir(module)</code> to see all available methods/attributes.  Also check out PyDocs.</p>
"
32,35470,13,163,python,Are there static analysis tools for Python?,"<p>I am starting to use Python (specifically because of Django) and I would like to remove the burden for exhaustive testing by performing some static analysis.  What tools/parameters/etc. exist to detect issues at compile time that would otherwise show up during runtime? (type errors are probably the most obvious case of this, but undefined variables are another big one that could be avoided with an in-depth analysis of the AST.)</p>

<p>Obviously testing is important, and I don't imply that tests can be obviated entirely; however, there are many runtime errors in python that are not possible in other languages that perform stricter run-time checking -- I'm hoping that there are tools to bring at least some of these capabilities to python as well.</p>
","<p>You should check out <a href=""http://divmod.org/trac/wiki/DivmodPyflakes"">Pyflakes</a>, <a href=""http://www.logilab.org/project/pylint"">Pylint</a>, and <a href=""http://pychecker.sourceforge.net/"">PyChecker</a>. I've personally used both Pyflakes and Pylint, and found them both to be very helpful for catching those little things you hate to mess up on. Pylint generally requires a bit more configuration than Pyflakes.</p>

<p>Also noteworthy: Eclipse's PyDev plugin comes in with a built in Pylint output parser.</p>
"
34,35470,84,163,python,Are there static analysis tools for Python?,"<p>I am starting to use Python (specifically because of Django) and I would like to remove the burden for exhaustive testing by performing some static analysis.  What tools/parameters/etc. exist to detect issues at compile time that would otherwise show up during runtime? (type errors are probably the most obvious case of this, but undefined variables are another big one that could be avoided with an in-depth analysis of the AST.)</p>

<p>Obviously testing is important, and I don't imply that tests can be obviated entirely; however, there are many runtime errors in python that are not possible in other languages that perform stricter run-time checking -- I'm hoping that there are tools to bring at least some of these capabilities to python as well.</p>
","<p>Here are my first impressions of pyflakes, pychecker and pylint:</p>

<ul>
<li><p><strong>pychecker</strong>: It crashes frequently, most of the runs I tried resulted in Errors that originated in the pychecker code (eg: AttributeError or IndexError: list index out of range were the most common).  For some reason I had to set the DJANGO_SETTINGS_MODULE environment variable before it would even run on any of the app code, and the documentation is very sparse.</p></li>
<li><p><strong>pyflakes</strong>: 'pyflakes --help' throws a TypeError -- erm... Documentation is also very sparse, and pyflakes is very forgiving (as far as I can tell, it only reports compile errors, warnings, redefinitions, and some concerns about imports--such as unused and wildcards).  pyflakes also seems to repeat itself:</p>

<blockquote>
  <p>eventlist/views.py:4: 'Http404' imported but unused<br>
      eventlist/views.py:4: 'Http404' imported but unused<br>
      eventlist/views.py:5: 'from eventlist.models import *' used; unable to detect undefined names
      eventlist/views.py:59: 'authenticate' imported but unused<br>
      eventlist/views.py:61: redefinition of unused 'login' from
  line 59<br>
      eventlist/views.py:5: 'from eventlist.models import *' used;
  unable to detect undefined names <br>
     eventlist/views.py:4: 'Http404' imported but unused</p>
</blockquote></li>
<li><p><strong>pylint</strong>: This seems to be the most capable of the tools suggested.  It has the best documentation.  LogiLab provides a tutorial, pylint has a help screen, and there is a (broken) link to a user manual, which would be extremely helpful.  There are some issues with applying pylint to django, since pylint doesn't know about the django classes (such as models.Model).  This means that a fair number of otherwise valuable errors are generated about missing class fields.  eg:</p>

<blockquote>
  <p>E:105:get_events_by_tag: Class 'Tag' has no 'objects' member<br></p>
</blockquote>

<p>Parsing these out automatically will be very difficult without some additional knowledge of the classes in use.  I'm not sure adding that is feasible, but it does seem likely that pylint is capable of dealing with this in the ""right"" way.  (I probably just need to point it to the django source, but there are no command line params that look likely, and, as mentioned earlier, the user manual is inaccessible.)</p></li>
</ul>

<p>For the moment, I'm still looking into pylint -- pychecker and pyflakes need better documentation and they need to become more robust.</p>
"
30,35470,10,163,python,Are there static analysis tools for Python?,"<p>I am starting to use Python (specifically because of Django) and I would like to remove the burden for exhaustive testing by performing some static analysis.  What tools/parameters/etc. exist to detect issues at compile time that would otherwise show up during runtime? (type errors are probably the most obvious case of this, but undefined variables are another big one that could be avoided with an in-depth analysis of the AST.)</p>

<p>Obviously testing is important, and I don't imply that tests can be obviated entirely; however, there are many runtime errors in python that are not possible in other languages that perform stricter run-time checking -- I'm hoping that there are tools to bring at least some of these capabilities to python as well.</p>
","<p>There's</p>

<ul>
<li><a href=""http://www.logilab.org/857"">pylint</a></li>
<li><a href=""http://pychecker.sourceforge.net/"">pychecker</a></li>
<li><a href=""http://divmod.org/trac/wiki/DivmodPyflakes"">pyflakes</a></li>
</ul>

<p>And probably others, too.</p>
"
31,35470,100,163,python,Are there static analysis tools for Python?,"<p>I am starting to use Python (specifically because of Django) and I would like to remove the burden for exhaustive testing by performing some static analysis.  What tools/parameters/etc. exist to detect issues at compile time that would otherwise show up during runtime? (type errors are probably the most obvious case of this, but undefined variables are another big one that could be avoided with an in-depth analysis of the AST.)</p>

<p>Obviously testing is important, and I don't imply that tests can be obviated entirely; however, there are many runtime errors in python that are not possible in other languages that perform stricter run-time checking -- I'm hoping that there are tools to bring at least some of these capabilities to python as well.</p>
","<p><a href=""http://www.logilab.org/857"">pylint</a> is the best such tool I've found. Due to Python's nature it's difficult to statically analyze it, but it will catch undefined variables, basic type errors, unused code, etc. You'll want to tweak the configuration file, as by default it outputs many warnings I consider useless or harmful.</p>

<p>Here's part of my <code>.pylintrc</code> dealing with warning silencing:</p>

<pre><code>[MESSAGES CONTROL]

# Brain-dead errors regarding standard language features
#   W0142 = *args and **kwargs support
#   W0403 = Relative imports

# Pointless whinging
#   R0201 = Method could be a function
#   W0212 = Accessing protected attribute of client class
#   W0613 = Unused argument
#   W0232 = Class has no __init__ method
#   R0903 = Too few public methods
#   C0301 = Line too long
#   R0913 = Too many arguments
#   C0103 = Invalid name
#   R0914 = Too many local variables

# PyLint's module importation is unreliable
#   F0401 = Unable to import module
#   W0402 = Uses of a deprecated module

# Already an error when wildcard imports are used
#   W0614 = Unused import from wildcard

# Sometimes disabled depending on how bad a module is
#   C0111 = Missing docstring

# Disable the message(s) with the given id(s).
disable=W0142,W0403,R0201,W0212,W0613,W0232,R0903,W0614,C0111,C0301,R0913,C0103,F0401,W0402,R0914
</code></pre>
"
33,35470,4,163,python,Are there static analysis tools for Python?,"<p>I am starting to use Python (specifically because of Django) and I would like to remove the burden for exhaustive testing by performing some static analysis.  What tools/parameters/etc. exist to detect issues at compile time that would otherwise show up during runtime? (type errors are probably the most obvious case of this, but undefined variables are another big one that could be avoided with an in-depth analysis of the AST.)</p>

<p>Obviously testing is important, and I don't imply that tests can be obviated entirely; however, there are many runtime errors in python that are not possible in other languages that perform stricter run-time checking -- I'm hoping that there are tools to bring at least some of these capabilities to python as well.</p>
","<p>I echo the other answers and would just add that <a href=""http://pychecker.sourceforge.net/"" rel=""nofollow"">pychecker</a> is the quickest and easiest to use and <a href=""http://www.logilab.org/857"" rel=""nofollow"">pylint</a> the most comprehensive and configurable.</p>

<p>I also use <a href=""http://epydoc.sourceforge.net/"" rel=""nofollow"">epydoc</a> a fair bit and this is good for pointing out problems with your docstrings.</p>
"
370,191010,100,152,python,How to get a complete list of object's methods and attributes?,"<pre><code>dir(re.compile(pattern)) 
</code></pre>

<p>does not return pattern as one of the lists's elements. Namely it returns:</p>

<pre><code>['__copy__', '__deepcopy__', 'findall', 'finditer', 'match', 'scanner', 'search', 'split', 'sub', 'subn']
</code></pre>

<p>According to the manual, it is supposed to contain </p>

<blockquote>
  <p>the object's attributes' names, the
  names of its class's attributes, and
  recursively of the attributes of its
  class's base classes.</p>
</blockquote>

<p>It says also that</p>

<blockquote>
  <p>The list is not necessarily complete.</p>
</blockquote>

<p>Is there a way to get the <strong>complete</strong> list? I always assumed that dir returns a complete list but apparently it does not...</p>

<p>Also: is there a way to list only attributes? Or only methods?</p>

<p><em>Edit: this is actually a bug in python -> supposedly it is fixed in the 3.0 branch (and perhaps also in 2.6)</em></p>
","<p>For the <strong>complete</strong> list of attributes, the short answer is: no. The problem is that the attributes are actually defined as the arguments accepted by the <code>getattr</code> built-in function. As the user can reimplement <code>__getattr__</code>, suddenly allowing any kind of attribute, there is no possible generic way to generate that list. The <code>dir</code> function returns the keys in the <code>__dict__</code> attribute, i.e. all the attributes accessible if the <code>__getattr__</code> method is not reimplemented.</p>

<p>For the second question, it does not really make sense. Actually, methods are callable attributes, nothing more. You could though filter callable attributes, and, using the <code>inspect</code> module determine the class methods, methods or functions.</p>
"
371,191010,35,152,python,How to get a complete list of object's methods and attributes?,"<pre><code>dir(re.compile(pattern)) 
</code></pre>

<p>does not return pattern as one of the lists's elements. Namely it returns:</p>

<pre><code>['__copy__', '__deepcopy__', 'findall', 'finditer', 'match', 'scanner', 'search', 'split', 'sub', 'subn']
</code></pre>

<p>According to the manual, it is supposed to contain </p>

<blockquote>
  <p>the object's attributes' names, the
  names of its class's attributes, and
  recursively of the attributes of its
  class's base classes.</p>
</blockquote>

<p>It says also that</p>

<blockquote>
  <p>The list is not necessarily complete.</p>
</blockquote>

<p>Is there a way to get the <strong>complete</strong> list? I always assumed that dir returns a complete list but apparently it does not...</p>

<p>Also: is there a way to list only attributes? Or only methods?</p>

<p><em>Edit: this is actually a bug in python -> supposedly it is fixed in the 3.0 branch (and perhaps also in 2.6)</em></p>
","<p>That is why the new <code>__dir__()</code> method has been added in python 2.6</p>

<p>see:</p>

<ul>
<li><a href=""http://docs.python.org/whatsnew/2.6.html#other-language-changes"">http://docs.python.org/whatsnew/2.6.html#other-language-changes</a> (scroll down a little bit)</li>
<li><a href=""http://bugs.python.org/issue1591665"">http://bugs.python.org/issue1591665</a></li>
</ul>
"
435,219110,200,127,python,"How Python web frameworks, WSGI and CGI fit together","<p>I have a <a href=""http://en.wikipedia.org/wiki/Bluehost"">Bluehost</a> account where I can run Python scripts as CGI. I guess it's the simplest CGI, because to run I have to define the following in <code>.htaccess</code>:</p>

<pre><code>Options +ExecCGI
AddType text/html py
AddHandler cgi-script .py
</code></pre>

<p>Now, whenever I look up web programming with Python, I hear a lot about WSGI and how most frameworks use it. But I just don't understand how it all fits together, especially when my web server is given (Apache running at a host's machine) and not something I can really play with (except defining <code>.htaccess</code> commands).</p>

<p>How are <a href=""http://en.wikipedia.org/wiki/Web_Server_Gateway_Interface"">WSGI</a>, CGI, and the frameworks all connected? What do I need to know, install, and do if I want to run a web framework (say <a href=""http://webpy.org/"">web.py</a> or <a href=""http://en.wikipedia.org/wiki/CherryPy"">CherryPy</a>) on my basic CGI configuration? How to install WSGI support?</p>
","<p><strong>How WSGI, CGI, and the frameworks are all connected ?</strong></p>

<p>Apache listens on port 80.  It gets an HTTP request.  It parses the request to find a way to respond.  Apache has a LOT of choices for responding.   One way to respond is to use CGI to run a script.  Another way to respond is to simply serve a file.  </p>

<p>In the case of CGI, Apache prepares an environment and invokes the script through the CGI protocol.  This is a standard Unix Fork/Exec situation -- the CGI subprocess inherits an OS environment including the socket and stdout.  The CGI subprocess writes a response, which goes back to Apache; Apache sends this response to the browser.</p>

<p>CGI is primitive and annoying.  Mostly because it forks a subprocess for every request, and subprocess must exit or close stdout and stderr to signify end of response.</p>

<p>WSGI is an interface that is based on the CGI design pattern.  It is not necessarily CGI -- it does not have to fork a subprocess for each request.  It can be CGI, but it doesn't have to be.</p>

<p>WSGI adds to the CGI design pattern in several important ways.  It parses the HTTP Request Headers for you and adds these to the environment.  It supplies any POST-oriented input as a file-like object in the environment.  It also provides you a function that will formulate the response, saving you from a lot of formatting details.</p>

<p><strong>What do I need to know / install / do if I want to run a web framework (say web.py or cherrypy) on my basic CGI configuration ?</strong></p>

<p>Recall that forking a subprocess is expensive.  There are two ways to work around this.</p>

<ol>
<li><p><strong>Embedded</strong> <code>mod_wsgi</code> or <code>mod_python</code> embeds Python inside Apache; no process is forked.  Apache runs the Django application directly.</p></li>
<li><p><strong>Daemon</strong> <code>mod_wsgi</code> or <code>mod_fastcgi</code> allows Apache to interact with a separate daemon (or ""long-running process""), using the WSGI protocol.  You start your long-running Django process, then you configure Apache's mod_fastcgi to communicate with this process.</p></li>
</ol>

<p>Note that <code>mod_wsgi</code> can work in either mode: embedded or daemon.</p>

<p>When you read up on mod_fastcgi, you'll see that Django uses <a href=""http://pypi.python.org/pypi/flup/"">flup</a> to create a WSGI-compatible interface from the information provided by mod_fastcgi.  The pipeline works like this.</p>

<pre><code>Apache -&gt; mod_fastcgi -&gt; FLUP (via FastCGI protocol) -&gt; Django (via WSGI protocol)
</code></pre>

<p>Django has several ""django.core.handlers"" for the various interfaces.</p>

<p>For mod_fastcgi, Django provides a <code>manage.py runfcgi</code> that integrates FLUP and the handler.</p>

<p>For mod_wsgi, there's a core handler for this.</p>

<p><strong>How to install WSGI support ?</strong></p>

<p>Follow these instructions.</p>

<p><a href=""http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango"">http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango</a></p>

<p>For background see this</p>

<p><a href=""http://docs.djangoproject.com/en/dev/howto/deployment/#howto-deployment-index"">http://docs.djangoproject.com/en/dev/howto/deployment/#howto-deployment-index</a></p>
"
432,219110,21,127,python,"How Python web frameworks, WSGI and CGI fit together","<p>I have a <a href=""http://en.wikipedia.org/wiki/Bluehost"">Bluehost</a> account where I can run Python scripts as CGI. I guess it's the simplest CGI, because to run I have to define the following in <code>.htaccess</code>:</p>

<pre><code>Options +ExecCGI
AddType text/html py
AddHandler cgi-script .py
</code></pre>

<p>Now, whenever I look up web programming with Python, I hear a lot about WSGI and how most frameworks use it. But I just don't understand how it all fits together, especially when my web server is given (Apache running at a host's machine) and not something I can really play with (except defining <code>.htaccess</code> commands).</p>

<p>How are <a href=""http://en.wikipedia.org/wiki/Web_Server_Gateway_Interface"">WSGI</a>, CGI, and the frameworks all connected? What do I need to know, install, and do if I want to run a web framework (say <a href=""http://webpy.org/"">web.py</a> or <a href=""http://en.wikipedia.org/wiki/CherryPy"">CherryPy</a>) on my basic CGI configuration? How to install WSGI support?</p>
","<p>You can <a href=""http://www.python.org/dev/peps/pep-0333/#the-server-gateway-side"">run WSGI over CGI as Pep333 demonstrates</a> as an example. However every time there is a request a new Python interpreter is started and the whole context (database connections, etc.) needs to be build which all take time.</p>

<p>The best if you want to run WSGI would be if your host would install <a href=""http://code.google.com/p/modwsgi/"">mod_wsgi</a> and made an appropriate configuration to defer control to an application of yours.</p>

<p><a href=""http://trac.saddi.com/flup"">Flup</a> is another way to run with WSGI for any webserver that can speak <a href=""http://www.fastcgi.com/drupal/"">FCGI</a>, <a href=""http://www.mems-exchange.org/software/scgi/"">SCGI</a> or AJP. From my experience only FCGI really works, and it can be used in Apache either via <a href=""http://www.fastcgi.com/mod_fastcgi/docs/mod_fastcgi.html"">mod_fastcgi</a> or if you can run a separate Python daemon with <a href=""http://mproxyfcgi.sourceforge.net/"">mod_proxy_fcgi</a>.</p>

<p><a href=""http://wsgi.org"">WSGI</a> is a protocol much like CGI, which defines a set of rules how webserver and Python code can interact, it is defined as <a href=""http://www.python.org/dev/peps/pep-0333"">Pep333</a>. It makes it possible that many different webservers can use many different frameworks and applications using the same application protocol. This is very beneficial and makes it so useful.</p>
"
434,219110,4,127,python,"How Python web frameworks, WSGI and CGI fit together","<p>I have a <a href=""http://en.wikipedia.org/wiki/Bluehost"">Bluehost</a> account where I can run Python scripts as CGI. I guess it's the simplest CGI, because to run I have to define the following in <code>.htaccess</code>:</p>

<pre><code>Options +ExecCGI
AddType text/html py
AddHandler cgi-script .py
</code></pre>

<p>Now, whenever I look up web programming with Python, I hear a lot about WSGI and how most frameworks use it. But I just don't understand how it all fits together, especially when my web server is given (Apache running at a host's machine) and not something I can really play with (except defining <code>.htaccess</code> commands).</p>

<p>How are <a href=""http://en.wikipedia.org/wiki/Web_Server_Gateway_Interface"">WSGI</a>, CGI, and the frameworks all connected? What do I need to know, install, and do if I want to run a web framework (say <a href=""http://webpy.org/"">web.py</a> or <a href=""http://en.wikipedia.org/wiki/CherryPy"">CherryPy</a>) on my basic CGI configuration? How to install WSGI support?</p>
","<p>It's a simple abstraction layer for Python, akin to what the Servlet spec is for Java.  Whereas CGI is really low level and just dumps stuff into the process environment and standard in/out, the above two specs model the http request and response as constructs in the language.  My impression however is that in Python folks have not quite settled on de-facto implementations so you have a mix of reference implementations, and other utility-type libraries that provide other things along with WSGI support (e.g. Paste).  Of course I could be wrong, I'm a newcomer to Python.  The ""web scripting"" community is coming at the problem from a different direction (shared hosting, CGI legacy, privilege separation concerns) than Java folks had the luxury of starting with (running a single enterprise container in a dedicated environment against statically compiled and deployed code).</p>
"
433,219110,49,127,python,"How Python web frameworks, WSGI and CGI fit together","<p>I have a <a href=""http://en.wikipedia.org/wiki/Bluehost"">Bluehost</a> account where I can run Python scripts as CGI. I guess it's the simplest CGI, because to run I have to define the following in <code>.htaccess</code>:</p>

<pre><code>Options +ExecCGI
AddType text/html py
AddHandler cgi-script .py
</code></pre>

<p>Now, whenever I look up web programming with Python, I hear a lot about WSGI and how most frameworks use it. But I just don't understand how it all fits together, especially when my web server is given (Apache running at a host's machine) and not something I can really play with (except defining <code>.htaccess</code> commands).</p>

<p>How are <a href=""http://en.wikipedia.org/wiki/Web_Server_Gateway_Interface"">WSGI</a>, CGI, and the frameworks all connected? What do I need to know, install, and do if I want to run a web framework (say <a href=""http://webpy.org/"">web.py</a> or <a href=""http://en.wikipedia.org/wiki/CherryPy"">CherryPy</a>) on my basic CGI configuration? How to install WSGI support?</p>
","<p>I think <a href=""http://stackoverflow.com/questions/219110/how-python-web-frameworks-wsgi-and-cgi-fit-together/219124#219124"">Florian's answer</a> answers the part of your question about ""what is WSGI"", especially if you read <a href=""http://www.python.org/dev/peps/pep-0333"">the PEP</a>.</p>

<p>As for the questions you pose towards the end:</p>

<p>WSGI, CGI, FastCGI etc. are all protocols for a web server to <em>run code</em>, and deliver the dynamic content that is produced. Compare this to static web serving, where a plain HTML file is basically delivered as is to the client.</p>

<p><strong>CGI, FastCGI and SCGI are language agnostic.</strong> You can write CGI scripts in Perl, Python, C, bash, whatever. CGI defines <em>which</em> executable will be called, based on the URL, and <em>how</em> it will be called: the arguments and environment. It also defines how the return value should be passed back to the web server once your executable is finished. The variations are basically optimisations to be able to handle more requests, reduce latency and so on; the basic concept is the same.</p>

<p><strong>WSGI is Python only.</strong> Rather than a language agnostic protocol, a standard function signature is defined:</p>

<pre><code>def simple_app(environ, start_response):
    """"""Simplest possible application object""""""
    status = '200 OK'
    response_headers = [('Content-type','text/plain')]
    start_response(status, response_headers)
    return ['Hello world!\n']
</code></pre>

<p>That is a complete (if limited) WSGI application. A web server with WSGI support (such as Apache with mod_wsgi) can invoke this function whenever a request arrives.</p>

<p>The reason this is so great is that we can avoid the messy step of converting from a HTTP GET/POST to CGI to Python, and back again on the way out. It's a much more direct, clean and efficient linkage.</p>

<p>It also makes it much easier to have long-running frameworks running behind web servers, if all that needs to be done for a request is a function call. With plain CGI, you'd have to <a href=""http://tools.cherrypy.org/wiki/RunAsCGI"">start your whole framework up</a> for each individual request.</p>

<p>To have WSGI support, you'll need to have installed a WSGI module (like <a href=""http://code.google.com/p/modwsgi/"">mod_wsgi</a>), or use a web server with WSGI baked in (like <a href=""http://tools.cherrypy.org/"">CherryPy</a>). If neither of those are possible, you <em>could</em> use the CGI-WSGI bridge given in the PEP.</p>
"
927,458550,0,126,python,Standard way to embed version into python package?,"<p>Is there a standard way to associate version string with a python package in such way that I could do the following?</p>

<pre><code>import foo
print foo.version
</code></pre>

<p>I would imagine there's some way to retrieve that data without any extra hardcoding, since minor/major strings are specified in <code>setup.py</code> already. Alternative solution that I found was to have <code>import __version__</code> in my <code>foo/__init__.py</code> and then have <code>__version__.py</code> generated by <code>setup.py</code>.</p>
","<p>For what it's worth, if you're using NumPy distutils, <code>numpy.distutils.misc_util.Configuration</code> has a <a href=""http://docs.scipy.org/doc/numpy/reference/distutils.html#numpy.distutils.misc_util.Configuration.make_svn_version_py"" rel=""nofollow""><code>make_svn_version_py()</code></a> method that embeds the revision number inside <code>package.__svn_version__</code> in the variable <code>version</code> .</p>
"
928,458550,5,126,python,Standard way to embed version into python package?,"<p>Is there a standard way to associate version string with a python package in such way that I could do the following?</p>

<pre><code>import foo
print foo.version
</code></pre>

<p>I would imagine there's some way to retrieve that data without any extra hardcoding, since minor/major strings are specified in <code>setup.py</code> already. Alternative solution that I found was to have <code>import __version__</code> in my <code>foo/__init__.py</code> and then have <code>__version__.py</code> generated by <code>setup.py</code>.</p>
","<p>There doesn't seem to be a standard way to embed a version string in a python package. Most packages I've seen use some variant of your solution, i.e. eitner</p>

<ol>
<li><p>Embed the version in <code>setup.py</code> and have <code>setup.py</code> generate a module (e.g. <code>version.py</code>) containing only version info,  that's imported by your package, or</p></li>
<li><p>The reverse: put the version info in your package itself, and import <em>that</em> to set the version in  <code>setup.py</code> </p></li>
</ol>
"
929,458550,64,126,python,Standard way to embed version into python package?,"<p>Is there a standard way to associate version string with a python package in such way that I could do the following?</p>

<pre><code>import foo
print foo.version
</code></pre>

<p>I would imagine there's some way to retrieve that data without any extra hardcoding, since minor/major strings are specified in <code>setup.py</code> already. Alternative solution that I found was to have <code>import __version__</code> in my <code>foo/__init__.py</code> and then have <code>__version__.py</code> generated by <code>setup.py</code>.</p>
","<p>Not directly an answer to your question, but you should consider naming it <code>__version__</code>, not <code>version</code>.</p>

<p>This is almost a quasi-standard. Many modules in the standard library use <code>__version__</code>, and this is also used in <a href=""http://www.google.com/codesearch?as_q=__version__&amp;btnG=Search+Code&amp;hl=en&amp;as_lang=python&amp;as_license_restrict=i&amp;as_license=&amp;as_package=&amp;as_filename=&amp;as_case="">lots</a> of 3rd-party modules, so it's the quasi-standard.</p>

<p>Usually, <code>__version__</code> is a string, but sometimes it's also a float or tuple.</p>

<p>Edit: as mentioned by S.Lott (Thank you!), <a href=""http://www.python.org/dev/peps/pep-0008/"">PEP 8</a> says it explicitly:</p>

<blockquote>
  <p>Version Bookkeeping</p>
  
  <p>If you have to have Subversion, CVS, or RCS crud in your source file,
  do it as follows.</p>

<pre><code>    __version__ = ""$Revision: 63990 $""
    # $Source$
</code></pre>
  
  <p>These lines should be included after the module's docstring, before
  any other code, separated by a blank line above and below.</p>
</blockquote>

<p>You should also make sure that the version number conforms to the format described in <a href=""http://www.python.org/dev/peps/pep-0440/"">PEP 440</a> (<a href=""http://www.python.org/dev/peps/pep-0386/"">PEP 386</a> a previous version of this standard).</p>
"
930,458550,3,126,python,Standard way to embed version into python package?,"<p>Is there a standard way to associate version string with a python package in such way that I could do the following?</p>

<pre><code>import foo
print foo.version
</code></pre>

<p>I would imagine there's some way to retrieve that data without any extra hardcoding, since minor/major strings are specified in <code>setup.py</code> already. Alternative solution that I found was to have <code>import __version__</code> in my <code>foo/__init__.py</code> and then have <code>__version__.py</code> generated by <code>setup.py</code>.</p>
","<p>Also worth noting is that as well as <code>__version__</code> being a semi-std. in python so is <code>__version_info__</code> which is a tuple, in the simple cases you can just do something like:</p>

<pre><code>__version__ = '1.2.3'
__version_info__ = tuple([ int(num) for num in __version__.split('.')])
</code></pre>

<p>...and you can get the <code>__version__</code> string from a file, or whatever.</p>
"
208,112970,129,119,python,Python - When to use file vs open,"<p>What's the difference between file and open in Python?  When should I use which one?  (Say I'm in 2.5)</p>
","<p>You should always use <code>open()</code>.</p>

<p>As the <a href=""http://docs.python.org/2/library/functions.html#file"" rel=""nofollow"" title=""BuiltinFuncs Doc"">documentation</a> states:</p>

<blockquote>
  <p>When opening a file, it's preferable
  to use open() instead of invoking this
  constructor directly. file is more
  suited to type testing (for example,
  writing ""isinstance(f, file)"").</p>
</blockquote>

<p>Also, <code>file()</code> <a href=""http://docs.python.org/release/3.0/whatsnew/3.0.html#builtins"" rel=""nofollow"">has been removed</a> since Python 3.0.</p>
"
213,112970,16,119,python,Python - When to use file vs open,"<p>What's the difference between file and open in Python?  When should I use which one?  (Say I'm in 2.5)</p>
","<p><code>file()</code> is a type, like an int or a list. <code>open()</code> is a function for opening files, and will return a <code>file</code> object.</p>

<p>This is an example of when you should use open:</p>

<pre><code>f = open(filename, 'r')
for line in f:
    process(line)
f.close()
</code></pre>

<p>This is an example of when you should use file:</p>

<pre><code>class LoggingFile(file):
    def write(self, data):
        sys.stderr.write(""Wrote %d bytes\n"" % len(data))
        super(LoggingFile, self).write(data)
</code></pre>

<p>As you can see, there's a good reason for both to exist, and a clear use-case for both.</p>
"
209,112970,4,119,python,Python - When to use file vs open,"<p>What's the difference between file and open in Python?  When should I use which one?  (Say I'm in 2.5)</p>
","<p>Functionally, the two are the same; <code>open</code> will call <code>file</code> anyway, so currently the difference is a matter of style. The <a href=""http://docs.python.org/lib/built-in-funcs.html"" rel=""nofollow"">Python docs</a> recommend using <code>open</code>. </p>

<blockquote>
  <p>When opening a file, it's preferable to use open() instead of invoking the file constructor directly. </p>
</blockquote>

<p>The reason is that in future versions they is not guaranteed to be the same (<code>open</code> will become a factory function, which returns objects of  different types depending on the path it's opening).</p>
"
210,112970,28,119,python,Python - When to use file vs open,"<p>What's the difference between file and open in Python?  When should I use which one?  (Say I'm in 2.5)</p>
","<p>Two reasons: The python philosophy of ""There ought to be one way to do it"" and <code>file</code> is going away.</p>

<p><code>file</code> is the actual type (using e.g. <code>file('myfile.txt')</code> is calling its constructor). <code>open</code> is a factory function that will return a file object.</p>

<p>In python 3.0 <code>file</code> is going to move from being a built-in to being implemented by multiple classes in the <code>io</code> library (somewhat similar to Java with buffered readers, etc.)</p>
"
211,112970,3,119,python,Python - When to use file vs open,"<p>What's the difference between file and open in Python?  When should I use which one?  (Say I'm in 2.5)</p>
","<p>Only ever use open() for opening files. file() is actually being removed in 3.0, and it's deprecated at the moment. They've had a sort of strange relationship, but file() is going now, so there's no need to worry anymore.</p>

<p>The following is from the Python 2.6 docs. [bracket stuff] added by me.</p>

<blockquote>
  <p>When opening a file, itâs preferable to use open() instead of invoking this [file()] constructor directly. file is more suited to type testing (for example, writing isinstance(f, file)</p>
</blockquote>
"
212,112970,1,119,python,Python - When to use file vs open,"<p>What's the difference between file and open in Python?  When should I use which one?  (Say I'm in 2.5)</p>
","<p>According to Mr Van Rossum, although open() is currently an alias for file() you should use open() because this might change in the future.</p>
"
230,118370,70,114,python,How do you use the ellipsis slicing syntax in Python?,"<p>This came up in  <a href=""http://stackoverflow.com/questions/101268/hidden-features-of-python"">Hidden features of Python</a>, but I can't see good documentation or examples that explain how the feature works.</p>
","<p>You'd use it in your own class, since no builtin class makes use of it.</p>

<p>Numpy uses it, as stated in the <a href=""http://wiki.scipy.org/Numpy_Example_List_With_Doc#head-490d781b49b68b300eedaef32369fae7d58627fb"">documentation</a>. Some examples <a href=""http://wiki.scipy.org/Tentative_NumPy_Tutorial#head-864862d3f2bb4c32f04260fac61eb4ef34788c4c"">here</a>.</p>

<p>In your own class, you'd use it like this:</p>

<pre><code>&gt;&gt;&gt; class TestEllipsis(object):
...     def __getitem__(self, item):
...         if item is Ellipsis:
...             return ""Returning all items""
...         else:
...             return ""return %r items"" % item
... 
&gt;&gt;&gt; x = TestEllipsis()
&gt;&gt;&gt; print x[2]
return 2 items
&gt;&gt;&gt; print x[...]
Returning all items
</code></pre>

<p>Of course, there is the <a href=""https://docs.python.org/library/constants.html#Ellipsis"">python documentation</a>, and <a href=""https://docs.python.org/reference/expressions.html#grammar-token-slicing"">language reference</a>. But those aren't very helpful. </p>
"
231,118370,159,114,python,How do you use the ellipsis slicing syntax in Python?,"<p>This came up in  <a href=""http://stackoverflow.com/questions/101268/hidden-features-of-python"">Hidden features of Python</a>, but I can't see good documentation or examples that explain how the feature works.</p>
","<p>The ellipsis is used to slice higher-dimensional data structures. </p>

<p>It's designed to mean <em>at this point, insert as many full slices (<code>:</code>) to extend the multi-dimensional slice to all dimensions</em>.</p>

<p><strong>Example</strong>:</p>

<pre><code>&gt;&gt;&gt; from numpy import arange
&gt;&gt;&gt; a = arange(16).reshape(2,2,2,2)
</code></pre>

<p>Now, you have a 4-dimensional matrix of order 2x2x2x2. To select all first elements in the 4th dimension, you can use the ellipsis notation</p>

<pre><code>&gt;&gt;&gt; a[..., 0].flatten()
array([ 0,  2,  4,  6,  8, 10, 12, 14])
</code></pre>

<p>which is equivalent to</p>

<pre><code>&gt;&gt;&gt; a[:,:,:,0].flatten()
array([ 0,  2,  4,  6,  8, 10, 12, 14])
</code></pre>

<p>In your own implementations, you're free to ignore the contract mentioned above and use it for whatever you see fit.</p>
"
232,118370,66,114,python,How do you use the ellipsis slicing syntax in Python?,"<p>This came up in  <a href=""http://stackoverflow.com/questions/101268/hidden-features-of-python"">Hidden features of Python</a>, but I can't see good documentation or examples that explain how the feature works.</p>
","<p>This is another use for Ellipsis, which has nothing to do with slices: I often use it in intra-thread communication with queues, as a mark that signals ""Done""; it's there, it's an object, it's a singleton, and its name means ""lack of"", and it's not the overused None (which could be put in a queue as part of normal data flow). YMMV.</p>

<p>P.S: I don't mind downvotes, when what I say in an answer is not useful in relation to the question; then I try to improve my answer. But I sure can't understand how one can downvote <em>any</em> of the answers in this questionâ when the question is âhow do <em>you</em> use the Ellipsis in Pythonââ¦ It seems that people think that downvoting means âI disagreeâ or âI don't like thisâ.</p>
"
369,190010,8,104,python,Daemon Threads Explanation,"<p>In the <a href=""https://docs.python.org/2/library/threading.html#thread-objects"">Python documentation</a>
it says:</p>

<blockquote>
  <p>A thread can be flagged as a ""daemon thread"". The significance of this
  flag is that the entire Python program exits when only daemon threads
  are left. The initial value is inherited from the creating thread.</p>
</blockquote>

<p>Does anyone have a clearer explanation of what that means or a practical example showing where you would want to set threads as <code>daemonic</code>?</p>

<hr>

<p>To clarify for me:</p>

<p>so the only time you <strong>wouldn't</strong> set threads as daemonic is if you wanted them to continue running after the main thread exits?</p>
","<p>A simpler way to think about it, perhaps: when main returns, your process will not exit if there are non-daemon threads still running.</p>

<p>A bit of advice: Clean shutdown is easy to get wrong when threads and synchronization are involved - if you can avoid it, do so. Use daemon threads whenever possible.</p>
"
368,190010,14,104,python,Daemon Threads Explanation,"<p>In the <a href=""https://docs.python.org/2/library/threading.html#thread-objects"">Python documentation</a>
it says:</p>

<blockquote>
  <p>A thread can be flagged as a ""daemon thread"". The significance of this
  flag is that the entire Python program exits when only daemon threads
  are left. The initial value is inherited from the creating thread.</p>
</blockquote>

<p>Does anyone have a clearer explanation of what that means or a practical example showing where you would want to set threads as <code>daemonic</code>?</p>

<hr>

<p>To clarify for me:</p>

<p>so the only time you <strong>wouldn't</strong> set threads as daemonic is if you wanted them to continue running after the main thread exits?</p>
","<p>Let's say you're making some kind of dashboard widget.  As part of this, you want it to display the unread message count in your email box.  So you make a little thread that will:</p>

<ol>
<li>Connect to the mail server and ask how many unread messages you have.</li>
<li>Signal the GUI with the updated count.</li>
<li>Sleep for a little while.</li>
</ol>

<p>When your widget starts up, it would create this thread, designate it a daemon, and start it.  Because it's a daemon, you don't have to think about it; when your widget exits, the thread will stop automatically.</p>
"
367,190010,220,104,python,Daemon Threads Explanation,"<p>In the <a href=""https://docs.python.org/2/library/threading.html#thread-objects"">Python documentation</a>
it says:</p>

<blockquote>
  <p>A thread can be flagged as a ""daemon thread"". The significance of this
  flag is that the entire Python program exits when only daemon threads
  are left. The initial value is inherited from the creating thread.</p>
</blockquote>

<p>Does anyone have a clearer explanation of what that means or a practical example showing where you would want to set threads as <code>daemonic</code>?</p>

<hr>

<p>To clarify for me:</p>

<p>so the only time you <strong>wouldn't</strong> set threads as daemonic is if you wanted them to continue running after the main thread exits?</p>
","<p>Some threads do background tasks, like sending keepalive packets, or performing periodic garbage collection, or whatever. These are only useful when the main program is running, and it's okay to kill them off once the other, non-daemon, threads have exited.</p>

<p>Without daemon threads, you'd have to keep track of them, and tell them to exit, before your program can completely quit. By setting them as daemon threads, you can let them run and forget about them, and when your program quits, any daemon threads are killed automatically.</p>
"
937,464040,25,103,python,How are POST and GET variables handled in Python?,"<p>In PHP you can just use <code>$_POST</code> for POST and <code>$_GET</code> for GET (Query string) variables. What's the equivalent in Python?</p>
","<p>They are stored in the CGI fieldstorage object.</p>

<pre><code>import cgi
form = cgi.FieldStorage()

print ""The user entered %s"" % form.getvalue(""uservalue"")
</code></pre>
"
936,464040,-1,103,python,How are POST and GET variables handled in Python?,"<p>In PHP you can just use <code>$_POST</code> for POST and <code>$_GET</code> for GET (Query string) variables. What's the equivalent in Python?</p>
","<p>Python is only a language, to get GET and POST data, you need a web framework or toolkit written in Python.  Django is one, as Charlie points out, the cgi and urllib standard modules are others.  Also available are Turbogears, Pylons, CherryPy, web.py, mod_python, fastcgi, etc, etc.</p>

<p>In Django, your view functions receive a request argument which has request.GET and request.POST.  Other frameworks will do it differently.</p>
"
935,464040,2,103,python,How are POST and GET variables handled in Python?,"<p>In PHP you can just use <code>$_POST</code> for POST and <code>$_GET</code> for GET (Query string) variables. What's the equivalent in Python?</p>
","<p>It somewhat depends on what you use as a CGI framework, but they are available in dictionaries accessible to the program. I'd point you to the docs, but I'm not getting through to python.org right now.  But <a href=""http://mail.python.org/pipermail/python-list/2008-April/485712.html"" rel=""nofollow"">this note on mail.python.org will give you a first pointer</a>.  Look at the CGI and URLLIB Python libs for more.</p>

<p><strong>Update</strong></p>

<p>Okay, that link busted.  Here's the <a href=""https://docs.python.org/2/library/wsgiref.html"" rel=""nofollow"">basic wsgi ref</a></p>
"
938,464040,187,103,python,How are POST and GET variables handled in Python?,"<p>In PHP you can just use <code>$_POST</code> for POST and <code>$_GET</code> for GET (Query string) variables. What's the equivalent in Python?</p>
","<p>suppose you're posting a html form with this:</p>

<pre><code>&lt;input type=""text"" name=""username""&gt;
</code></pre>

<p>If using <a href=""http://docs.python.org/library/cgi.html"">raw cgi</a>:</p>

<pre><code>import cgi
form = cgi.FieldStorage()
print form[""username""]
</code></pre>

<p>If using <a href=""http://docs.djangoproject.com/"">Django</a>, <a href=""http://pylonshq.com/"">Pylons</a>, <a href=""http://flask.pocoo.org/"">Flask</a> or <a href=""http://www.pylonsproject.org/projects/pyramid/about"">Pyramid</a>: </p>

<pre><code>print request.GET['username'] # for GET form method
print request.POST['username'] # for POST form method
</code></pre>

<p>Using <a href=""http://turbogears.org/"">Turbogears</a>, <a href=""http://www.cherrypy.org/"">Cherrypy</a>:</p>

<pre><code>from cherrypy import request
print request.params['username']
</code></pre>

<p><a href=""http://webpy.org"">Web.py</a>:</p>

<pre><code>form = web.input()
print form.username
</code></pre>

<p><a href=""http://werkzeug.pocoo.org/"">Werkzeug</a>:</p>

<pre><code>print request.form['username']
</code></pre>

<p>If using Cherrypy or Turbogears, you can also define your handler function taking a parameter directly:</p>

<pre><code>def index(self, username):
    print username
</code></pre>

<p><a href=""https://developers.google.com/appengine/docs/python/gettingstartedpython27/introduction"">Google App Engine</a>:</p>

<pre><code>class SomeHandler(webapp2.RequestHandler):
    def post(self):
        name = self.request.get('username') # this will get the value from the field named username
        self.response.write(name) # this will write on the document
</code></pre>

<p>So you really will have to choose one of those frameworks.</p>
"
91,68630,6,101,python,Are tuples more efficient than lists in Python?,"<p>Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements? </p>
","<p>You should also consider the <code>array</code> module in the standard library if all the items in your list or tuple are of the same type.  It can be faster and take less memory.</p>
"
87,68630,1,101,python,Are tuples more efficient than lists in Python?,"<p>Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements? </p>
","<p>Tuples should be slightly more efficient and because of that, faster, than lists because they are immutable.</p>
"
88,68630,131,101,python,Are tuples more efficient than lists in Python?,"<p>Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements? </p>
","<p>In general, you might expect tuples to be slightly faster. However you should definitely test your specific case (if the difference might impact the performance of your program --  remember ""premature optimization is the root of all evil"").</p>

<p>Python makes this very easy: <a href=""https://docs.python.org/2/library/timeit.html"">timeit</a> is your friend.</p>

<pre><code>$ python -m timeit ""x=(1,2,3,4,5,6,7,8)""
10000000 loops, best of 3: 0.0388 usec per loop

$ python -m timeit ""x=[1,2,3,4,5,6,7,8]""
1000000 loops, best of 3: 0.363 usec per loop
</code></pre>

<p>and...</p>

<pre><code>$ python -m timeit -s ""x=(1,2,3,4,5,6,7,8)"" ""y=x[3]""
10000000 loops, best of 3: 0.0938 usec per loop

$ python -m timeit -s ""x=[1,2,3,4,5,6,7,8]"" ""y=x[3]""
10000000 loops, best of 3: 0.0649 usec per loop
</code></pre>

<p>So in this case, instantiation is almost an order of magnitude faster for the tuple, but item access is actually somewhat faster for the list! So if you're creating a few tuples and accessing them many many times, it may actually be faster to use lists instead.</p>

<p>Of course if you want to <em>change</em> an item, the list will definitely be faster since you'd need to create an entire new tuple to change one item of it (since tuples are immutable).</p>
"
89,68630,88,101,python,Are tuples more efficient than lists in Python?,"<p>Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements? </p>
","<p>The <a href=""https://docs.python.org/3/library/dis.html""><code>dis</code></a> module disassembles the byte code for a function and is useful to see the difference between tuples and lists.</p>

<p>In this case, you can see that accessing an element generates identical code, but that assigning a tuple is much faster than assigning a list.</p>

<pre><code>&gt;&gt;&gt; def a():
...     x=[1,2,3,4,5]
...     y=x[2]
...
&gt;&gt;&gt; def b():
...     x=(1,2,3,4,5)
...     y=x[2]
...
&gt;&gt;&gt; import dis
&gt;&gt;&gt; dis.dis(a)
  2           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 BUILD_LIST               5
             18 STORE_FAST               0 (x)

  3          21 LOAD_FAST                0 (x)
             24 LOAD_CONST               2 (2)
             27 BINARY_SUBSCR
             28 STORE_FAST               1 (y)
             31 LOAD_CONST               0 (None)
             34 RETURN_VALUE
&gt;&gt;&gt; dis.dis(b)
  2           0 LOAD_CONST               6 ((1, 2, 3, 4, 5))
              3 STORE_FAST               0 (x)

  3           6 LOAD_FAST                0 (x)
              9 LOAD_CONST               2 (2)
             12 BINARY_SUBSCR
             13 STORE_FAST               1 (y)
             16 LOAD_CONST               0 (None)
             19 RETURN_VALUE
</code></pre>
"
90,68630,26,101,python,Are tuples more efficient than lists in Python?,"<p>Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements? </p>
","<p>Tuples, being immutable, are more memory efficient; lists, for efficiency, overallocate memory in order to allow appends without constant <code>realloc</code>s. So, if you want to iterate through a constant sequence of values in your code (eg <code>for direction in 'up', 'right', 'down', 'left':</code>), tuples are preferred, since such tuples are pre-calculated in compile time.</p>

<p>Access speeds should be the same (they are both stored as contiguous arrays in the memory).</p>

<p>But, <code>alist.append(item)</code> is much preferred to <code>atuple+= (item,)</code> when you deal with mutable data. Remember, tuples are intended to be treated as records without field names.</p>
"
49,43580,5,101,python,How to find the mime type of a file in python?,"<p>Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer.</p>

<p>Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response.</p>

<p>Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type.</p>

<p>How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. </p>

<p>Does the browser add this information when posting the file to the web page?</p>

<p>Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?</p>
","<p>You didn't state what web server you were using, but Apache has a nice little module called <a href=""http://httpd.apache.org/docs/1.3/mod/mod_mime_magic.html"" rel=""nofollow"">Mime Magic</a> which it uses to determine the type of a file when told to do so.  It reads some of the file's content and tries to figure out what type it is based on the characters found.  And as <a href=""http://stackoverflow.com/questions/43580/how-to-find-the-mime-type-of-a-file-in-python#43588"" rel=""nofollow"">Dave Webb Mentioned</a> the <a href=""http://docs.python.org/lib/module-mimetypes.html"" rel=""nofollow"">MimeTypes Module</a> under python will work, provided an extension is handy.</p>

<p>Alternatively, if you are sitting on a UNIX box you can use <code>sys.popen('file -i ' + fileName, mode='r')</code> to grab the MIME type.  Windows should have an equivalent command, but I'm unsure as to what it is. </p>
"
48,43580,53,101,python,How to find the mime type of a file in python?,"<p>Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer.</p>

<p>Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response.</p>

<p>Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type.</p>

<p>How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. </p>

<p>Does the browser add this information when posting the file to the web page?</p>

<p>Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?</p>
","<p>The <a href=""https://docs.python.org/library/mimetypes.html"">mimetypes module</a> in the standard library will determine/guess the MIME type from a file extension.</p>

<p>If users are uploading files the HTTP post will contain the MIME type of the file alongside the data.  For example, Django makes this data available as an attribute of the <a href=""https://docs.djangoproject.com/en/dev/topics/http/file-uploads/#uploadedfile-objects"">UploadedFile</a> object.</p>
"
868,436220,0,97,python,Python: Is there a way to determine the encoding of text file?,"<p>I know there is something buried in <a href=""http://stackoverflow.com/questions/90838/how-can-i-detect-the-encoding-codepage-of-a-text-file"">here</a>.  But I was just wondering if there is an actual way built into Python to determine text file encoding?</p>

<p>Thanks for your help :)</p>

<p>Edit:  As a side question, it can be ignored if you want but why is the type of encoding not put into the file so it could be detected easier?</p>
","<p>It is, in principle, impossible to determine the encoding of a text file, in the general case. So no, there is no standard Python library to do that for you.</p>

<p>If you have more specific knowledge about the text file (e.g. that it is XML), there might be library functions.</p>
"
869,436220,0,97,python,Python: Is there a way to determine the encoding of text file?,"<p>I know there is something buried in <a href=""http://stackoverflow.com/questions/90838/how-can-i-detect-the-encoding-codepage-of-a-text-file"">here</a>.  But I was just wondering if there is an actual way built into Python to determine text file encoding?</p>

<p>Thanks for your help :)</p>

<p>Edit:  As a side question, it can be ignored if you want but why is the type of encoding not put into the file so it could be detected easier?</p>
","<p>If you know the some content of the file you can try to decode it with several encoding and see which is missing. In general there is no way since a text file is a text file and those are stupid ;)</p>
"
870,436220,100,97,python,Python: Is there a way to determine the encoding of text file?,"<p>I know there is something buried in <a href=""http://stackoverflow.com/questions/90838/how-can-i-detect-the-encoding-codepage-of-a-text-file"">here</a>.  But I was just wondering if there is an actual way built into Python to determine text file encoding?</p>

<p>Thanks for your help :)</p>

<p>Edit:  As a side question, it can be ignored if you want but why is the type of encoding not put into the file so it could be detected easier?</p>
","<p>Correctly detecting the encoding all times is <strong>impossible</strong>.</p>

<p>(From chardet FAQ:)</p>

<blockquote>
  <p>However, some encodings are optimized
  for specific languages, and languages
  are not random. Some character
  sequences pop up all the time, while
  other sequences make no sense. A
  person fluent in English who opens a
  newspaper and finds âtxzqJv 2!dasd0a
  QqdKjvzâ will instantly recognize that
  that isn't English (even though it is
  composed entirely of English letters).
  By studying lots of âtypicalâ text, a
  computer algorithm can simulate this
  kind of fluency and make an educated
  guess about a text's language.</p>
</blockquote>

<p>There is the <a href=""http://pypi.python.org/pypi/chardet"">chardet</a> library that uses that study to try to detect encoding. chardet is a port of the auto-detection code in Mozilla. </p>

<p>You can also use <a href=""http://www.crummy.com/software/BeautifulSoup/documentation.html#Beautiful%20Soup%20Gives%20You%20Unicode,%20Dammit"">UnicodeDammit</a>. It will try the following methods:</p>

<ul>
<li>An encoding discovered in the document itself: for instance, in an XML declaration or (for HTML documents) an http-equiv META tag. If Beautiful Soup finds this kind of encoding within the document, it parses the document again from the beginning and gives the new encoding a try. The only exception is if you explicitly specified an encoding, and that encoding actually worked: then it will ignore any encoding it finds in the document.</li>
<li>An encoding sniffed by looking at the first few bytes of the file. If an encoding is detected at this stage, it will be one of the UTF-* encodings, EBCDIC, or ASCII.</li>
<li>An encoding sniffed by the <a href=""http://pypi.python.org/pypi/chardet"">chardet</a> library, if you have it installed.</li>
<li>UTF-8</li>
<li>Windows-1252 </li>
</ul>
"
976,482410,144,89,python,How do I convert a string to a double in Python?,"<p>I would like to know how to convert a string containing digits to a double.</p>
","<pre><code>&gt;&gt;&gt; x = ""2342.34""
&gt;&gt;&gt; float(x)
2342.3400000000001
</code></pre>

<p>There you go.  Use float (which is almost always a C double).</p>
"
218,114830,25,88,python,Is a Python dictionary an example of a hash table?,"<p>One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type.  Is this implemented internally as a hash table?  If not, what is it?</p>
","<p>If you're interested in the technical details, one article in <a href=""http://oreilly.com/catalog/9780596510046/"">Beautiful Code</a> deals with the internals of Python's <code>dict</code> implementation.</p>
"
216,114830,127,88,python,Is a Python dictionary an example of a hash table?,"<p>One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type.  Is this implemented internally as a hash table?  If not, what is it?</p>
","<p>Yes, it is a hash mapping or hash table. You can read a description of python's dict implementation, as written by Tim Peters, <a href=""http://mail.python.org/pipermail/python-list/2000-March/048085.html"">here</a>.</p>

<p>That's why you can't use something 'not hashable' as a dict key, like a list:</p>

<pre><code>&gt;&gt;&gt; a = {}
&gt;&gt;&gt; b = ['some', 'list']
&gt;&gt;&gt; hash(b)
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
TypeError: list objects are unhashable
&gt;&gt;&gt; a[b] = 'some'
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
TypeError: list objects are unhashable
</code></pre>

<p>You can <a href=""http://en.wikipedia.org/wiki/Hash_table"">read more about hash tables</a> or <a href=""https://hg.python.org/cpython/file/10eea15880db/Objects/dictobject.c"">check how it has been implemented in python</a> and <a href=""https://hg.python.org/cpython/file/10eea15880db/Objects/dictnotes.txt"">why it is implemented that way</a>.</p>
"
217,114830,14,88,python,Is a Python dictionary an example of a hash table?,"<p>One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type.  Is this implemented internally as a hash table?  If not, what is it?</p>
","<p>Yes.  Internally it is implemented as open hashing based on a primitive polynomial over Z/2 (<a href=""http://mail.python.org/pipermail/python-list/2000-February/023645.html"">source</a>).</p>
"
219,114830,5,88,python,Is a Python dictionary an example of a hash table?,"<p>One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type.  Is this implemented internally as a hash table?  If not, what is it?</p>
","<p>To expand upon nosklo's explanation:</p>

<pre><code>a = {}
b = ['some', 'list']
a[b] = 'some' # this won't work
a[tuple(b)] = 'some' # this will, same as a['some', 'list']
</code></pre>
"
385,200020,130,87,python,Get last answer,"<p>In many symbolic math systems, such as Matlab or Mathematica, you can use a variable like <code>Ans</code> or <code>%</code> to retrieve the last computed value. Is there a similar facility in the Python shell?</p>
","<p>Underscore.</p>

<pre><code>&gt;&gt;&gt; 5+5
10
&gt;&gt;&gt; _
10
&gt;&gt;&gt; _ + 5
15
&gt;&gt;&gt; _
15
</code></pre>
"
386,200020,41,87,python,Get last answer,"<p>In many symbolic math systems, such as Matlab or Mathematica, you can use a variable like <code>Ans</code> or <code>%</code> to retrieve the last computed value. Is there a similar facility in the Python shell?</p>
","<p>Just for the record, ipython takes this one step further and you can access every result with _ and its numeric value</p>

<pre><code>In [1]: 10
Out[1]: 10

In [2]: 32
Out[2]: 32

In [3]: _
Out[3]: 32

In [4]: _1
Out[4]: 10

In [5]: _2
Out[5]: 32

In [6]: _1 + _2
Out[6]: 42

In [7]: _6
Out[7]: 42
</code></pre>

<p>And it is possible to edit ranges of lines with the %ed macro too:</p>

<pre><code>In [1]: def foo():
   ...:     print ""bar""
   ...:     
   ...:     

In [2]: foo()
bar

In [3]: %ed 1-2
</code></pre>
"
392,207000,100,84,python,Python: Difference between class and instance attributes,"<p>Is there any meaningful distinction between:</p>

<pre><code>class A(object):
    foo = 5   # some default value
</code></pre>

<p>vs.</p>

<pre><code>class B(object):
    def __init__(self, foo=5):
        self.foo = foo
</code></pre>

<p>If you're creating a lot of instances, is there any difference in performance or space requirements for the two styles? When you read the code, do you consider the meaning of the two styles to be significantly different?</p>
","<p>Beyond performance considerations, there is a significant <em>semantic</em> difference.  In the class attribute case, there is just one object referred to.  In the instance-attribute-set-at-instantiation, there can be multiple objects referred to.  For instance</p>

<pre><code>&gt;&gt;&gt; class A: foo = []
&gt;&gt;&gt; a, b = A(), A()
&gt;&gt;&gt; a.foo.append(5)
&gt;&gt;&gt; b.foo
[5]
&gt;&gt;&gt; class A:
...  def __init__(self): self.foo = []
&gt;&gt;&gt; a, b = A(), A()
&gt;&gt;&gt; a.foo.append(5)
&gt;&gt;&gt; b.foo    
[]
</code></pre>
"
393,207000,1,84,python,Python: Difference between class and instance attributes,"<p>Is there any meaningful distinction between:</p>

<pre><code>class A(object):
    foo = 5   # some default value
</code></pre>

<p>vs.</p>

<pre><code>class B(object):
    def __init__(self, foo=5):
        self.foo = foo
</code></pre>

<p>If you're creating a lot of instances, is there any difference in performance or space requirements for the two styles? When you read the code, do you consider the meaning of the two styles to be significantly different?</p>
","<p>Just an elaboration on what Alex Coventry said, another Alex (Martelli) addressed a similar question on the <code>comp.lang.python</code> newsgroup years back.  He examines the semantic difference of what a person intended vs. what he got (by using instance variables).</p>

<p><a href=""http://groups.google.com/group/comp.lang.python/msg/5914d297aff35fae?hl=en"" rel=""nofollow"">http://groups.google.com/group/comp.lang.python/msg/5914d297aff35fae?hl=en</a></p>
"
394,207000,22,84,python,Python: Difference between class and instance attributes,"<p>Is there any meaningful distinction between:</p>

<pre><code>class A(object):
    foo = 5   # some default value
</code></pre>

<p>vs.</p>

<pre><code>class B(object):
    def __init__(self, foo=5):
        self.foo = foo
</code></pre>

<p>If you're creating a lot of instances, is there any difference in performance or space requirements for the two styles? When you read the code, do you consider the meaning of the two styles to be significantly different?</p>
","<p>The difference is that the attribute on the class is shared by all instances. The attribute on an instance is unique to that instance.</p>

<p>If coming from C++, attributes on the class are more like static member variables.</p>
"
666,348630,10,80,python,How can I download all emails with attachments from Gmail?,"<p>How do I connect to Gmail and determine which messages have attachments?  I then want to download each attachment, printing out the Subject: and From: for each message as I process it.</p>
","<p>I'm not an expert on Perl, but what I do know is that GMail supports IMAP and POP3, 2 protocols that are completely standard and allow you to do just that. </p>

<p>Maybe that helps you to get started. </p>
"
667,348630,4,80,python,How can I download all emails with attachments from Gmail?,"<p>How do I connect to Gmail and determine which messages have attachments?  I then want to download each attachment, printing out the Subject: and From: for each message as I process it.</p>
","<p>Within gmail, you can filter on ""has:attachment"", use it to identify the messages you should be getting when testing. Note this appears to give both messages with attached files (paperclip icon shown), as well as inline attached images (no paperclip shown).</p>

<p>There is no Gmail API, so IMAP or POP are your only real options. The <a href=""http://www.nakov.com/inetjava/lectures/part-1-sockets/InetJava-1.9-JavaMail-API.html"" rel=""nofollow"">JavaMail API</a> may be of some assistance as well as this very terse article on <a href=""http://www.perlmonks.org/?node_id=697321"" rel=""nofollow"">downloading attachments from IMAP using Perl</a>. Some <a href=""http://stackoverflow.com/questions/61176/getting-mail-from-gmail-into-java-application-using-imap"">previous questions</a> here on SO may also help.</p>

<p>This <a href=""http://petewarden.typepad.com/searchbrowser/2008/03/how-to-use-imap.html"" rel=""nofollow"">PHP example</a> may help too. Unfortunately from what I can see, there is no attachment information contained within the imap_header, so downloading the body is required to be able to see the X-Attachment-Id field. (someone please prove me wrong).</p>
"
668,348630,1,80,python,How can I download all emails with attachments from Gmail?,"<p>How do I connect to Gmail and determine which messages have attachments?  I then want to download each attachment, printing out the Subject: and From: for each message as I process it.</p>
","<p>Since Gmail supports the standard protocols POP and IMAP, any platform, tool, application, component, or API that provides the client side of either protocol should work.</p>

<p>I suggest doing a Google search for your favorite language/platform (e.g., ""python""), plus ""pop"", plus ""imap"", plus perhaps ""open source"", plus perhaps ""download"" or ""review"", and see what you get for options.</p>

<p>There are numerous free applications and components, pick a few that seem worthy, check for reviews, then download and enjoy.</p>
"
669,348630,1,80,python,How can I download all emails with attachments from Gmail?,"<p>How do I connect to Gmail and determine which messages have attachments?  I then want to download each attachment, printing out the Subject: and From: for each message as I process it.</p>
","<p>You should be aware of the fact that you need SSL to connect to GMail (both for POP3 and IMAP - this is of course true also for their SMTP-servers apart from port 25 but that's another story).</p>
"
487,248830,19,79,python,Python: using a recursive algorithm as a generator,"<p>Recently I wrote a function to generate certain sequences with nontrivial constraints. The problem came with a natural recursive solution. Now it happens that, even for relatively small input, the sequences are several thousands, thus I would prefer to use my algorithm as a generator instead of using it to fill a list with all the sequences.</p>

<p>Here is an example. Suppose we want to compute all the permutations of a string with a recursive function. The following naive algorithm takes an extra argument 'storage' and appends a permutation to it whenever it finds one:</p>

<pre><code>def getPermutations(string, storage, prefix=""""):
   if len(string) == 1:
      storage.append(prefix + string)   # &lt;-----
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], storage, prefix+string[i])

storage = []
getPermutations(""abcd"", storage)
for permutation in storage: print permutation
</code></pre>

<p>(Please don't care about inefficiency, this is only an example.)</p>

<p>Now I want to turn my function into a generator, i.e. to yield a permutation instead of appending it to the storage list:</p>

<pre><code>def getPermutations(string, prefix=""""):
   if len(string) == 1:
      yield prefix + string             # &lt;-----
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], prefix+string[i])

for permutation in getPermutations(""abcd""):
   print permutation
</code></pre>

<p>This code does <em>not</em> work (the function behaves like an empty generator).</p>

<p>Am I missing something?
Is there a way to turn the above recursive algorithm into a generator <em>without replacing it with an iterative one</em>?</p>
","<p>The interior call to getPermutations -- it's a generator, too.</p>

<pre><code>def getPermutations(string, prefix=""""):
   if len(string) == 1:
      yield prefix + string            
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], prefix+string[i])  # &lt;-----
</code></pre>

<p>You need to iterate through that with a for-loop (see @MizardX posting, which edged me out by seconds!)</p>
"
488,248830,24,79,python,Python: using a recursive algorithm as a generator,"<p>Recently I wrote a function to generate certain sequences with nontrivial constraints. The problem came with a natural recursive solution. Now it happens that, even for relatively small input, the sequences are several thousands, thus I would prefer to use my algorithm as a generator instead of using it to fill a list with all the sequences.</p>

<p>Here is an example. Suppose we want to compute all the permutations of a string with a recursive function. The following naive algorithm takes an extra argument 'storage' and appends a permutation to it whenever it finds one:</p>

<pre><code>def getPermutations(string, storage, prefix=""""):
   if len(string) == 1:
      storage.append(prefix + string)   # &lt;-----
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], storage, prefix+string[i])

storage = []
getPermutations(""abcd"", storage)
for permutation in storage: print permutation
</code></pre>

<p>(Please don't care about inefficiency, this is only an example.)</p>

<p>Now I want to turn my function into a generator, i.e. to yield a permutation instead of appending it to the storage list:</p>

<pre><code>def getPermutations(string, prefix=""""):
   if len(string) == 1:
      yield prefix + string             # &lt;-----
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], prefix+string[i])

for permutation in getPermutations(""abcd""):
   print permutation
</code></pre>

<p>This code does <em>not</em> work (the function behaves like an empty generator).</p>

<p>Am I missing something?
Is there a way to turn the above recursive algorithm into a generator <em>without replacing it with an iterative one</em>?</p>
","<p>This avoids the <code>len(string)</code>-deep recursion, and is in general a nice way to handle generators-inside-generators:</p>

<pre><code>from types import GeneratorType

def flatten(*stack):
    stack = list(stack)
    while stack:
        try: x = stack[0].next()
        except StopIteration:
            stack.pop(0)
            continue
        if isinstance(x, GeneratorType): stack.insert(0, x)
        else: yield x

def _getPermutations(string, prefix=""""):
    if len(string) == 1: yield prefix + string
    else: yield (_getPermutations(string[:i]+string[i+1:], prefix+string[i])
            for i in range(len(string)))

def getPermutations(string): return flatten(_getPermutations(string))

for permutation in getPermutations(""abcd""): print permutation
</code></pre>

<p><code>flatten</code> allows us to continue progress in another generator by simply <code>yield</code>ing it, instead of iterating through it and <code>yield</code>ing each item manually.</p>

<hr>

<p>Python 3.3 will add <a href=""http://docs.python.org/dev/whatsnew/3.3.html#pep-380-syntax-for-delegating-to-a-subgenerator""><code>yield from</code></a> to the syntax, which allows for natural delegation to a sub-generator:</p>

<pre><code>def getPermutations(string, prefix=""""):
    if len(string) == 1:
        yield prefix + string
    else:
        for i in range(len(string)):
            yield from getPermutations(string[:i]+string[i+1:], prefix+string[i])
</code></pre>
"
486,248830,96,79,python,Python: using a recursive algorithm as a generator,"<p>Recently I wrote a function to generate certain sequences with nontrivial constraints. The problem came with a natural recursive solution. Now it happens that, even for relatively small input, the sequences are several thousands, thus I would prefer to use my algorithm as a generator instead of using it to fill a list with all the sequences.</p>

<p>Here is an example. Suppose we want to compute all the permutations of a string with a recursive function. The following naive algorithm takes an extra argument 'storage' and appends a permutation to it whenever it finds one:</p>

<pre><code>def getPermutations(string, storage, prefix=""""):
   if len(string) == 1:
      storage.append(prefix + string)   # &lt;-----
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], storage, prefix+string[i])

storage = []
getPermutations(""abcd"", storage)
for permutation in storage: print permutation
</code></pre>

<p>(Please don't care about inefficiency, this is only an example.)</p>

<p>Now I want to turn my function into a generator, i.e. to yield a permutation instead of appending it to the storage list:</p>

<pre><code>def getPermutations(string, prefix=""""):
   if len(string) == 1:
      yield prefix + string             # &lt;-----
   else:
      for i in range(len(string)):
         getPermutations(string[:i]+string[i+1:], prefix+string[i])

for permutation in getPermutations(""abcd""):
   print permutation
</code></pre>

<p>This code does <em>not</em> work (the function behaves like an empty generator).</p>

<p>Am I missing something?
Is there a way to turn the above recursive algorithm into a generator <em>without replacing it with an iterative one</em>?</p>
","<pre><code>def getPermutations(string, prefix=""""):
    if len(string) == 1:
        yield prefix + string
    else:
        for i in xrange(len(string)):
            for perm in getPermutations(string[:i] + string[i+1:], prefix+string[i]):
                yield perm
</code></pre>

<p>Or without an accumulator:</p>

<pre><code>def getPermutations(string):
    if len(string) == 1:
        yield string
    else:
        for i in xrange(len(string)):
            for perm in getPermutations(string[:i] + string[i+1:]):
                yield string[i] + perm
</code></pre>
"
845,422140,119,72,python,How to access the user profile in a Django template?,"<p>I'm storing some additional per-user information using the <a href=""http://docs.djangoproject.com/en/dev/topics/auth/#storing-additional-information-about-users""><code>AUTH_PROFILE_MODULE</code></a>.</p>

<p>We can access the user in a Django template using <code>{{ request.user }}</code> but how do we access fields in the profile since the profile is only accessible via a function <code>user.get_profile()</code> ?</p>

<p>Is it really required to explicitly pass the profile into the template every time?</p>
","<p>Use <code>{{ request.user.get_profile.whatever }}</code>. Django's templating language automatically calls things that are callable - in this case, the <code>.get_profile()</code> method.</p>
"
846,422140,7,72,python,How to access the user profile in a Django template?,"<p>I'm storing some additional per-user information using the <a href=""http://docs.djangoproject.com/en/dev/topics/auth/#storing-additional-information-about-users""><code>AUTH_PROFILE_MODULE</code></a>.</p>

<p>We can access the user in a Django template using <code>{{ request.user }}</code> but how do we access fields in the profile since the profile is only accessible via a function <code>user.get_profile()</code> ?</p>

<p>Is it really required to explicitly pass the profile into the template every time?</p>
","<p>Yes it is possible to access profile from template using 
   request.user.get_profile</p>

<p>However there is a small <b>caveat</b>: not all users will have profiles, which was in my case with admin users. So calling directly
   <code>{{ request.user.get_profile.whatever }}</code> from the template will cause an error in such cases.</p>

<p>If you are sure all your users always have profiles it is safe to call from template, otherwise call <code>get_profile()</code> from within try-except block in your view and pass it to the template.</p>
"
76,56820,81,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>Formatting works correctly even without having to round:</p>

<pre><code>""%.1f"" % n
</code></pre>
"
8,31340,18,71,python,"How do threads work in Python, and what are common Python-threading specific pitfalls?","<p>I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up.</p>

<p>From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so?</p>

<p>Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.</p>
","<p>Below is a basic threading sample. It will spawn 20 threads; each thread will output its thread number. Run it and observe the order in which they print.</p>

<pre><code>import threading
class Foo (threading.Thread):
    def __init__(self,x):
        self.__x = x
        threading.Thread.__init__(self)
    def run (self):
          print str(self.__x)

for x in xrange(20):
    Foo(x).start()
</code></pre>

<p>As you have hinted at Python threads are implemented through time-slicing. This is how they get the ""parallel"" effect. </p>

<p>In my example my Foo class extends thread, I then implement the <code>run</code> method, which is where the code that you would like to run in a thread goes. To start the thread you call <code>start()</code> on the thread object, which will automatically invoke the <code>run</code> method...</p>

<p>Of course, this is just the very basics. You will eventually want to learn about semaphores, mutexes, and locks for thread synchronization and message passing.</p>
"
74,56820,5,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>Floating point math is vulnerable to slight, but annoying, precision inaccuracies.  If you can work with integer or fixed point, you will be guaranteed precision.</p>
"
77,56820,15,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p><code>round(5.59, 1)</code> is working fine. The problem is that 5.6 cannot be represented exactly in binary floating point.</p>

<pre><code>&gt;&gt;&gt; 5.6
5.5999999999999996
&gt;&gt;&gt;
</code></pre>

<p>As Vinko says, you can use string formatting to do rounding for display.</p>

<p>Python has a <a href=""http://docs.python.org/lib/module-decimal.html"">module for decimal arithmetic</a> if you need that.</p>
"
73,56820,9,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>You get '5.6' if you do <code>str(round(n, 1))</code> instead of just <code>round(n, 1)</code>.</p>
"
72,56820,3,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>You can use the string format operator <code>%</code>, similar to sprintf.</p>

<pre><code>mystring = ""%.2f"" % 5.5999
</code></pre>
"
10,31340,41,71,python,"How do threads work in Python, and what are common Python-threading specific pitfalls?","<p>I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up.</p>

<p>From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so?</p>

<p>Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.</p>
","<p>Yes, because of the Global Interpreter Lock (GIL) there can only run one thread at a time. Here are some links with some insights about this:</p>

<ul>
<li><a href=""http://www.artima.com/weblogs/viewpost.jsp?thread=214235"">http://www.artima.com/weblogs/viewpost.jsp?thread=214235</a></li>
<li><a href=""http://smoothspan.wordpress.com/2007/09/14/guido-is-right-to-leave-the-gil-in-python-not-for-multicore-but-for-utility-computing/"">http://smoothspan.wordpress.com/2007/09/14/guido-is-right-to-leave-the-gil-in-python-not-for-multicore-but-for-utility-computing/</a></li>
</ul>

<p>From the last link an interesting quote:</p>

<blockquote>
  <p>Let me explain what all that means. 
  Threads run inside the same virtual
  machine, and hence run on the same
  physical machine.  Processes can run
  on the same physical machine or in
  another physical machine.  If you
  architect your application around
  threads, youâve done nothing to access
  multiple machines.  So, you can scale
  to as many cores are on the single
  machine (which will be quite a few
  over time), but to really reach web
  scales, youâll need to solve the
  multiple machine problem anyway.</p>
</blockquote>

<p>If you want to use multi core, <a href=""http://www.python.org/dev/peps/pep-0371/"">pyprocessing</a> defines an process based API to do real parallelization. The <a href=""http://en.wikipedia.org/wiki/Python_Enhancement_Proposal#Development"">PEP</a> also includes some interesting benchmarks.</p>
"
9,31340,32,71,python,"How do threads work in Python, and what are common Python-threading specific pitfalls?","<p>I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up.</p>

<p>From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so?</p>

<p>Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.</p>
","<p>Python's a fairly easy language to thread in, but there are caveats.  The biggest thing you need to know about is the Global Interpreter Lock.  This allows only one thread to access the interpreter.  This means two things:  1)  you rarely ever find yourself using a lock statement in python and 2) if you want to take advantage of multi-processor systems, you have to use separate processes.  EDIT:  I should also point out that you can put some of the code in C/C++ if you want to get around the GIL as well.</p>

<p>Thus, you need to re-consider why you want to use threads.  If you want to parallelize your app to take advantage of dual-core architecture, you need to consider breaking your app up into multiple processes.</p>

<p>If you want to improve responsiveness, you should CONSIDER using threads.  There are other alternatives though, namely <a href=""http://en.wikipedia.org/wiki/Microthread"" rel=""nofollow"">microthreading</a>.  There are also some frameworks that you should look into:</p>

<ul>
<li><a href=""http://www.stackless.com/"" rel=""nofollow"">stackless python</a></li>
<li><a href=""http://greenlet.readthedocs.org/en/latest/"" rel=""nofollow"">greenlets</a></li>
<li><a href=""http://www.gevent.org/"" rel=""nofollow"">gevent</a></li>
<li><a href=""https://github.com/saucelabs/monocle"" rel=""nofollow"">monocle</a></li>
</ul>
"
75,56820,3,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p><strong>printf</strong> the sucker.</p>

<pre><code>print '%.1f' % 5.59  # returns 5.6
</code></pre>
"
11,31340,9,71,python,"How do threads work in Python, and what are common Python-threading specific pitfalls?","<p>I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up.</p>

<p>From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so?</p>

<p>Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.</p>
","<p>Use threads in python if the individual workers are doing I/O bound operations. If you are trying to scale across multiple cores on a machine either find a good <a href=""http://www.python.org/dev/peps/pep-0371/"">IPC</a> framework for python or pick a different language.</p>
"
71,56820,5,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>You can switch the data type to a integer:</p>

<pre><code>&gt;&gt;&gt; n = 5.59
&gt;&gt;&gt; int(n * 10) / 10.0
5.5
&gt;&gt;&gt; int(n * 10 + 0.5) 
56
</code></pre>

<p>And then display the number by inserting the locale's decimal separator.</p>

<p>However, <a href=""http://stackoverflow.com/questions/56820/round-in-python-doesnt-seem-to-be-rounding-properly#56833"" rel=""nofollow"">Jimmy's answer</a> is better.</p>
"
69,56820,-4,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>What about:</p>

<pre><code>round(n,1)+epsilon
</code></pre>
"
70,56820,66,71,python,round() in Python doesn't seem to be rounding properly,"<p>The documentation for the <a href=""http://docs.python.org/lib/built-in-funcs.html"">round()</a> function states that you pass it a number, and the positions past the decimal to round. Thus it <em>should</em> do this:</p>

<pre><code>n = 5.59
round(n, 1) # 5.6
</code></pre>

<p>But, in actuality, good old floating point weirdness creeps in and you get:</p>

<pre><code>5.5999999999999996
</code></pre>

<p>For the purposes of UI, I need to display <code>5.6</code>. I poked around the Internet and found some <a href=""http://mail.python.org/pipermail/python-list/2005-September/340383.html"">documentation</a> that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. <a href=""http://www.python.org/doc/2.5.1/tut/node16.html"">See here also</a>.</p>

<p>Short of creating my own round library, is there any way around this?</p>
","<p>can't help the way it's stored, but at least formatting works correctly: </p>

<pre><code>'%.1f' % round(n, 1) # gives you '5.6'
</code></pre>
"
757,388800,1,67,python,How do I use the built in password reset/change views with my own templates,"<p>For example I can point the <code>url '^/accounts/password/reset/$'</code> to <code>django.contrib.auth.views.password_reset</code> with my template filename in the context but I think need to send more context details.</p>

<p>I need to  know exactly what context to add for each of the password reset and change views.</p>
","<p>The <a href=""http://docs.djangoproject.com/en/dev/topics/auth/#django.contrib.auth.django.contrib.auth.views.password_change"" rel=""nofollow"">documentation</a> says that there only one context variable, <code>form</code>.</p>

<p>If you're having trouble with login (which is common), the <a href=""http://docs.djangoproject.com/en/dev/topics/auth/#django.contrib.auth.views.login"" rel=""nofollow"">documentation</a> says there are three context variables:</p>

<ul>
<li><code>form</code>: A Form object representing the login form. See the forms documentation for more on Form objects.</li>
<li><code>next</code>: The URL to redirect to after successful login. This may contain a query string, too.</li>
<li><code>site_name</code>: The name of the current Site, according to the SITE_ID setting.</li>
</ul>
"
759,388800,9,67,python,How do I use the built in password reset/change views with my own templates,"<p>For example I can point the <code>url '^/accounts/password/reset/$'</code> to <code>django.contrib.auth.views.password_reset</code> with my template filename in the context but I think need to send more context details.</p>

<p>I need to  know exactly what context to add for each of the password reset and change views.</p>
","<p>You just need to wrap the existing functions and pass in the template you want. For example:</p>

<pre><code>from django.contrib.auth.views import password_reset

def my_password_reset(request, template_name='path/to/my/template'):
    return password_reset(request, template_name)
</code></pre>

<p>To see this just have a look at the function declartion of the built in views:</p>

<p><a href=""http://code.djangoproject.com/browser/django/trunk/django/contrib/auth/views.py#L74"">http://code.djangoproject.com/browser/django/trunk/django/contrib/auth/views.py#L74</a></p>
"
758,388800,74,67,python,How do I use the built in password reset/change views with my own templates,"<p>For example I can point the <code>url '^/accounts/password/reset/$'</code> to <code>django.contrib.auth.views.password_reset</code> with my template filename in the context but I think need to send more context details.</p>

<p>I need to  know exactly what context to add for each of the password reset and change views.</p>
","<p>If you take a look at the sources for <a href=""http://code.djangoproject.com/browser/django/trunk/django/contrib/auth/views.py"">django.contrib.auth.views.password_reset</a> you'll see that it uses <a href=""http://code.djangoproject.com/browser/django/trunk/django/template/__init__.py""><code>RequestContext</code></a>. The upshot is, you can use Context Processors to modify the context which may allow you to inject the information that you need.</p>

<p>The b-list has a good <a href=""http://www.b-list.org/weblog/2006/jun/14/django-tips-template-context-processors/"">introduction to context processors</a>.</p>

<p>Edit (I seem to have been confused about what the actual question was):</p>

<p>You'll notice that <code>password_reset</code> takes a named parameter called <code>template_name</code>:</p>

<pre><code>def password_reset(request, is_admin_site=False, 
            template_name='registration/password_reset_form.html',
            email_template_name='registration/password_reset_email.html',
            password_reset_form=PasswordResetForm, 
            token_generator=default_token_generator,
            post_reset_redirect=None):
</code></pre>

<p>Check <a href=""https://docs.djangoproject.com/en/1.9/topics/auth/default/#django.contrib.auth.views.password_reset"">password_reset</a> for more information.</p>

<p>... thus, with a urls.py like:</p>

<pre><code>from django.conf.urls.defaults import *
from django.contrib.auth.views import password_reset

urlpatterns = patterns('',
     (r'^/accounts/password/reset/$', password_reset, {'template_name': 'my_templates/password_reset.html'}),
     ...
)
</code></pre>

<p><code>django.contrib.auth.views.password_reset</code> will be called for URLs matching <code>'/accounts/password/reset'</code> with the keyword argument <code>template_name = 'my_templates/password_reset.html'</code>.</p>

<p>Otherwise, you don't need to provide any context as the <code>password_reset</code> view takes care of itself. If you want to see what context you have available, you can trigger a <code>TemplateSyntax</code> error and look through the stack trace find the frame with a local variable named <code>context</code>. If you want to modify the context then what I said above about context processors is probably the way to go.</p>

<p>In summary: what do you need to do to use your own template? Provide a <code>template_name</code> keyword argument to the view when it is called. You can supply keyword arguments to views by including a dictionary as the third member of a URL pattern tuple.</p>
"
752,380870,4,66,python,Python: single instance of program,"<p>Is there a Pythonic way to have only one instance of a program running? </p>

<p>The only reasonable solution I've come up with is trying to run it as a server on some port, then second program trying to bind to same port - fails. But it's not really a great idea, maybe there's something more lightweight than this?  </p>

<p>(Take into consideration that program is expected to fail sometimes, i.e. segfault - so things like ""lock file"" won't work)</p>

<p><b>Update</b>: the solutions offered are much more complex and less reliant than just having a port occupied with a non-existent server, so I'd have to go with that one.</p>
","<p>You already found reply to similar question in another thread, so for completeness sake see how to achieve the same on Windows uning named mutex.</p>

<p><a href=""http://code.activestate.com/recipes/474070/"" rel=""nofollow"">http://code.activestate.com/recipes/474070/</a></p>
"
751,380870,25,66,python,Python: single instance of program,"<p>Is there a Pythonic way to have only one instance of a program running? </p>

<p>The only reasonable solution I've come up with is trying to run it as a server on some port, then second program trying to bind to same port - fails. But it's not really a great idea, maybe there's something more lightweight than this?  </p>

<p>(Take into consideration that program is expected to fail sometimes, i.e. segfault - so things like ""lock file"" won't work)</p>

<p><b>Update</b>: the solutions offered are much more complex and less reliant than just having a port occupied with a non-existent server, so I'd have to go with that one.</p>
","<p>Simple, <s>cross-platform</s> solution, found in <strong><a href=""http://stackoverflow.com/questions/220525/ensuring-a-single-instance-of-an-application-in-linux#221159"">another question</a></strong> by <a href=""http://stackoverflow.com/users/12138/zgoda"">zgoda</a>:</p>

<pre><code>import fcntl, sys
pid_file = 'program.pid'
fp = open(pid_file, 'w')
try:
    fcntl.lockf(fp, fcntl.LOCK_EX | fcntl.LOCK_NB)
except IOError:
    # another instance is running
    sys.exit(0)
</code></pre>

<p>A lot like S.Lott's suggestion, but with the code.</p>
"
750,380870,5,66,python,Python: single instance of program,"<p>Is there a Pythonic way to have only one instance of a program running? </p>

<p>The only reasonable solution I've come up with is trying to run it as a server on some port, then second program trying to bind to same port - fails. But it's not really a great idea, maybe there's something more lightweight than this?  </p>

<p>(Take into consideration that program is expected to fail sometimes, i.e. segfault - so things like ""lock file"" won't work)</p>

<p><b>Update</b>: the solutions offered are much more complex and less reliant than just having a port occupied with a non-existent server, so I'd have to go with that one.</p>
","<p>Use a pid file.  You have some known location, ""/path/to/pidfile"" and at startup you do something like this (partially pseudocode because I'm pre-coffee and don't want to work all that hard):</p>

<pre><code>import os, os.path
pidfilePath = """"""/path/to/pidfile""""""
if os.path.exists(pidfilePath):
   pidfile = open(pidfilePath,""r"")
   pidString = pidfile.read()
   if &lt;pidString is equal to os.getpid()&gt;:
      # something is real weird
      Sys.exit(BADCODE)
   else:
      &lt;use ps or pidof to see if the process with pid pidString is still running&gt;
      if  &lt;process with pid == 'pidString' is still running&gt;:
          Sys.exit(ALREADAYRUNNING)
      else:
          # the previous server must have crashed
          &lt;log server had crashed&gt;
          &lt;reopen pidfilePath for writing&gt;
          pidfile.write(os.getpid())
else:
    &lt;open pidfilePath for writing&gt;
    pidfile.write(os.getpid())
</code></pre>

<p>So, in other words, you're checking if a pidfile exists; if not, write your pid to that file.  If the pidfile does exist, then check to see if the pid is the pid of a running process; if so, then you've got another live process running, so just shut down.  If not, then the previous process crashed, so log it, and then write your own pid to the file in place of the old one.  Then continue.</p>
"
749,380870,3,66,python,Python: single instance of program,"<p>Is there a Pythonic way to have only one instance of a program running? </p>

<p>The only reasonable solution I've come up with is trying to run it as a server on some port, then second program trying to bind to same port - fails. But it's not really a great idea, maybe there's something more lightweight than this?  </p>

<p>(Take into consideration that program is expected to fail sometimes, i.e. segfault - so things like ""lock file"" won't work)</p>

<p><b>Update</b>: the solutions offered are much more complex and less reliant than just having a port occupied with a non-existent server, so I'd have to go with that one.</p>
","<p>Using a lock-file is a quite common approach on unix.  If it crashes, you have to clean up manually.  You could stor the PID in the file, and on startup check if there is a process with this PID, overriding the lock-file if not.  (However, you also need a lock around the read-file-check-pid-rewrite-file).  You will find what you need for getting and checking pid in the <a href=""http://docs.python.org/library/os.html"" rel=""nofollow"">os</a>-package.  The common way of checking if there exists a process with a given pid, is to send it a non-fatal signal.</p>

<p>Other alternatives could be combining this with flock or posix semaphores.</p>

<p>Opening a network socket, as saua proposed, would probably be the easiest and most portable.</p>
"
748,380870,4,66,python,Python: single instance of program,"<p>Is there a Pythonic way to have only one instance of a program running? </p>

<p>The only reasonable solution I've come up with is trying to run it as a server on some port, then second program trying to bind to same port - fails. But it's not really a great idea, maybe there's something more lightweight than this?  </p>

<p>(Take into consideration that program is expected to fail sometimes, i.e. segfault - so things like ""lock file"" won't work)</p>

<p><b>Update</b>: the solutions offered are much more complex and less reliant than just having a port occupied with a non-existent server, so I'd have to go with that one.</p>
","<p>This may work.</p>

<ol>
<li><p>Attempt create a PID file to a known location.  If you fail, someone has the file locked, you're done.</p></li>
<li><p>When you finish normally, close and remove the PID file, so someone else can overwrite it.</p></li>
</ol>

<p>You can wrap your program in a shell script that removes the PID file even if your program crashes.</p>

<p>You can, also, use the PID file to kill the program if it hangs.</p>
"
747,380870,16,66,python,Python: single instance of program,"<p>Is there a Pythonic way to have only one instance of a program running? </p>

<p>The only reasonable solution I've come up with is trying to run it as a server on some port, then second program trying to bind to same port - fails. But it's not really a great idea, maybe there's something more lightweight than this?  </p>

<p>(Take into consideration that program is expected to fail sometimes, i.e. segfault - so things like ""lock file"" won't work)</p>

<p><b>Update</b>: the solutions offered are much more complex and less reliant than just having a port occupied with a non-existent server, so I'd have to go with that one.</p>
","<p>I don't know if it's pythonic enough, but in the Java world listening on a defined port is a pretty widely used solution, as it works on all major platforms and doesn't have any problems with crashing programs.</p>

<p>Another advantage of listening to a port is that you could send a command to the running instance. For example when the users starts the program a second time, you could send the running instance a command to tell it to open another window (that's what Firefox does, for example. I don't know if they use TCP ports or named pipes or something like that, 'though).</p>
"
379,196960,98,64,python,Can you list the keyword arguments a Python function receives?,"<p>I have a dict, which I need to pass key/values as keyword arguments.. For example..</p>

<pre><code>d_args = {'kw1': 'value1', 'kw2': 'value2'}
example(**d_args)
</code></pre>

<p>This works fine, <em>but</em> if there are values in the d_args dict that are not accepted by the <code>example</code> function, it obviously dies.. Say, if the example function is defined as <code>def example(kw2):</code></p>

<p>This is a problem since I don't control either the generation of the <code>d_args</code>, or the <code>example</code> function.. They both come from external modules, and <code>example</code> only accepts some of the keyword-arguments from the dict..</p>

<p>Ideally I would just do</p>

<pre><code>parsed_kwargs = feedparser.parse(the_url)
valid_kwargs = get_valid_kwargs(parsed_kwargs, valid_for = PyRSS2Gen.RSS2)
PyRSS2Gen.RSS2(**valid_kwargs)
</code></pre>

<p>I will probably just filter the dict, from a list of valid keyword-arguments, but I was wondering: <strong>Is there a way to programatically list the keyword arguments the a specific function takes?</strong></p>
","<p>A little nicer than inspecting the code object directly and working out the variables is to use the inspect module.</p>

<pre><code>&gt;&gt;&gt; import inspect
&gt;&gt;&gt; def func(a,b,c=42, *args, **kwargs): pass
&gt;&gt;&gt; inspect.getargspec(func)
(['a', 'b', 'c'], 'args', 'kwargs', (42,))
</code></pre>

<p>If you want to know if its callable with a particular set of args, you need the args without a default already specified.  These can be got by:</p>

<pre><code>def getRequiredArgs(func):
    args, varargs, varkw, defaults = inspect.getargspec(func)
    if defaults:
        args = args[:-len(defaults)]
    return args   # *args and **kwargs are not required, so ignore them.
</code></pre>

<p>Then a function to tell what you are missing from your particular dict is:</p>

<pre><code>def missingArgs(func, argdict):
    return set(getRequiredArgs(func)).difference(argdict)
</code></pre>

<p>Similarly, to check for invalid args, use:</p>

<pre><code>def invalidArgs(func, argdict):
    args, varargs, varkw, defaults = inspect.getargspec(func)
    if varkw: return set()  # All accepted
    return set(argdict) - set(args)
</code></pre>

<p>And so a full test if it is callable is :</p>

<pre><code>def isCallableWithArgs(func, argdict):
    return not missingArgs(func, argdict) and not invalidArgs(func, argdict)
</code></pre>

<p>(This is good only as far as python's arg parsing.  Any runtime checks for invalid values in kwargs obviously can't be detected.)</p>
"
377,196960,25,64,python,Can you list the keyword arguments a Python function receives?,"<p>I have a dict, which I need to pass key/values as keyword arguments.. For example..</p>

<pre><code>d_args = {'kw1': 'value1', 'kw2': 'value2'}
example(**d_args)
</code></pre>

<p>This works fine, <em>but</em> if there are values in the d_args dict that are not accepted by the <code>example</code> function, it obviously dies.. Say, if the example function is defined as <code>def example(kw2):</code></p>

<p>This is a problem since I don't control either the generation of the <code>d_args</code>, or the <code>example</code> function.. They both come from external modules, and <code>example</code> only accepts some of the keyword-arguments from the dict..</p>

<p>Ideally I would just do</p>

<pre><code>parsed_kwargs = feedparser.parse(the_url)
valid_kwargs = get_valid_kwargs(parsed_kwargs, valid_for = PyRSS2Gen.RSS2)
PyRSS2Gen.RSS2(**valid_kwargs)
</code></pre>

<p>I will probably just filter the dict, from a list of valid keyword-arguments, but I was wondering: <strong>Is there a way to programatically list the keyword arguments the a specific function takes?</strong></p>
","<p>This will print names of all passable arguments, keyword and non-keyword ones:</p>

<pre><code>def func(one, two=""value""):
    y = one, two
    return y
print func.func_code.co_varnames[:func.func_code.co_argcount]
</code></pre>

<p>This is because first <code>co_varnames</code> are always parameters (next are local variables, like <code>y</code> in the example above).</p>

<p>So now you could have a function:</p>

<pre><code>def getValidArgs(func, argsDict):
    '''Return dictionary without invalid function arguments.'''
    validArgs = func.func_code.co_varnames[:func.func_code.co_argcount]
    return dict((key, value) for key, value in argsDict.iteritems() 
                if key in validArgs)
</code></pre>

<p>Which you then could use like this:</p>

<pre><code>&gt;&gt;&gt; func(**getValidArgs(func, args))
</code></pre>

<p><hr></p>

<p><strong>EDIT</strong>: A small addition: if you <strong>really need only keyword arguments</strong> of a function, you can use the <code>func_defaults</code> attribute to extract them:</p>

<pre><code>def getValidKwargs(func, argsDict):
    validArgs = func.func_code.co_varnames[:func.func_code.co_argcount]
    kwargsLen = len(func.func_defaults) # number of keyword arguments
    validKwargs = validArgs[-kwargsLen:] # because kwargs are last
    return dict((key, value) for key, value in argsDict.iteritems() 
                if key in validKwargs)
</code></pre>

<p>You could now call your function with known args, but extracted kwargs, e.g.:</p>

<pre><code>func(param1, param2, **getValidKwargs(func, kwargsDict))
</code></pre>

<p>This assumes that <code>func</code> uses no <code>*args</code> or <code>**kwargs</code> magic in its signature.</p>
"
380,196960,6,64,python,Can you list the keyword arguments a Python function receives?,"<p>I have a dict, which I need to pass key/values as keyword arguments.. For example..</p>

<pre><code>d_args = {'kw1': 'value1', 'kw2': 'value2'}
example(**d_args)
</code></pre>

<p>This works fine, <em>but</em> if there are values in the d_args dict that are not accepted by the <code>example</code> function, it obviously dies.. Say, if the example function is defined as <code>def example(kw2):</code></p>

<p>This is a problem since I don't control either the generation of the <code>d_args</code>, or the <code>example</code> function.. They both come from external modules, and <code>example</code> only accepts some of the keyword-arguments from the dict..</p>

<p>Ideally I would just do</p>

<pre><code>parsed_kwargs = feedparser.parse(the_url)
valid_kwargs = get_valid_kwargs(parsed_kwargs, valid_for = PyRSS2Gen.RSS2)
PyRSS2Gen.RSS2(**valid_kwargs)
</code></pre>

<p>I will probably just filter the dict, from a list of valid keyword-arguments, but I was wondering: <strong>Is there a way to programatically list the keyword arguments the a specific function takes?</strong></p>
","<p>In Python 3.0:</p>

<pre><code>&gt;&gt;&gt; import inspect
&gt;&gt;&gt; import fileinput
&gt;&gt;&gt; print(inspect.getfullargspec(fileinput.input))
FullArgSpec(args=['files', 'inplace', 'backup', 'bufsize', 'mode', 'openhook'],
varargs=None, varkw=None, defaults=(None, 0, '', 0, 'r', None), kwonlyargs=[], 
kwdefaults=None, annotations={})
</code></pre>
"
378,196960,3,64,python,Can you list the keyword arguments a Python function receives?,"<p>I have a dict, which I need to pass key/values as keyword arguments.. For example..</p>

<pre><code>d_args = {'kw1': 'value1', 'kw2': 'value2'}
example(**d_args)
</code></pre>

<p>This works fine, <em>but</em> if there are values in the d_args dict that are not accepted by the <code>example</code> function, it obviously dies.. Say, if the example function is defined as <code>def example(kw2):</code></p>

<p>This is a problem since I don't control either the generation of the <code>d_args</code>, or the <code>example</code> function.. They both come from external modules, and <code>example</code> only accepts some of the keyword-arguments from the dict..</p>

<p>Ideally I would just do</p>

<pre><code>parsed_kwargs = feedparser.parse(the_url)
valid_kwargs = get_valid_kwargs(parsed_kwargs, valid_for = PyRSS2Gen.RSS2)
PyRSS2Gen.RSS2(**valid_kwargs)
</code></pre>

<p>I will probably just filter the dict, from a list of valid keyword-arguments, but I was wondering: <strong>Is there a way to programatically list the keyword arguments the a specific function takes?</strong></p>
","<p>Extending DzinX's answer:</p>

<pre><code>argnames = example.func_code.co_varnames[:func.func_code.co_argcount]
args = dict((key, val) for key,val in d_args.iteritems() if key in argnames)
example(**args)
</code></pre>
"
248,138250,108,63,python,How can I read the RGB value of a given pixel in Python?,"<p>If I open an image with <code>open(""image.jpg"")</code>, how can I get the RGB values of a pixel, if I have the coordinates of the pixel?</p>

<p>Then how can I do the reverse of this? Starting with a blank graphic, 'write' a pixel with a certain RGB value?</p>

<p>It would be so much better if I didn't have to download any additional libraries.</p>
","<p>It's probably best to use the <a href=""http://www.pythonware.com/products/pil/"">Python Image Library</a> to do this which I'm afraid is a separate download.</p>

<p>The easiest way to do what you want is via the <a href=""http://effbot.org/imagingbook/image.htm"">load() method on the Image object</a> which returns a pixel access object which you can manipulate like an array:</p>

<pre><code>from PIL import Image
im = Image.open(""dead_parrot.jpg"") #Can be many different formats.
pix = im.load()
print im.size #Get the width and hight of the image for iterating over
print pix[x,y] #Get the RGBA Value of the a pixel of an image
pix[x,y] = value # Set the RGBA Value of the image (tuple)
</code></pre>

<p>Alternatively, look at <a href=""http://effbot.org/imagingbook/imagedraw.htm"">ImageDraw</a> which gives a much richer API for creating images.</p>
"
249,138250,3,63,python,How can I read the RGB value of a given pixel in Python?,"<p>If I open an image with <code>open(""image.jpg"")</code>, how can I get the RGB values of a pixel, if I have the coordinates of the pixel?</p>

<p>Then how can I do the reverse of this? Starting with a blank graphic, 'write' a pixel with a certain RGB value?</p>

<p>It would be so much better if I didn't have to download any additional libraries.</p>
","<p>There's a really good article on wiki.wxpython.org entitled <a href=""http://wiki.wxpython.org/index.cgi/WorkingWithImages"" rel=""nofollow"">Working With Images</a>. The article mentions the possiblity of using wxWidgets (wxImage), PIL or PythonMagick. Personally, I've used PIL and wxWidgets and both make image manipulation fairly easy.</p>
"
250,138250,20,63,python,How can I read the RGB value of a given pixel in Python?,"<p>If I open an image with <code>open(""image.jpg"")</code>, how can I get the RGB values of a pixel, if I have the coordinates of the pixel?</p>

<p>Then how can I do the reverse of this? Starting with a blank graphic, 'write' a pixel with a certain RGB value?</p>

<p>It would be so much better if I didn't have to download any additional libraries.</p>
","<p><strong>PyPNG - lightweight PNG decoder/encoder</strong></p>

<p>Although the question hints at JPG, I hope my answer will be useful to some people.</p>

<p>Here's how to read and write PNG pixels using <a href=""https://pypi.python.org/pypi/pypng/0.0.18"" rel=""nofollow"">PyPNG module</a>:</p>

<pre><code>import png, array

point = (2, 10) # coordinates of pixel to be painted red

reader = png.Reader(filename='image.png')
w, h, pixels, metadata = reader.read_flat()
pixel_byte_width = 4 if metadata['alpha'] else 3
pixel_position = point[0] + point[1] * w
new_pixel_value = (255, 0, 0, 0) if metadata['alpha'] else (255, 0, 0)
pixels[
  pixel_position * pixel_byte_width :
  (pixel_position + 1) * pixel_byte_width] = array.array('B', new_pixel_value)

output = open('image-with-red-dot.png', 'wb')
writer = png.Writer(w, h, **metadata)
writer.write_array(output, pixels)
output.close()
</code></pre>

<p>PyPNG is a single pure Python module less than 4000 lines long, including tests and comments.</p>

<p><a href=""http://www.pythonware.com/products/pil/"" rel=""nofollow"">PIL</a> is a more comprehensive imaging library, but it's also significantly heavier.</p>
"
247,138250,1,63,python,How can I read the RGB value of a given pixel in Python?,"<p>If I open an image with <code>open(""image.jpg"")</code>, how can I get the RGB values of a pixel, if I have the coordinates of the pixel?</p>

<p>Then how can I do the reverse of this? Starting with a blank graphic, 'write' a pixel with a certain RGB value?</p>

<p>It would be so much better if I didn't have to download any additional libraries.</p>
","<p>Image manipulation is a complex topic, and it's best if you <em>do</em> use a library. I can recommend <a href=""http://newcenturycomputers.net/projects/gdmodule.html"" rel=""nofollow"">gdmodule</a> which provides easy access to many different image formats from within Python.</p>
"
127,84340,78,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>A lot of times some quick task comes up that isn't part of the main software you are developing.  Sometimes the task is one off ie compare this file to the database and let me know the differences.  It is a lot easier to do text parsing in Perl/Ruby/Python than it is in Java or C# (partially because it is a lot easier to use regular expressions).  It will probably take a lot less time to parse the text file using Perl/Ruby/Python (or maybe even vbscript <em>cringe</em> and then load it into the database than it would to create a Java/C# program to do it or to do it by hand.</p>

<p>Also, due to the ease at which most of the dynamic languages parse text, they are great for code generation.  Sure your final project must be in C#/Java/Transact SQL but instead of cutting and pasting 100 times, finding errors, and cutting and pasting another 100 times it is often (but not always) easier just to use a code generator.</p>

<p>A recent example at work is we needed to get data from one accounting system into our accounting system.  The system has an import format, but the old system had a completely different format (fixed width although some things had to be matched).  The task is not to create a program to migrate the data over and over again.  It is to shove the data into our system and then maintain it there going forward.  So even though we are a C# and SQL Server shop, I used Python to convert the data into the format that could be imported by our application.  Ultimately it doesn't matter that I used python, it matters that the data is in the system.  My boss was pretty impressed.</p>

<p>Where I often see the dynamic languages used for is testing.  It is much easier to create a Python/Perl/Ruby program to link to a web service and throw some data against it than it is to create the equivalent Java program.  You can also use python to hit against command line programs, generate a ton of garbage (but still valid) test data, etc.. quite easily.</p>

<p>The other thing that dynamic languages are big on is code generation.  Creating the C#/C++/Java code.  Some examples follow:</p>

<p>The first code generation task I often see is people using dynamic languages to maintain constants in the system.  Instead of hand coding a bunch of enums, a dynamic language can be used to fairly easily parse a text file and create the Java/C# code with the enums.</p>

<p>SQL is a whole other ball game but often you get better performance by cut and pasting 100 times instead of trying to do a function (due to caching of execution plans or putting complicated logic in a function causing you to go row by row instead of in a set).  In fact it is quite useful to use the table definition to create certain stored procedures automatically.</p>

<p>It is always better to get buy in for a code generator.  But even if you don't, is it more fun to spend time cutting/pasting or is it more fun to create a Perl/Python/Ruby script once and then have that generate the code?  If it takes you hours to hand code something but less time to create a code generator, then even if you use it once you have saved time and hence money.  If it takes you longer to create a code generator than it takes to hand code once but you know you will have to update the code more than once, it may still make sense.  If it takes you 2 hours to hand code, 4 hours to do the generator but you know you'll have to hand code equivalent work another 5 or 6 times than it is obviously better to create the generator.</p>

<p>Also some things are easier with dynamic languages than Java/C#/C/C++.  In particular regular expressions come to mind.  If you start using regular expressions in Perl and realize their value, you may suddenly start making use of the Java regular expression library if you haven't before.  If you have then there may be something else.</p>

<p>I will leave you with one last example of a task that would have been great for a dynamic language.  My work mate had to take a directory full of files and burn them to various cd's for various customers.  There were a few customers but a lot of files and you had to look in them to see what they were.  He did this task by hand....A Java/C# program would have saved time, but for one time and with all the development overhead it isn't worth it.  However slapping something together in Perl/Python/Ruby probably would have been worth it.  He spent several hours doing it.  It would have taken less than one to create the Python script to inspect each file, match which customer it goes to, and then move the file to the appropriate place.....Again, not part of the standard job.  But the task came up as a one off.  Is it better to do it yourself, spend the larger amount of time to make Java/C# do the task, or spend a much smaller amount of time doing it in Python/Perl/Ruby.  If you are using C or C++ the point is even more dramatic due to the extra concerns of programming in C or C++ (pointers, no array bounds checking, etc.).</p>
"
128,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Learning something with a flexible OOP system, like Lisp or Perl (see Moose), will allow you to better expand and understand your thoughts on software engineering.  Ideally, every language has some unique facet (whether it be CLOS or some other technique) that enhances, extends and grows your abilities as a programmer.</p>
"
129,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>If all you have is a hammer, every problem begins to look like a nail.</p>

<p>There are times when having a screwdriver or pair of pliers makes a complicated problem trivial.</p>

<p>Nobody asks contractors, carpenters, etc, ""Why learn to use a screwdriver if i already have a hammer?"".  Really good contractors/carpenters have tons of tools and know how to use them well.  All programmers should be doing the same thing, learning to use new tools and use them well.</p>

<blockquote>
  <p>But before we use any power tools, lets
  take a moment to talk about shop safety.  Be sure
  to read, understand, and follow all the
  safety rules that come with your power
  tools.  Doing so will greatly reduce
  the risk of personal injury.  And remember
  this: there is no more important rule
  than to wear these: safety glasses
  -- Norm</p>
</blockquote>
"
112,84340,5,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Do you expect to work for this company forever?  If you're ever out on the job market, pehaps some prospective employers will be aware of the <a href=""http://www.paulgraham.com/pypar.html"">Python paradox</a>.</p>
"
130,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Dynamic languages are fantastic for prototyping ideas. Often for performance reasons they won't work for permanent solutions or products. <em>But</em>, with languages like Python, which allow you to embed standard C/C++/Java inside them or visa versa, you can speed up the really critical bits but leave it glued together with the flexibility of a dynamic language.</p>

<p>...and so you get the best of both worlds. If you need to justify this in terms of why more people should learn these languages, just point out much faster you can develop the same software and how much more robust the solution is (because debugging/fixing problems in dynamic languages is in my experience, considerably easier!).</p>
"
131,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Knowing grep and ruby made it possible to narrow down a problem, and verify the fix for, an issue involving tons of java exceptions on some production servers. Because I threw the solution together in ruby, it was done (designed, implemented, tested, run, bug-fixed, re-run, enhanced, results analyzed) in an afternoon instead of a couple of days. I could have solved the same problem using an all-java solution or a C# solution, but it most likely would have taken me longer.</p>

<p>Having dynamic language expertise also sometimes leads you to simpler solutions in less dynamic languages. In ruby, perl or python, you just intuitively reach for associative arrays (hashes, dictionaries, whatever word you want to use) for the smallest things, where you might be tempted to create a complex class hierarchy in a statically typed language when the problem doesn't necessarily demand it.</p>

<p>Plus you can plug in most scripting languages into most runtimes. So it doesn't have to be either/or.</p>
"
113,84340,21,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Let me turn your question on its head by asking what use it is to an American English speaker to learn another language?</p>

<p>The languages we speak (and those we program in) inform the way we think. This can happen on a fundamental level, such as c++ versus javascript versus lisp, or on an implementation level, in which a ruby construct provides a eureka moment for a solution in your ""real job.""</p>

<p>Speaking of your real job, if the market goes south and your employer decides to ""right size"" you, how do you think you'll stack up against a guy who is flexible because he's written software in tens of languages, instead of your limited exposure? All things being equal, I think the answer is clear.</p>

<p>Finally, you program for a living because you love programming... right?</p>
"
116,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Often, dynamc languages (especially python and lua) are embedded in programs to add a more plugin-like functionality and because they are high-level languages that make it easy to add certain behavior, where a low/mid-level language is not needed.</p>

<p>Lua specificially lacks all the low-level system calls because it was designed for easeof-use to add functionality within the program, not as a general programming language.</p>
"
114,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>I have often found that learning another language, especially a dynamically typed language, can teach you things about other languages and make you an overall better programmer.  Learning ruby, for example, will teach you Object Oriented programming in ways Java wont, and vice versa.  All in all, I believe that it is better to be a well rounded programmer than stuck in a single language.  It makes you more valuable to the companies/clients you work for.</p>
"
115,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Philosophical issues aside, I know that I have gotten value from writing quick-and-dirty Ruby scripts to solve brute-force problems that Java was just too big for.  Last year I had three separate directory structures that were all more-or-less the same, but with lots of differences among the files (the client hadn't heard of version control and I'll leave the rest to your imagination).  </p>

<p>It would have taken a great deal of overhead to write an analyzer in Java, but in Ruby I had one working in about 40 minutes.</p>
"
126,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>You should also consider learning a functional programming language like Scala.  It has many of the advantages of Ruby, including a concise syntax, and powerful features like closures.  But it compiles to Java class files and and integrate seamlessly into a Java stack, which may make it much easier for your employer to swallow.</p>

<p>Scala isn't dynamically typed, but its ""implicit conversion"" feature gives many, perhaps even all of the benefits of dynamic typing, while retaining many of the advantages of static typing.</p>
"
124,84340,7,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>One big reason to learn Perl or Ruby is to help you automate any complicated tasks that you have to do over and over.</p>

<p>Or if you have to analyse contents of log files and you need more mungeing than available using grep, sed, etc.</p>

<p>Also using other languages, e.g. Ruby, that don't have much ""setup cost"" will let you quickly prototype ideas before implementing them in C++, Java, etc.</p>

<p>HTH</p>

<p>cheers,</p>

<p>Rob</p>
"
123,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Personally I work on a Java app, but I couldn't get by without perl for some supporting scripts. </p>

<p>I've got scripts to quickly flip what db I'm pointing at, scripts to run build scripts, scripts to scrape data &amp; compare stuff. </p>

<p>Sure I <em>could</em> do all that with java, or maybe shell scripts (I've got some of those too), but who wants to compile a class (making sure the classpath is set right etc) when you just need something quick and dirty. Knowing a scripting language can remove 90% of those boring/repetitive manual tasks.</p>
"
122,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>They're useful for the ""Quick Hack"" that is for plugging a gap in your main language for a quick (and potentially dirty) fix faster than it would take to develop the same in your main language. An example: a simple script in perl to go through a large text file and replace all instances of an email address with another is trivial with an amount of time taken in the 10 minute range. Hacking a console app together to do the same in your main language would take multiples of that.</p>

<p>You also have the benefit that exposing yourself to additional languages broadens your abilities and learning to attack problems from a different languages perspective can be as valuable as the language itself.</p>

<p>Finally, scripting languages are very useful in the realm of extension. Take LUA as an example. You can bolt a lua interpreter into your app with very little overhead and you now have a way to create rich scripting functionality that can be exposed to end users or altered and distributed quickly without requiring a rebuild of the entire app. This is used to great effect in many games most notably World of Warcraft.</p>
"
117,84340,4,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>When I first learned Python, I worked for a Java shop.  Occasionally I'd have to do serious text-processing tasks which were much easier to do with quick Python scripts than Java programs.  For example, if I had to parse a complex CSV file and figure out which of its rows corresponded to rows in our Oracle database, this was much easier to do with Python than Java.</p>

<p>More than that, I found that learning Python made me a much better Java programmer; having learned many of the same concepts in another language I feel that I understand those concepts much better.  And as for what makes Python easier than Java, you might check out this question: <a href=""http://stackoverflow.com/questions/49824/java-python"">http://stackoverflow.com/questions/49824/java-python</a></p>
"
121,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>It's all about broadening your horizons as a developer. If you limit yourself to only strong-typed languages, you may not end up the best programmer you could.</p>

<p>As for tasks, Python/Lua/Ruby/Perl are great for small simple tasks, like finding some files and renaming them. They also work great when paired with a framework (e.g. Rails, Django, Lua for Windows) for developing simple apps quickly. Hell, 37Signals is based on creating simple yet very useful apps in Ruby on Rails. </p>
"
118,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>check out the answers to this thead: </p>

<p><a href=""http://stackoverflow.com/questions/76364/what-is-the-single-most-effective-thing-you-did-to-improve-your-programming-ski#84112"">http://stackoverflow.com/questions/76364/what-is-the-single-most-effective-thing-you-did-to-improve-your-programming-ski#84112</a></p>

<p>Learning new languages is about keeping an open mind and learning new ways of doing things.</p>
"
132,84340,2,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Learning a new language is a long-term process. In a couple of days you'll learn the basics, yes. But! As you probably know, the real practical applicability of any language is tied to the standard library and other available components. Learning how to use the efficiently requires a lot of hands-on experience. </p>

<p>Perhaps the only immediate short-term benefit is that developers learn to distinguish the nails that need a Python/Perl/Ruby -hammer. And, if they are any good, they can then study some more (online, perhaps!) and become real experts.</p>

<p>The long-term benefits are easier to imagine:</p>

<ol>
<li><p>The employee becomes a better developer. Better developer => better quality. We are living in a knowledge economy these days. It's wiser to invest in those brains that already work for you.</p></li>
<li><p>It is easier to adapt when the next big language emerges. It is very likely that the NBL will have many of the features present in today's scripting languages: first-class functions, closures, streams/generators, etc. </p></li>
<li><p>New market possibilities and ability to respond more quickly. Even if you are not writing Python, <em>other people are</em>. Your clients? Another vendor in the project? Perhaps a critical component was written in some other language? It will cost money and time, if you do not have people who can understand the code and interface with it.</p></li>
<li><p>Recruitment. If your company has a reputation of teaching new and interesting stuff to people, it will be easier to recruit the top people. <em>Everyone</em> is doing Java/C#/C++. It is not a very effective way to differentiate yourself in the job market.</p></li>
</ol>
"
125,84340,3,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p><strong>Edit:</strong> I wrote this before reading the update to the original question. See my other answer for a better answer to the updated question. I will leave this as is as a warning against being the fastest gun in the west =)</p>

<p>Over a decade ago, when I was learning the ways of the Computer, the Old Wise Men With Beards explained how C and C++ are the tools of the industry. No one used Pascal and only the foolhardy would risk their companies with assembler.</p>

<p>And of course, <strong>no one would even mention the awful slow ugly thing called Java</strong>. It will not be a tool for serious business.</p>

<p>So. Um. Replace the languages in the above story and perhaps you can predict the future. Perhaps you can't. Point is, Java will not be the Last Programming Language ever and also you will most likely switch employers as well. The future is charging at you 24 hours per day. Be prepared.</p>

<p>Learning new languages is good for you. Also, in some cases it can give you bragging rights for a long time. My first university course was in Scheme. So when people talk to me about the new <em>language du jour</em>, my response is something like ""First-class functions? That's so last century.""</p>

<p>And of course, you get <strong>more stuff done</strong> with a high-level language.</p>
"
134,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Testing.</p>

<p>It's often quicker and easier to test your C#/Java application by using a dynamic language. You can do exploratory testing at the interactive prompt and quickly create automated test scripts.</p>
"
120,84340,9,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>I primarily program in Java and C# but use dynamic languages (ruby/perl) to support smoother deployment, kicking off OS tasks, automated reporting, some log parsing, etc.</p>

<p>After a short time learning and experimenting with ruby or perl you should be able to write some regex manipulating scripts that can alter data formats or grab information from logs.   An example of a small ruby/perl script that could be written quickly would be a script to parse a very large log file and report out only a few events of interest in either a human readable format or a csv format. </p>

<p>Also, having experience with a variety of different programming languages should help you think of new ways to tackle problems in more structured languages like Java, C++, and C#.</p>
"
140,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Dynamic languages are a different way to think and sometimes the practices you learn from a dynamic or functional language can transfer to the more statically typed languages but if you never take the time to learn different languages, you'll never get the benefit of having a knew way to think when you are coding.</p>
"
138,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>For after work work, for freelance jobs...:) and final to be programming literate as possible as...;) </p>
"
137,84340,2,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Towards answering the updated question, its a chicken/egg problem.  The best way to justify an expense is to show how it reduces a cost somewhere else, so you may need to spend some extra/personal time to learn something first to build some kind of functional prototype.</p>

<p>Show your boss a demo like ""hey, i did this thing, and it saves me this much time [or better yet, this much $$], imagine if everyone could use this how much money we would save""</p>

<p>and then after they agree, explain how it is some other technology and that it is worth the expense to get more training, and training for others on how to do it better.</p>
"
136,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Others have already explained why learning more languages makes you a better programmer.</p>

<p>As for convincing your boss it's worth it, this is probably just your company's culture.  Some places make career and skill progress a policy (move up or out), some places value it but leave it up to the employee's initiative, and some places are very focused on the bottom line.</p>

<p>If you have to explain why learning a language is a good thing to your boss, my advice would be to stay at work only as long as necessary, then go home and study new things on your own.</p>
"
141,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Given the increasing focus to running dynamic languages (da-vinci vm etc.) on the JVM and the increasing number of dynamic languages that do run on it (JRuby, Grrovy, Jython) I think the usecases are just increasing. Some of the scenarios I found really benifited are</p>

<ol>
<li><p><strong>Prototyping</strong>- use RoR or Grails to build quick prototypes with advantage of being able to runn it on the standard app server and (maybe) reuse existing services etc.</p></li>
<li><p><strong>Testing</strong>- right unit tests much much faster in dynamic languages</p></li>
<li><p><strong>Performance/automation test scripting</strong>- some of these tools are starting to allow the use standard dynamic language of choice to write the test scripts instead of proprietary script languages. Side benefit might be to the able to reuse some unit test code you've already written.</p></li>
</ol>
"
142,84340,4,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p><em>A good hockey player plays where the puck is. A great hockey player plays where the puck is going to be.
- Wayne Gretzky</em></p>

<p>Our industry is always changing. No language can be mainstream forever. To me Java, C++, .Net is where the puck is right now. And python, ruby, perl is where the puck is going to be. Decide for yourself if you wanna be good or great!</p>
"
143,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Don't tell your employer that you want to learn Ruby. Tell him you want to learn about the state-of-the-art in web framework technologies. it just happens that the hottest ones are Django and Ruby on Rails.</p>
"
135,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>I think the main benefits of dynamic languages can be boiled down to</p>

<ol>
<li>Rapid development</li>
<li>Glue</li>
</ol>

<p>The short design-code-test cycle time makes dynamic languages ideal for prototyping, tools, and quick &amp; dirty one-off scripts. IMHO, the latter two can make a huge impact on a programmer's productivity. It amazes me how many people trudge through things manually instead of whipping up a tool to do it for them. I think it's because they don't have something like Perl in their toolbox.</p>

<p>The ability to interface with just about anything (other programs or languages, databases, etc.) makes it easy to reuse existing work and automate tasks that would otherwise need to be done manually.</p>
"
119,84340,1,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Im not sure if this is what you are looking for, but we write our main application with Java at the small company I work for, but have used python to write smaller scripts quickly.  Backup software, temporary scripts to manipulate data and push out results.  It just seems easier sometimes to sit down with python and write a quick script than mess with classes and stuff in java.  </p>

<p>Temp scripts that aren't going to stick around don't need a lot of design time wasted on them.</p>

<p>And I am lazy, but it is good to just learn as much as you can of course and see what features exist in other languages.  Knowing more never hurts you in future career changes :)</p>
"
139,84340,14,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>I don't think anyone has mentioned this yet. Learning a new language can be fun! Surely that's a good enough reason to try something new. </p>
"
144,84340,4,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Paul Graham posted an article several years ago about why Python programmers made better Java programmers. (<a href=""http://www.paulgraham.com/pypar.html"" rel=""nofollow"">http://www.paulgraham.com/pypar.html</a>)</p>

<p>Basically, regardless of whether the new language is relevant to the company's current methodology, learning a new language means learning new ideas. Someone who is willing to learn a language that isn't considered ""business class"" means that he is interested in programming, beyond just earning a paycheck.</p>

<p>To quote Paul's site:</p>

<blockquote>
  <p>And people don't learn Python because
  it will get them a job; they learn it
  because they genuinely like to program
  and aren't satisfied with the
  languages they already know.</p>
  
  <p>Which makes them exactly the kind of
  programmers companies should want to
  hire. Hence what, for lack of a better
  name, I'll call the Python paradox: if
  a company chooses to write its
  software in a comparatively esoteric
  language, they'll be able to hire
  better programmers, because they'll
  attract only those who cared enough to
  learn it. And for programmers the
  paradox is even more pronounced: the
  language to learn, if you want to get
  a good job, is a language that people
  don't learn merely to get a job.</p>
</blockquote>

<p>If an employer was willing to pay for the cost of learning a new language, chances are the people who volunteered to learn (assuming it wasn't a mandatory class) would be the same people to are already on the ""fast track"".</p>
"
145,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>Don't bother your employer, spend ~$40 on a book, download some software, and devote some time each day to read/do exercises. In no time you'll be trained :)</p>
"
133,84340,0,62,python,"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?</p>

<p>Assuming the company won't switch its main development language from C++/C#/Java to a dynamic one what use is there for a dynamic language?</p>

<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?</p>

<h2>Update</h2>

<p>After seeing the first few responses it is clear that there are two issues.
My main interest would be something that is justifiable to the employer as an expense.
That is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the
employers are usually looking for some ""real"" benefit.</p>
","<p>The ""real benefit"" that an employer could see is a better programmer who can implement solutions faster; however, you will not be able to provide any hard numbers to justify the expense and an employer will most likely have you work on what makes money now as opposed to having you work on things that make the future better. </p>

<p>The only time you can get training on the employer's dime, is when they perceive a need for it and it's cheaper than hiring a new person who already has that skill-set.</p>
"
608,296650,7,61,python,"Performance comparison of Thrift, Protocol Buffers, JSON, EJB, other?","<p>We're looking into transport/protocol solutions and were about to do various performance tests, so I thought I'd check with the community if they've already done this:</p>

<p>Has anyone done server performance tests for simple echo services as well as serialization/deserialization for various messages sizes comparing EJB3, Thrift, and Protocol Buffers on Linux?</p>

<p>Primarily languages will be Java, C/C++, Python, and PHP.</p>

<p>Update: I'm still very interested in this, if anyone has done any further benchmarks please let me know. Also, very interesting benchmark showing <a href=""http://bouncybouncy.net/ramblings/posts/more%5Fon%5Fjson%5Fvs%5Fthrift%5Fand%5Fprotocol%5Fbuffers/"">compressed JSON performing similar / better than Thrift / Protocol Buffers</a>, so I'm throwing JSON into this question as well.</p>
","<p>You may be interested in this question: <a href=""http://stackoverflow.com/questions/69316/biggest-differences-of-thrift-vs-protocol-buffers"">""Biggest differences of Thrift vs Protocol Buffers?""</a></p>
"
609,296650,4,61,python,"Performance comparison of Thrift, Protocol Buffers, JSON, EJB, other?","<p>We're looking into transport/protocol solutions and were about to do various performance tests, so I thought I'd check with the community if they've already done this:</p>

<p>Has anyone done server performance tests for simple echo services as well as serialization/deserialization for various messages sizes comparing EJB3, Thrift, and Protocol Buffers on Linux?</p>

<p>Primarily languages will be Java, C/C++, Python, and PHP.</p>

<p>Update: I'm still very interested in this, if anyone has done any further benchmarks please let me know. Also, very interesting benchmark showing <a href=""http://bouncybouncy.net/ramblings/posts/more%5Fon%5Fjson%5Fvs%5Fthrift%5Fand%5Fprotocol%5Fbuffers/"">compressed JSON performing similar / better than Thrift / Protocol Buffers</a>, so I'm throwing JSON into this question as well.</p>
","<p>One of the things near the top of my ""to-do"" list for PBs is to port Google's internal Protocol Buffer performance benchmark - it's mostly a case of taking confidential message formats and turning them into entirely bland ones, and then doing the same for the data.</p>

<p>When that's been done, I'd imagine you could build the same messages in Thrift and then compare the performance.</p>

<p>In other words, I don't have the data for you yet - but hopefully in the next couple of weeks...</p>
"
610,296650,4,61,python,"Performance comparison of Thrift, Protocol Buffers, JSON, EJB, other?","<p>We're looking into transport/protocol solutions and were about to do various performance tests, so I thought I'd check with the community if they've already done this:</p>

<p>Has anyone done server performance tests for simple echo services as well as serialization/deserialization for various messages sizes comparing EJB3, Thrift, and Protocol Buffers on Linux?</p>

<p>Primarily languages will be Java, C/C++, Python, and PHP.</p>

<p>Update: I'm still very interested in this, if anyone has done any further benchmarks please let me know. Also, very interesting benchmark showing <a href=""http://bouncybouncy.net/ramblings/posts/more%5Fon%5Fjson%5Fvs%5Fthrift%5Fand%5Fprotocol%5Fbuffers/"">compressed JSON performing similar / better than Thrift / Protocol Buffers</a>, so I'm throwing JSON into this question as well.</p>
","<p>If the raw net performance is the target, then nothing beats IIOP (see RMI/IIOP).
Smallest possible footprint -- only binary data, no markup at all. Serialization/deserialization is very fast too.</p>

<p>Since it's IIOP (that is CORBA), almost all languages have bindings.</p>

<p>But I presume the performance is not the <strong>only</strong> requirement, right?</p>
"
611,296650,14,61,python,"Performance comparison of Thrift, Protocol Buffers, JSON, EJB, other?","<p>We're looking into transport/protocol solutions and were about to do various performance tests, so I thought I'd check with the community if they've already done this:</p>

<p>Has anyone done server performance tests for simple echo services as well as serialization/deserialization for various messages sizes comparing EJB3, Thrift, and Protocol Buffers on Linux?</p>

<p>Primarily languages will be Java, C/C++, Python, and PHP.</p>

<p>Update: I'm still very interested in this, if anyone has done any further benchmarks please let me know. Also, very interesting benchmark showing <a href=""http://bouncybouncy.net/ramblings/posts/more%5Fon%5Fjson%5Fvs%5Fthrift%5Fand%5Fprotocol%5Fbuffers/"">compressed JSON performing similar / better than Thrift / Protocol Buffers</a>, so I'm throwing JSON into this question as well.</p>
","<p>I'm in the process of writing some code in an <a href=""http://code.google.com/p/thrift-protobuf-compare/"">open source project named thrift-protobuf-compare</a> comparing between protobuf and thrift. For now it covers few serialization aspects, but I intend to cover more. The results (for <a href=""http://eishay.blogspot.com/search/label/Thrift"">Thrift</a> and <a href=""http://eishay.blogspot.com/search/label/protobuf"">Protobuf</a>) are discussed in my blog, I'll add more when I'll get to it.
You may look at the code to compare API, description language and generated code. I'll be happy to have contributions to achieve a more rounded comparison. </p>
"
1085,530530,12,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p>There was a lot of discussion on hidden language features a while back: <a href=""http://stackoverflow.com/questions/101268/hidden-features-of-python"">hidden-features-of-python</a>. Where some pitfalls were mentioned (and some of the good stuff too). </p>

<p>Also you might want to check out <a href=""http://wiki.python.org/moin/PythonWarts"">Python Warts</a>.</p>

<p>But for me, integer division's a gotcha:</p>

<pre><code>&gt;&gt;&gt; 5/2
2
</code></pre>

<p>You probably wanted:</p>

<pre><code>&gt;&gt;&gt; 5*1.0/2
2.5
</code></pre>

<p>If you really want this (C-like) behaviour, you should write:</p>

<pre><code>&gt;&gt;&gt; 5//2
2
</code></pre>

<p>As that will work with floats too (and it will work when you eventually go to <a href=""http://docs.python.org/dev/3.0/whatsnew/3.0.html#integers"">Python 3</a>):</p>

<pre><code>&gt;&gt;&gt; 5*1.0//2
2.0
</code></pre>

<p>GvR explains how integer division came to work how it does on <a href=""http://python-history.blogspot.com/2009/03/problem-with-integer-division.html"">the history of Python</a>.</p>
"
1086,530530,9,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p><a href=""http://twitter.com/i386/status/1194993686"">James Dumay eloquently reminded me</a> of another Python gotcha: </p>

<p><strong>Not all of Python's âincluded batteriesâ are wonderful</strong>. </p>

<p>Jamesâ specific example was the HTTP libraries: <code>httplib</code>, <code>urllib</code>, <code>urllib2</code>, <code>urlparse</code>, <code>mimetools</code>, and <code>ftplib</code>. Some of the functionality is duplicated, and some of the functionality you'd expect is completely absent, e.g. redirect handling. Frankly, it's horrible. </p>

<p>If I ever have to grab something via HTTP these days, I use the <a href=""http://linux.duke.edu/projects/urlgrabber/"">urlgrabber</a> module forked from the Yum project.</p>
"
1081,530530,19,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p>Dynamic binding makes typos in your variable names surprisingly hard to find. It's easy to spend half an hour fixing a trivial bug.</p>

<p>EDIT: an example...</p>

<pre><code>for item in some_list:
    ... # lots of code
... # more code
for tiem in some_other_list:
    process(item) # oops!
</code></pre>
"
1083,530530,56,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p>You should be aware of how class variables are handled in Python. Consider the following class hierarchy:</p>

<pre><code>class AAA(object):
    x = 1

class BBB(AAA):
    pass

class CCC(AAA):
    pass
</code></pre>

<p>Now, check the output of the following code:</p>

<pre><code>&gt;&gt;&gt; print AAA.x, BBB.x, CCC.x
1 1 1
&gt;&gt;&gt; BBB.x = 2
&gt;&gt;&gt; print AAA.x, BBB.x, CCC.x
1 2 1
&gt;&gt;&gt; AAA.x = 3
&gt;&gt;&gt; print AAA.x, BBB.x, CCC.x
3 2 3
</code></pre>

<p>Surprised? You won't be if you remember that class variables are internally handled as dictionaries of a class object. If a variable name is not found in the dictionary of current class, the parent classes are searched for it. So, the following code again, but with explanations:</p>

<pre><code># AAA: {'x': 1}, BBB: {}, CCC: {}
&gt;&gt;&gt; print AAA.x, BBB.x, CCC.x
1 1 1
&gt;&gt;&gt; BBB.x = 2
# AAA: {'x': 1}, BBB: {'x': 2}, CCC: {}
&gt;&gt;&gt; print AAA.x, BBB.x, CCC.x
1 2 1
&gt;&gt;&gt; AAA.x = 3
# AAA: {'x': 3}, BBB: {'x': 2}, CCC: {}
&gt;&gt;&gt; print AAA.x, BBB.x, CCC.x
3 2 3
</code></pre>

<p>Same goes for handling class variables in class instances (treat this example as a continuation of the one above):</p>

<pre><code>&gt;&gt;&gt; a = AAA()
# a: {}, AAA: {'x': 3}
&gt;&gt;&gt; print a.x, AAA.x
3 3
&gt;&gt;&gt; a.x = 4
# a: {'x': 4}, AAA: {'x': 3}
&gt;&gt;&gt; print a.x, AAA.x
4 3
</code></pre>
"
1080,530530,9,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p>The only gotcha/surprise I've dealt with is with CPython's GIL.  If for whatever reason you expect python threads in CPython to run concurrently... well they're not and this is pretty well documented by the Python crowd and even Guido himself.</p>

<p>A long but thorough explanation of CPython threading and some of the things going on under the hood and why true concurrency with CPython isn't possible.
<a href=""http://jessenoller.com/2009/02/01/python-threads-and-the-global-interpreter-lock/"">http://jessenoller.com/2009/02/01/python-threads-and-the-global-interpreter-lock/</a></p>
"
1082,530530,81,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p><strong>Expressions in default arguments are calculated when the function is defined, <em>not</em> when itâs called.</strong> </p>

<p><strong>Example:</strong> consider defaulting an argument to the current time:</p>

<pre><code>&gt;&gt;&gt;import time
&gt;&gt;&gt; def report(when=time.time()):
...     print when
...
&gt;&gt;&gt; report()
1210294387.19
&gt;&gt;&gt; time.sleep(5)
&gt;&gt;&gt; report()
1210294387.19
</code></pre>

<p>The <code>when</code> argument doesn't change. It is evaluated when you define the function. It won't change until the application is re-started.</p>

<p><strong>Strategy:</strong> you won't trip over this if you default arguments to <code>None</code> and then do something useful when you see it:</p>

<pre><code>&gt;&gt;&gt; def report(when=None):
...     if when is None:
...         when = time.time()
...     print when
...
&gt;&gt;&gt; report()
1210294762.29
&gt;&gt;&gt; time.sleep(5)
&gt;&gt;&gt; report()
1210294772.23
</code></pre>

<p><strong>Exercise:</strong> to make sure you've understood: why is this happening?</p>

<pre><code>&gt;&gt;&gt; def spam(eggs=[]):
...     eggs.append(""spam"")
...     return eggs
...
&gt;&gt;&gt; spam()
['spam']
&gt;&gt;&gt; spam()
['spam', 'spam']
&gt;&gt;&gt; spam()
['spam', 'spam', 'spam']
&gt;&gt;&gt; spam()
['spam', 'spam', 'spam', 'spam']
</code></pre>
"
1084,530530,37,56,python,Python 2.x gotcha's and landmines,"<p>The purpose of my question is to strengthen my knowledge base with Python and get a better picture of it, which includes knowing its faults and surprises.  To keep things specific, I'm only interested in the CPython interpreter.</p>

<p>I'm looking for something similar to what learned from my <a href=""http://stackoverflow.com/questions/512120/php-landmines-in-general"">PHP landmines</a>
question where some of the answers were well known to me but a couple were borderline horrifying.</p>

<p>Update:
   Apparently one maybe two people are upset that I asked a question that's already partially answered outside of Stack Overflow.  As some sort of compromise here's the URL
<a href=""http://www.ferg.org/projects/python_gotchas.html"">http://www.ferg.org/projects/python_gotchas.html</a></p>

<p>Note that one or two answers here already are original from what was written on the site referenced above.</p>
","<p>Loops and lambdas (or any closure, really): variables are bound by <em>name</em></p>

<pre><code>funcs = []
for x in range(5):
  funcs.append(lambda: x)

[f() for f in funcs]
# output:
# 4 4 4 4 4
</code></pre>

<p>A work around is either creating a separate function or passing the args by name:</p>

<pre><code>funcs = []
for x in range(5):
  funcs.append(lambda x=x: x)
[f() for f in funcs]
# output:
# 0 1 2 3 4
</code></pre>
"
768,392160,27,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>The purpose of metaclasses isn't to replace the class/object distinction with metaclass/class - it's to change the behaviour of class definitions (and thus their instances) in some way.  Effectively it's to alter the behaviour of the class statement in ways that may be more useful for your particular domain than the default.  The things I have used them for are:</p>

<ul>
<li><p>Tracking subclasses, usually to register handlers.  This is handy when using a plugin style setup, where you wish to register a handler for a particular thing simply by subclassing and setting up a few class attributes.  eg.  suppose you write a handler for various music formats, where each class implements appropriate methods (play / get tags etc) for its type.  Adding a handler for a new type becomes:</p>

<pre><code>class Mp3File(MusicFile):
    extensions = ['.mp3']  # Register this type as a handler for mp3 files
    ...
    # Implementation of mp3 methods go here
</code></pre>

<p>The metaclass then maintains a dictionary of <code>{'.mp3' : MP3File, ... }</code> etc, and constructs an object of the appropriate type when you request a handler through a factory function.</p></li>
<li><p>Changing behaviour.  You may want to attach a special meaning to certain attributes, resulting in altered behaviour when they are present.  For example, you may want to look for methods with the name <code>_get_foo</code> and <code>_set_foo</code> and transparently convert them to properties.  As a real-world example, <a href=""http://code.activestate.com/recipes/498149/"">here's</a> a recipe I wrote to give more C-like struct definitions.  The metaclass is used to convert the declared items into a struct format string, handling inheritance etc, and produce a class capable of dealing with it.</p>

<p>For other real-world examples, take a look at various ORMs, like <a href=""http://www.sqlalchemy.org/"">sqlalchemy's</a> ORM or <a href=""http://www.sqlobject.org/"">sqlobject</a>.  Again, the purpose is to interpret defintions (here SQL column definitions) with a particular meaning.</p></li>
</ul>
"
767,392160,4,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>The only time I used metaclasses in Python was when writing a wrapper for the Flickr API. </p>

<p>My goal was to scrape <a href=""http://www.flickr.com/services/api/"" rel=""nofollow"">flickr's api site</a> and dynamically generate a complete class hierarchy to allow API access using Python objects:</p>

<pre><code># Both the photo type and the flickr.photos.search API method 
# are generated at ""run-time""
for photo in flickr.photos.search(text=balloons):
    print photo.description
</code></pre>

<p>So in that example, because I generated the entire Python Flickr API from the website, I really don't know the class definitions at runtime. Being able to dynamically generate types was very useful.  </p>
"
906,452300,3,51,python,Python object.__repr__(self) should be an expression?,"<p>I was looking at the builtin object methods in the <a href=""http://docs.python.org/reference/datamodel.html#objects-values-and-types"">Python documentation</a>, and I was interested in the documentation for <code>object.__repr__(self)</code>. Here's what it says:</p>

<blockquote>
  <p>Called by the repr() built-in function
  and by string conversions (reverse
  quotes) to compute the âofficialâ
  string representation of an object. If
  at all possible, this should look like
  a valid Python expression that could
  be used to recreate an object with the
  same value (given an appropriate
  environment). If this is not possible,
  a string of the form &lt;...some useful
  description...> should be returned.
  The return value must be a string
  object. If a class defines <strong>repr</strong>()
  but not <strong>str</strong>(), then <strong>repr</strong>() is
  also used when an âinformalâ string
  representation of instances of that
  class is required.</p>
  
  <p>This is typically used for debugging,
  so it is important that the
  representation is information-rich and
  unambiguous</p>
</blockquote>

<p>The most interesting part to me, was...</p>

<blockquote>
  <p>If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value</p>
</blockquote>

<p>... but I'm not sure exactly what this means. It says it should <em>look</em> like an expression which can be used to recreate the object, but does that mean it should just be an example of the sort of expression you could use, or should it be an actual expression, that can be executed (eval etc..) to recreate the object? Or... should it be just a rehasing of the actual expression which was used, for pure information purposes?</p>

<p>In general I'm a bit confused as to exactly what I should be putting here.</p>
","<p>""but does that mean it should just be an example of the sort of expression you could use, or should it be an actual expression, that can be executed (eval etc..) to recreate the object? Or... should it be just a rehasing of the actual expression which was used, for pure information purposes?""</p>

<p>Wow, that's a lot of hand-wringing.</p>

<ol>
<li><p>An ""an example of the sort of expression you could use"" would not be a representation of a specific object.  That can't be useful or meaningful.  </p></li>
<li><p>What is the difference between ""an actual expression, that can ... recreate the object"" and ""a rehasing of the actual expression which was used [to create the object]""? Both are an expression that creates the object.  There's no practical distinction between these.  A repr call could produce either a new expression or the original expression.  In many cases, they're the same.</p></li>
</ol>

<p>Note that this isn't always possible, practical or desirable.</p>

<p>In some cases, you'll notice that repr() presents a string which is clearly <em>not</em> an expression of any kind.  The default repr() for any class you define isn't useful as an expression.</p>

<p>In some cases, you might have mutual (or circular) references between objects.  The repr() of that tangled hierarchy can't make sense.</p>

<p>In many cases, an object is built incrementally via a parser.  For example, from XML or JSON or something.  What would the repr be?  The original XML or JSON?  Clearly not, since they're not Python.  It could be some Python expression that generated the XML.  However, for a gigantic XML document, it might not be possible to write a single Python expression that was the functional equivalent of parsing XML.</p>
"
766,392160,4,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>You never absolutely <em>need</em> to use a metaclass, since you can always construct a class that does what you want using inheritance or aggregation of the class you want to modify.</p>

<p>That said, it can be very handy in Smalltalk and Ruby to be able to modify an existing class, but Python doesn't like to do that directly.</p>

<p>There's an excellent <a href=""http://www.ibm.com/developerworks/linux/library/l-pymeta.html"" rel=""nofollow"">DeveloperWorks article</a> on metaclassing in Python that might help.  The <a href=""http://en.wikipedia.org/wiki/Metaclass"" rel=""nofollow"">Wikipedia article</a> is also pretty good.</p>
"
907,452300,9,51,python,Python object.__repr__(self) should be an expression?,"<p>I was looking at the builtin object methods in the <a href=""http://docs.python.org/reference/datamodel.html#objects-values-and-types"">Python documentation</a>, and I was interested in the documentation for <code>object.__repr__(self)</code>. Here's what it says:</p>

<blockquote>
  <p>Called by the repr() built-in function
  and by string conversions (reverse
  quotes) to compute the âofficialâ
  string representation of an object. If
  at all possible, this should look like
  a valid Python expression that could
  be used to recreate an object with the
  same value (given an appropriate
  environment). If this is not possible,
  a string of the form &lt;...some useful
  description...> should be returned.
  The return value must be a string
  object. If a class defines <strong>repr</strong>()
  but not <strong>str</strong>(), then <strong>repr</strong>() is
  also used when an âinformalâ string
  representation of instances of that
  class is required.</p>
  
  <p>This is typically used for debugging,
  so it is important that the
  representation is information-rich and
  unambiguous</p>
</blockquote>

<p>The most interesting part to me, was...</p>

<blockquote>
  <p>If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value</p>
</blockquote>

<p>... but I'm not sure exactly what this means. It says it should <em>look</em> like an expression which can be used to recreate the object, but does that mean it should just be an example of the sort of expression you could use, or should it be an actual expression, that can be executed (eval etc..) to recreate the object? Or... should it be just a rehasing of the actual expression which was used, for pure information purposes?</p>

<p>In general I'm a bit confused as to exactly what I should be putting here.</p>
","<p><strong>Guideline:</strong> If you can succinctly provide an <em>exact representation</em>, <strong>format it as a Python expression</strong> (which implies that it can be both eval'd and copied directly into source code, in the right context). If providing an <em>inexact representation</em>, <strong>use <code>&lt;...&gt;</code> format</strong>.</p>

<p>There are many possible representations for any value, but the one that's most interesting for Python programmers is an expression that recreates the value.  Remember that <strong>those who understand Python are the target audience</strong>&mdash;and that's also why inexact representations should include relevant context.  Even the default <code>&lt;XXX object at 0xNNN&gt;</code>, while almost entirely useless, still provides type, <code>id()</code> (to distinguish different objects), and indication that no better representation is available.</p>
"
771,392160,12,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>Let's start with Tim Peter's classic quote:</p>

<blockquote>
  <p>Metaclasses are deeper magic than 99%
  of users should ever worry about. If
  you wonder whether you need them, you
  don't (the people who actually need
  them know with certainty that they
  need them, and don't need an
  explanation about why). Tim Peters
  (c.l.p post 2002-12-22)</p>
</blockquote>

<p>Having said that, I have (periodically) run across true uses of metaclasses. The one that comes to mind is in Django where all of your models inherit from models.Model. models.Model, in turn, does some serious magic to wrap your DB models with Django's ORM goodness. That magic happens by way of metaclasses. It creates all manner of exception classes, manager classes, etc. etc.</p>

<p>See django/db/models/base.py, class ModelBase() for the beginning of the story. </p>
"
905,452300,24,51,python,Python object.__repr__(self) should be an expression?,"<p>I was looking at the builtin object methods in the <a href=""http://docs.python.org/reference/datamodel.html#objects-values-and-types"">Python documentation</a>, and I was interested in the documentation for <code>object.__repr__(self)</code>. Here's what it says:</p>

<blockquote>
  <p>Called by the repr() built-in function
  and by string conversions (reverse
  quotes) to compute the âofficialâ
  string representation of an object. If
  at all possible, this should look like
  a valid Python expression that could
  be used to recreate an object with the
  same value (given an appropriate
  environment). If this is not possible,
  a string of the form &lt;...some useful
  description...> should be returned.
  The return value must be a string
  object. If a class defines <strong>repr</strong>()
  but not <strong>str</strong>(), then <strong>repr</strong>() is
  also used when an âinformalâ string
  representation of instances of that
  class is required.</p>
  
  <p>This is typically used for debugging,
  so it is important that the
  representation is information-rich and
  unambiguous</p>
</blockquote>

<p>The most interesting part to me, was...</p>

<blockquote>
  <p>If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value</p>
</blockquote>

<p>... but I'm not sure exactly what this means. It says it should <em>look</em> like an expression which can be used to recreate the object, but does that mean it should just be an example of the sort of expression you could use, or should it be an actual expression, that can be executed (eval etc..) to recreate the object? Or... should it be just a rehasing of the actual expression which was used, for pure information purposes?</p>

<p>In general I'm a bit confused as to exactly what I should be putting here.</p>
","<p>It should be a Python expression that, when eval'd, creates an object with the exact same properties as this one. For example, if you have a <code>Fraction</code> class that contains two integers, a numerator and denominator, your <code>__repr__()</code> method would look like this:</p>

<pre><code># in the definition of Fraction class
def __repr__(self):
    return ""Fraction(%d, %d)"" % (self.numerator, self.denominator)
</code></pre>

<p>Assuming that the constructor takes those two values.</p>
"
770,392160,6,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>Metaclasses can be handy for construction of Domain Specific Languages in Python. Concrete examples are Django, SQLObject 's declarative syntax of database schemata. </p>

<p>A basic example from <a href=""http://blog.ianbicking.org/a-conservative-metaclass.html"" rel=""nofollow"">A Conservative Metaclass</a> by Ian Bicking:</p>

<blockquote>
  <p>The metaclasses I've used have been
  primarily to support a sort of
  declarative style of programming. For
  instance, consider a validation
  schema:</p>
</blockquote>

<pre><code>class Registration(schema.Schema):
    first_name = validators.String(notEmpty=True)
    last_name = validators.String(notEmpty=True)
    mi = validators.MaxLength(1)
    class Numbers(foreach.ForEach):
        class Number(schema.Schema):
            type = validators.OneOf(['home', 'work'])
            phone_number = validators.PhoneNumber()
</code></pre>

<p>Some other techniques: <a href=""http://web.archive.org/web/20091229094610/http://media.brianbeck.com/files/Python_DSLs_I.pdf"" rel=""nofollow"">Ingredients for Building a DSL in Python</a> (pdf). </p>

<p>Edit (by Ali): An example of doing this using collections and instances is what I would prefer. The important fact is the instances, which give you more power, and eliminate reason to use metaclasses. Further worth noting that your example uses a mixture of classes and instances, which is surely an indication that you can't just do it all with metaclasses. And creates a truly non-uniform way of doing it.</p>

<pre><code>number_validator = [
    v.OneOf('type', ['home', 'work']),
    v.PhoneNumber('phone_number'),
]

validators = [
    v.String('first_name', notEmpty=True),
    v.String('last_name', notEmpty=True),
    v.MaxLength('mi', 1),
    v.ForEach([number_validator,])
]
</code></pre>

<p>It's not perfect, but already there is almost zero magic, no need for metaclasses, and improved uniformity.</p>
"
773,392160,10,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>I have a class that handles non-interactive plotting, as a frontend to Matplotlib.  However, on occasion one wants to do interactive plotting.  With only a couple functions I found that I was able to increment the figure count, call draw manually, etc, but I needed to do these before and after every plotting call.  So to create both an interactive plotting wrapper and an offscreen plotting wrapper, I found it was more efficient to do this via metaclasses, wrapping the appropriate methods, than to do something like:</p>

<pre><code>class PlottingInteractive:
    add_slice = wrap_pylab_newplot(add_slice)
</code></pre>

<p>This method doesn't keep up with API changes and so on, but one that iterates over the class attributes in <code>__init__</code> before re-setting the class attributes is more efficient and keeps things up to date:</p>

<pre><code>class _Interactify(type):
    def __init__(cls, name, bases, d):
        super(_Interactify, cls).__init__(name, bases, d)
        for base in bases:
            for attrname in dir(base):
                if attrname in d: continue # If overridden, don't reset
                attr = getattr(cls, attrname)
                if type(attr) == types.MethodType:
                    if attrname.startswith(""add_""):
                        setattr(cls, attrname, wrap_pylab_newplot(attr))
                    elif attrname.startswith(""set_""):
                        setattr(cls, attrname, wrap_pylab_show(attr))
</code></pre>

<p>Of course, there might be better ways to do this, but I've found this to be effective.  Of course, this could also be done in <code>__new__</code> or <code>__init__</code>, but this was the solution I found the most straightforward.</p>
"
774,392160,5,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>I was thinking the same thing just yesterday and completely agree.  The complications in the code caused by attempts to make it more declarative generally make the codebase harder to maintain, harder to read and less pythonic in my opinion. 
It  also normally requires a lot of copy.copy()ing (to maintain inheritance and to copy from class to instance) and means you have to look in many places to see whats going on (always looking from metaclass up) which goes against the python grain also.
I have been picking through formencode and sqlalchemy code to see if such a declarative style was worth it and its clearly not. Such style should be left to descriptors (such as property and methods) and immutable data.
Ruby has better support for such declarative styles and I am glad the core python  language is not going down that route.</p>

<p>I can see their use for debugging, add a metaclass to all your base classes to get richer info. 
I also see their use only in (very) large projects to get rid of some boilerplate code (but at the loss of clarity).  sqlalchemy for <a href=""http://www.sqlalchemy.org/trac/browser/sqlalchemy/trunk/lib/sqlalchemy/sql/visitors.py"">example</a> does use them elsewhere, to add a particular custom method to all subclasses based on an attribute value in their class definition
e.g a toy example</p>

<pre><code>class test(baseclass_with_metaclass):
    method_maker_value = ""hello""
</code></pre>

<p>could have a metaclass that generated a method in that class with special properties based on ""hello"" (say a method that added ""hello"" to the end of a string). It could be good for maintainability to make sure you did not have to write a method in every subclass you make instead all you have to define is method_maker_value. </p>

<p>The need for this is so rare though and only cuts down on a bit of typing that its not really worth considering unless you have a large enough codebase.</p>
"
904,452300,54,51,python,Python object.__repr__(self) should be an expression?,"<p>I was looking at the builtin object methods in the <a href=""http://docs.python.org/reference/datamodel.html#objects-values-and-types"">Python documentation</a>, and I was interested in the documentation for <code>object.__repr__(self)</code>. Here's what it says:</p>

<blockquote>
  <p>Called by the repr() built-in function
  and by string conversions (reverse
  quotes) to compute the âofficialâ
  string representation of an object. If
  at all possible, this should look like
  a valid Python expression that could
  be used to recreate an object with the
  same value (given an appropriate
  environment). If this is not possible,
  a string of the form &lt;...some useful
  description...> should be returned.
  The return value must be a string
  object. If a class defines <strong>repr</strong>()
  but not <strong>str</strong>(), then <strong>repr</strong>() is
  also used when an âinformalâ string
  representation of instances of that
  class is required.</p>
  
  <p>This is typically used for debugging,
  so it is important that the
  representation is information-rich and
  unambiguous</p>
</blockquote>

<p>The most interesting part to me, was...</p>

<blockquote>
  <p>If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value</p>
</blockquote>

<p>... but I'm not sure exactly what this means. It says it should <em>look</em> like an expression which can be used to recreate the object, but does that mean it should just be an example of the sort of expression you could use, or should it be an actual expression, that can be executed (eval etc..) to recreate the object? Or... should it be just a rehasing of the actual expression which was used, for pure information purposes?</p>

<p>In general I'm a bit confused as to exactly what I should be putting here.</p>
","<pre><code>&gt;&gt;&gt; from datetime import date
&gt;&gt;&gt;
&gt;&gt;&gt; repr(date.today())        # calls date.today().__repr__()
'datetime.date(2009, 1, 16)'
&gt;&gt;&gt; eval(_)                   # _ is the output of the last command
datetime.date(2009, 1, 16)
</code></pre>

<p>The output is a string that can be parsed by the python interpreter and results in an equal object.</p>

<p>If that's not possible, it should return a string in the form of <code>&lt;...some useful description...&gt;</code>.</p>
"
769,392160,3,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>Metaclasses aren't replacing programming! They're just a trick which can automate or make more elegant some tasks. A good example of this is <a href=""http://pygments.org/"" rel=""nofollow"">Pygments</a> syntax highlighting library. It has a class called <code>RegexLexer</code> which lets the user define a set of lexing rules as regular expressions on a class. A metaclass is used to turn the definitions into a useful parser.</p>

<p>They're like salt; it's easy to use too much.</p>
"
772,392160,3,51,python,What are your (concrete) use-cases for metaclasses in Python?,"<p>I have a friend who likes to use metaclasses, and regularly offers them as a solution.</p>

<p>I am of the mind that you almost never need to use metaclasses. Why? because I figure if you are doing something like that to a class, you should probably be doing it to an object. And a small redesign/refactor is in order.</p>

<p>Being able to use metaclasses has caused a lot of people in a lot of places to use classes as some kind of second rate object, which just seems disastrous to me. Is programming to be replaced by meta-programming? The addition of class decorators has unfortunately made it even more acceptable.</p>

<p>So please, I am desperate to know your valid (concrete) use-cases for metaclasses in Python. Or to be enlightened as to why mutating classes is better than mutating objects, sometimes.</p>

<p>I will start:</p>

<blockquote>
  <p>Sometimes when using a third-party
  library it is useful to be able to
  mutate the class in a certain way.</p>
</blockquote>

<p>(this is the only case I can think of, and it's not concrete)</p>
","<p>The way I used metaclasses was to provide some attributes to classes. Take for example:</p>

<pre><code>class NameClass(type):
    def __init__(cls, *args, **kwargs):
       type.__init__(cls, *args, **kwargs)
       cls.name = cls.__name__
</code></pre>

<p>will put the <em>name</em> attribute on every class that will have the metaclass set to point to NameClass.</p>
"
852,425990,25,50,python,Django on IronPython,"<p>I am interested in getting an install of Django running on IronPython, has anyone had any success getting this running with some level of success?  </p>

<p>If so can you please tell of your experiences, performance, suggest some tips, resources and gotchas?</p>
","<p>Besides the Jeff Hardy blog post on <a href=""http://jdhardy.blogspot.com/2008/12/django-ironpython.html"">Django + IronPython</a> mentioned by Tony Meyer, it might be useful to also read Jeff's two other posts in the same series on his struggles with IronPython, easy_install and zlib. The first is <a href=""http://jdhardy.blogspot.com/2008/12/solving-zlib-problem-ironpythonzlib.html"">Solving the zlib problem</a> which discusses the absence of zlib for IronPython; hence, no easyinstall. Jeff reimplemented zlib based on ComponentAce's zlib.net. And finally, in <a href=""http://jdhardy.blogspot.com/2008/12/easyinstall-on-ironpython-part-deux.html"">easy_install on IronPython, Part Deux</a> Jeff discusses some final tweaks that are needed before easy_install can be used with IronPython.</p>
"
424,211160,1,50,python,Python Inverse of a Matrix,"<p>How do I get the inverse of a matrix in python? I've implemented it myself, but it's pure python, and I suspect there are faster modules out there to do it.</p>
","<p>If you hate numpy, get out RPy and your local copy of R, and use it instead.</p>

<p>(I would also echo to make you you really need to invert the matrix.  In R, for example, linalg.solve and the solve() function don't actually do a full inversion, since it is unnecessary.)</p>
"
439,223990,83,50,python,How do I perform query filtering in django templates,"<p>I need to perform a filtered query from within a django template, to get a set of objects equivalent to python code within a view:</p>

<pre><code>queryset = Modelclass.objects.filter(somekey=foo)
</code></pre>

<p>In my template I would like to do</p>

<pre><code>{% for object in data.somekey_set.FILTER %}
</code></pre>

<p>but I just can't seem to find out how to write FILTER.</p>
","<p>You can't do this, which is by design.  The Django framework authors intended a strict separation of presentation code from data logic.  Filtering models is data logic, and outputting HTML is presentation logic.</p>

<p>So you have several options.  The easiest is to do the filtering, then pass the result to <code>render_to_response</code>.  Or you could write a method in your model so that you can say <code>{% for object in data.filtered_set %}</code>.  Finally, you could write your own template tag, although in this specific case I would advise against that.</p>
"
440,223990,10,50,python,How do I perform query filtering in django templates,"<p>I need to perform a filtered query from within a django template, to get a set of objects equivalent to python code within a view:</p>

<pre><code>queryset = Modelclass.objects.filter(somekey=foo)
</code></pre>

<p>In my template I would like to do</p>

<pre><code>{% for object in data.somekey_set.FILTER %}
</code></pre>

<p>but I just can't seem to find out how to write FILTER.</p>
","<p>I run into this problem on a regular basis and often use the ""add a method"" solution. However, there are definitely cases where ""add a method"" or ""compute it in the view"" don't work (or don't work well). E.g. when you are caching template fragments and need some non-trivial DB computation to produce it. You don't want to do the DB work unless you need to, but you won't know if you need to until you are deep in the template logic.</p>

<p>Some other possible solutions:</p>

<ol>
<li><p>Use the {% expr &lt;expression> as &lt;var_name> %} template tag found at <a href=""http://www.djangosnippets.org/snippets/9/"">http://www.djangosnippets.org/snippets/9/</a> The expression is any legal Python expression with your template's Context as your local scope.</p></li>
<li><p>Change your template processor. Jinja2 (<a href=""http://jinja.pocoo.org/2/"">http://jinja.pocoo.org/2/</a>) has syntax that is almost identical to the Django template language, but with full Python power available. It's also faster. You can do this wholesale, or you might limit its use to templates that <em>you</em> are working on, but use Django's ""safer"" templates for designer-maintained pages.</p></li>
</ol>
"
850,425990,8,50,python,Django on IronPython,"<p>I am interested in getting an install of Django running on IronPython, has anyone had any success getting this running with some level of success?  </p>

<p>If so can you please tell of your experiences, performance, suggest some tips, resources and gotchas?</p>
","<p><a href=""http://blogs.msdn.com/dinoviehland/archive/2008/03/17/ironpython-ms-sql-and-pep-249.aspx"">Here's a database provider that runs on .NET &amp; that works with Django</a></p>
"
423,211160,93,50,python,Python Inverse of a Matrix,"<p>How do I get the inverse of a matrix in python? I've implemented it myself, but it's pure python, and I suspect there are faster modules out there to do it.</p>
","<p>You should have a look at <a href=""http://www.scipy.org/Tentative_NumPy_Tutorial"">numpy</a> if you do matrix manipulation. This is a module mainly written in C, which will be much faster than programming in pure python. Here is an example of how to invert a matrix, and do other matrix manipulation.</p>

<pre><code>from numpy import matrix
from numpy import linalg
A = matrix( [[1,2,3],[11,12,13],[21,22,23]]) # Creates a matrix.
x = matrix( [[1],[2],[3]] )                  # Creates a matrix (like a column vector).
y = matrix( [[1,2,3]] )                      # Creates a matrix (like a row vector).
print A.T                                    # Transpose of A.
print A*x                                    # Matrix multiplication of A and x.
print A.I                                    # Inverse of A.
print linalg.solve(A, x)     # Solve the linear equation system.
</code></pre>

<p>You can also have a look at the <a href=""http://www.python.org/doc/2.5.2/lib/module-array.html"">array</a> module, which is a much more efficient implementation of lists when you have to deal with only one data type.</p>
"
425,211160,44,50,python,Python Inverse of a Matrix,"<p>How do I get the inverse of a matrix in python? I've implemented it myself, but it's pure python, and I suspect there are faster modules out there to do it.</p>
","<p>Make sure you really need to invert the matrix.  This is often unnecessary and can be numerically unstable.  When most people ask how to invert a matrix, they really want to know how to solve Ax = b where A is a matrix and x and b are vectors.  It's more efficient and more accurate to use code that solves the equation Ax = b for x directly than to calculate A inverse then multiply the inverse by B.  Even if you need to solve Ax = b for many b values, it's not a good idea to invert A.  If you have to solve the system for multiple b values, save the Cholesky factorization of A, but don't invert it.</p>

<p>See <a href=""http://www.johndcook.com/blog/2010/01/19/dont-invert-that-matrix/"">Don't invert that matrix</a>.</p>
"
851,425990,5,50,python,Django on IronPython,"<p>I am interested in getting an install of Django running on IronPython, has anyone had any success getting this running with some level of success?  </p>

<p>If so can you please tell of your experiences, performance, suggest some tips, resources and gotchas?</p>
","<p>This was <a href=""http://www.infoq.com/news/2008/03/django-and-ironpython"" rel=""nofollow"">demoed</a> at last year's PyCon (the <a href=""http://blogs.msdn.com/dinoviehland/archive/2008/03/17/ironpython-ms-sql-and-pep-249.aspx"" rel=""nofollow"">details</a> are also available).  More recently, <a href=""http://jdhardy.blogspot.com/2008/12/django-ironpython.html"" rel=""nofollow"">Jeff Hardy has blogged about this</a>, including suggestions.</p>
"
229,118260,8,43,python,How to start IDLE (Python editor) without using the shortcut on Windows Vista?,"<p>I'm trying to teach Komodo to fire up <a href=""http://en.wikipedia.org/wiki/IDLE%5F%28Python%29"">IDLE</a> when I hit the right keystrokes.  I can use the exact path of the shortcut in start menu in the Windows Explorer location bar to launch IDLE so I was hoping Komodo would be able to use it as well.  But, giving this path to Komodo causes it to say that 1 is returned.  This appears to be a failure as IDLE doesn't start up.</p>

<p>I thought I'd avoid the shortcut and just use the exact path.  I go to the start menu, find the shortcut for IDLE, right click to look at the properties.  The target is grayed out, but says ""Python 2.5.2"".  The ""Start in"" is set to, ""C:\Python25\"".  The ""Open File Location"" button is also grayed out.</p>

<p>How do I find out where this shortcut is really pointing?  I have tried starting python.exe and pythonw.exe both in C:\Python25, but neither starts up IDLE.</p>
","<p>Here's another path you can use.  I'm not sure if this is part of the standard distribution or if the file is automatically created on first use of the IDLE.</p>

<pre><code>C:\Python25\Lib\idlelib\idle.pyw
</code></pre>
"
684,352670,4,43,python,Weighted random selection with and without replacement,"<p>Recently I needed to do weighted random selection of elements from a list, both with and without replacement. While there are well known and good algorithms for unweighted selection, and some for weighted selection without replacement (such as modifications of the resevoir algorithm), I couldn't find any good algorithms for weighted selection with replacement. I also wanted to avoid the resevoir method, as I was selecting a significant fraction of the list, which is small enough to hold in memory.</p>

<p>Does anyone have any suggestions on the best approach in this situation? I have my own solutions, but I'm hoping to find something more efficient, simpler, or both.</p>
","<p>I'd recommend you start by looking at section 3.4.2 of Donald Knuth's <a href=""http://rads.stackoverflow.com/amzn/click/0201896842"" rel=""nofollow"">Seminumerical Algorithms</a>. </p>

<p>If your arrays are large, there are more efficient algorithms in chapter 3 of <a href=""http://rads.stackoverflow.com/amzn/click/0198522029"" rel=""nofollow"">Principles of Random Variate Generation</a> by John Dagpunar.  If your arrays are not terribly large or you're not concerned with squeezing out as much efficiency as possible, the simpler algorithms in Knuth are probably fine.</p>
"
685,352670,4,43,python,Weighted random selection with and without replacement,"<p>Recently I needed to do weighted random selection of elements from a list, both with and without replacement. While there are well known and good algorithms for unweighted selection, and some for weighted selection without replacement (such as modifications of the resevoir algorithm), I couldn't find any good algorithms for weighted selection with replacement. I also wanted to avoid the resevoir method, as I was selecting a significant fraction of the list, which is small enough to hold in memory.</p>

<p>Does anyone have any suggestions on the best approach in this situation? I have my own solutions, but I'm hoping to find something more efficient, simpler, or both.</p>
","<p>Here's what I came up with for weighted selection without replacement:</p>

<pre><code>def WeightedSelectionWithoutReplacement(l, n):
  """"""Selects without replacement n random elements from a list of (weight, item) tuples.""""""
  l = sorted((random.random() * x[0], x[1]) for x in l)
  return l[-n:]
</code></pre>

<p>This is O(m log m) on the number of items in the list to be selected from. I'm fairly certain this will weight items correctly, though I haven't verified it in any formal sense.</p>

<p>Here's what I came up with for weighted selection with replacement:</p>

<pre><code>def WeightedSelectionWithReplacement(l, n):
  """"""Selects with replacement n random elements from a list of (weight, item) tuples.""""""
  cuml = []
  total_weight = 0.0
  for weight, item in l:
    total_weight += weight
    cuml.append((total_weight, item))
  return [cuml[bisect.bisect(cuml, random.random()*total_weight)] for x in range(n)]
</code></pre>

<p>This is O(m + n log m), where m is the number of items in the input list, and n is the number of items to be selected.</p>
"
686,352670,31,43,python,Weighted random selection with and without replacement,"<p>Recently I needed to do weighted random selection of elements from a list, both with and without replacement. While there are well known and good algorithms for unweighted selection, and some for weighted selection without replacement (such as modifications of the resevoir algorithm), I couldn't find any good algorithms for weighted selection with replacement. I also wanted to avoid the resevoir method, as I was selecting a significant fraction of the list, which is small enough to hold in memory.</p>

<p>Does anyone have any suggestions on the best approach in this situation? I have my own solutions, but I'm hoping to find something more efficient, simpler, or both.</p>
","<p>One of the fastest ways to make many with replacement samples from an unchanging list is the alias method.  The core intuition is that we can create a set of equal-sized bins for the weighted list that can be indexed very efficiently through bit operations, to avoid a binary search.  It will turn out that, done correctly, we will need to only store two items from the original list per bin, and thus can represent the split with a single percentage.</p>

<p>Let's us take the example of five equally weighted choices, <code>(a:1, b:1, c:1, d:1, e:1)</code></p>

<p>To create the alias lookup:</p>

<ol>
<li><p>Normalize the weights such that they sum to <code>1.0</code>.  <code>(a:0.2 b:0.2 c:0.2 d:0.2 e:0.2)</code>  This is the probability of choosing each weight.</p></li>
<li><p>Find the smallest power of 2 greater than or equal to the number of variables, and create this number of partitions, <code>|p|</code>.  Each partition represents a probability mass of <code>1/|p|</code>.  In this case, we create <code>8</code> partitions, each able to contain <code>0.125</code>.</p></li>
<li><p>Take the variable with the least remaining weight, and place as much of it's mass as possible in an empty partition.  In this example, we see that <code>a</code> fills the first partition.  <code>(p1{a|null,1.0},p2,p3,p4,p5,p6,p7,p8)</code> with <code>(a:0.075, b:0.2 c:0.2 d:0.2 e:0.2)</code></p></li>
<li><p>If the partition is not filled, take the variable with the most weight, and fill the partition with that variable.  </p></li>
</ol>

<p>Repeat steps 3 and 4, until none of the weight from the original partition need be assigned to the list.</p>

<p>For example, if we run another iteration of 3 and 4, we see </p>

<p><code>(p1{a|null,1.0},p2{a|b,0.6},p3,p4,p5,p6,p7,p8)</code> with <code>(a:0, b:0.15 c:0.2 d:0.2 e:0.2)</code> left to be assigned</p>

<p>At runtime:</p>

<ol>
<li><p>Get a <code>U(0,1)</code> random number, say binary <code>0.001100000</code></p></li>
<li><p>bitshift it <code>lg2(p)</code>, finding the index partition.  Thus, we shift it by <code>3</code>, yielding <code>001.1</code>, or position 1, and thus partition 2.</p></li>
<li><p>If the partition is split, use the decimal portion of the shifted random number to decide the split. In this case, the value is <code>0.5</code>, and <code>0.5 &lt; 0.6</code>, so return <code>a</code>.</p></li>
</ol>

<p><a href=""http://prxq.wordpress.com/2006/04/17/the-alias-method/"">Here is some code and another explanation</a>, but unfortunately it doesn't use the bitshifting technique, nor have I actually verified it.</p>
"
228,118260,53,43,python,How to start IDLE (Python editor) without using the shortcut on Windows Vista?,"<p>I'm trying to teach Komodo to fire up <a href=""http://en.wikipedia.org/wiki/IDLE%5F%28Python%29"">IDLE</a> when I hit the right keystrokes.  I can use the exact path of the shortcut in start menu in the Windows Explorer location bar to launch IDLE so I was hoping Komodo would be able to use it as well.  But, giving this path to Komodo causes it to say that 1 is returned.  This appears to be a failure as IDLE doesn't start up.</p>

<p>I thought I'd avoid the shortcut and just use the exact path.  I go to the start menu, find the shortcut for IDLE, right click to look at the properties.  The target is grayed out, but says ""Python 2.5.2"".  The ""Start in"" is set to, ""C:\Python25\"".  The ""Open File Location"" button is also grayed out.</p>

<p>How do I find out where this shortcut is really pointing?  I have tried starting python.exe and pythonw.exe both in C:\Python25, but neither starts up IDLE.</p>
","<p>There's a file called idle.py in your Python installation directory in Lib\idlelib\idle.py</p>

<p>If you run that file with Python, then IDLE should start.</p>

<blockquote>
  <p>c:\Python25\pythonw.exe c:\Python25\Lib\idlelib\idle.py</p>
</blockquote>
"
277,156230,5,41,python,Python Dependency Injection Framework,"<p>Is there a framework equivalent to Guice (<a href=""http://code.google.com/p/google-guice"">http://code.google.com/p/google-guice</a>) for Python?</p>
","<p>Besides that:</p>

<ol>
<li><a href=""http://wiki.zope.org/zope3/ComponentArchitectureApproach"">Zope component architekture</a></li>
<li><a href=""http://pypi.python.org/pypi/PyContainer"">pyContainer</a></li>
</ol>
"
279,156230,9,41,python,Python Dependency Injection Framework,"<p>Is there a framework equivalent to Guice (<a href=""http://code.google.com/p/google-guice"">http://code.google.com/p/google-guice</a>) for Python?</p>
","<p>As an alternative to monkeypatching, I like DI. A nascent project such as <a href=""http://code.google.com/p/snake-guice/"" rel=""nofollow"">http://code.google.com/p/snake-guice/</a> may fit the bill.</p>

<p>Or see the blog post <a href=""http://web.archive.org/web/20090628142546/http://planet.open4free.org/tag/dependency%20injection/"" rel=""nofollow"">Dependency Injection in Python</a> by Dennis Kempin (Aug '08).</p>
"
276,156230,12,41,python,Python Dependency Injection Framework,"<p>Is there a framework equivalent to Guice (<a href=""http://code.google.com/p/google-guice"">http://code.google.com/p/google-guice</a>) for Python?</p>
","<p>I haven't used it, but the <a href=""http://springpython.webfactional.com/"">Spring Python</a> framework is based on Spring and implements <a href=""http://static.springsource.org/spring-python/1.2.x/sphinx/html/objects.html"">Inversion of Control</a>.</p>

<p>There also appears to be a Guice in Python project: <a href=""http://code.google.com/p/snake-guice/"">snake-guice</a></p>
"
278,156230,24,41,python,Python Dependency Injection Framework,"<p>Is there a framework equivalent to Guice (<a href=""http://code.google.com/p/google-guice"">http://code.google.com/p/google-guice</a>) for Python?</p>
","<p><a href=""http://springpython.webfactional.com"">Spring Python</a> is an offshoot of the Java-based Spring Framework and Spring Security, targeted for Python. This project currently contains the following features:</p>

<ul>
<li><a href=""http://martinfowler.com/articles/injection.html"">Inversion Of Control (dependency injection)</a> - use either classic XML, or the python @Object decorator (similar to the Spring JavaConfig subproject) to wire things together. While the @Object format isn't identical to the Guice style (centralized wiring vs. wiring information in each class), it is a valuable way to wire your python app.</li>
<li><a href=""http://en.wikipedia.org/wiki/Aspect-oriented_programming"">Aspect-oriented Programming</a> - apply interceptors in a horizontal programming paradigm (instead of vertical OOP inheritance) for things like transactions, security, and caching.</li>
<li>DatabaseTemplate - Reading from the database requires a monotonous cycle of opening cursors, reading rows, and closing cursors, along with exception handlers. With this template class, all you need is the SQL query and row-handling function. Spring Python does the rest.</li>
<li>Database Transactions - Wrapping multiple database calls with transactions can make your code hard to read. This module provides multiple ways to define transactions without making things complicated.</li>
<li>Security - Plugin security interceptors to lock down access to your methods, utilizing both authentication and domain authorization.</li>
<li>Remoting - It is easy to convert your local application into a distributed one. If you have already built your client and server pieces using the IoC container, then going from local to distributed is just a configuration change.</li>
<li>Samples - to help demonstrate various features of Spring Python, some sample applications have been created:
<ul>
<li>PetClinic - Spring Framework's sample web app has been rebuilt from the ground up using python web containers including: <a href=""http://cherrypy.org/"">CherryPy</a>. Go check it out for an example of how to use this framework. (NOTE: Other python web frameworks will be added to this list in the future).</li>
<li>Spring Wiki - Wikis are powerful ways to store and manage content, so we created a simple one as a demo!</li>
<li>Spring Bot - Use Spring Python to build a tiny bot to manage the IRC channel of your open source project.</li>
</ul></li>
</ul>
"
618,306130,0,41,python,Python decorator makes function forget that it belongs to a class,"<p>I am trying to write a decorator to do logging:</p>

<pre><code>def logger(myFunc):
    def new(*args, **keyargs):
        print 'Entering %s.%s' % (myFunc.im_class.__name__, myFunc.__name__)
        return myFunc(*args, **keyargs)

    return new

class C(object):
    @logger
    def f():
        pass

C().f()
</code></pre>

<p>I would like this to print:</p>

<pre><code>Entering C.f
</code></pre>

<p>but instead I get this error message:</p>

<pre><code>AttributeError: 'function' object has no attribute 'im_class'
</code></pre>

<p>Presumably this is something to do with the scope of 'myFunc' inside 'logger', but I've no idea what.</p>
","<p>You can also use <code>new.instancemethod()</code> to create an instance method (either bound or unbound) from a function.</p>
"
619,306130,18,41,python,Python decorator makes function forget that it belongs to a class,"<p>I am trying to write a decorator to do logging:</p>

<pre><code>def logger(myFunc):
    def new(*args, **keyargs):
        print 'Entering %s.%s' % (myFunc.im_class.__name__, myFunc.__name__)
        return myFunc(*args, **keyargs)

    return new

class C(object):
    @logger
    def f():
        pass

C().f()
</code></pre>

<p>I would like this to print:</p>

<pre><code>Entering C.f
</code></pre>

<p>but instead I get this error message:</p>

<pre><code>AttributeError: 'function' object has no attribute 'im_class'
</code></pre>

<p>Presumably this is something to do with the scope of 'myFunc' inside 'logger', but I've no idea what.</p>
","<p>Functions only become methods at runtime.  That is, when you get <code>C.f</code> you get a bound function (and <code>C.f.im_class is C</code>).  At the time your function is defined it is just a plain function, it is not bound to any class.  This unbound and disassociated function is what is decorated by logger.</p>

<p><code>self.__class__.__name__</code> will give you the name of the class, but you can also use descriptors to accomplish this in a somewhat more general way.  This pattern is described <a href=""http://blog.ianbicking.org/2008/10/24/decorators-and-descriptors/"">in a blog post on Decorators and Descriptors</a>, and an implementation of your logger decorator in particular would look like:</p>

<pre><code>class logger(object):
    def __init__(self, func):
        self.func = func
    def __get__(self, obj, type=None):
        return self.__class__(self.func.__get__(obj, type))
    def __call__(self, *args, **kw):
        print 'Entering %s' % self.func
        return self.func(*args, **kw)

class C(object):
    @logger
    def f(self, x, y):
        return x+y

C().f(1, 2)
# =&gt; Entering &lt;bound method C.f of &lt;__main__.C object at 0x...&gt;&gt;
</code></pre>

<p>Obviously the output can be improved (by using, for example, <code>getattr(self.func, 'im_class', None)</code>), but this general pattern will work for both methods and functions.  However it will <em>not</em> work for old-style classes (but just don't use those ;)</p>
"
617,306130,36,41,python,Python decorator makes function forget that it belongs to a class,"<p>I am trying to write a decorator to do logging:</p>

<pre><code>def logger(myFunc):
    def new(*args, **keyargs):
        print 'Entering %s.%s' % (myFunc.im_class.__name__, myFunc.__name__)
        return myFunc(*args, **keyargs)

    return new

class C(object):
    @logger
    def f():
        pass

C().f()
</code></pre>

<p>I would like this to print:</p>

<pre><code>Entering C.f
</code></pre>

<p>but instead I get this error message:</p>

<pre><code>AttributeError: 'function' object has no attribute 'im_class'
</code></pre>

<p>Presumably this is something to do with the scope of 'myFunc' inside 'logger', but I've no idea what.</p>
","<p>Claudiu's answer is correct, but you can also cheat by getting the class name off of the <code>self</code> argument.  This will give misleading log statements in cases of inheritance, but will tell you the class of the object whose method is being called.  For example:</p>

<pre><code>from functools import wraps  # use this to preserve function signatures and docstrings
def logger(func):
    @wraps(func)
    def with_logging(*args, **kwargs):
        print ""Entering %s.%s"" % (args[0].__class__.__name__, func.__name__)
        return func(*args, **kwargs)
    return with_logging

class C(object):
    @logger
    def f(self):
        pass

C().f()
</code></pre>

<p>As I said, this won't work properly in cases where you've inherited a function from a parent class; in this case you might say</p>

<pre><code>class B(C):
    pass

b = B()
b.f()
</code></pre>

<p>and get the message <code>Entering B.f</code> where you actually want to get the message <code>Entering C.f</code> since that's the correct class.  On the other hand, this might be acceptable, in which case I'd recommend this approach over Claudiu's suggestion.</p>
"
616,306130,6,41,python,Python decorator makes function forget that it belongs to a class,"<p>I am trying to write a decorator to do logging:</p>

<pre><code>def logger(myFunc):
    def new(*args, **keyargs):
        print 'Entering %s.%s' % (myFunc.im_class.__name__, myFunc.__name__)
        return myFunc(*args, **keyargs)

    return new

class C(object):
    @logger
    def f():
        pass

C().f()
</code></pre>

<p>I would like this to print:</p>

<pre><code>Entering C.f
</code></pre>

<p>but instead I get this error message:</p>

<pre><code>AttributeError: 'function' object has no attribute 'im_class'
</code></pre>

<p>Presumably this is something to do with the scope of 'myFunc' inside 'logger', but I've no idea what.</p>
","<p>Class functions should always take self as their first argument, so you can use that instead of im_class.</p>

<pre><code>def logger(myFunc):
    def new(self, *args, **keyargs):
        print 'Entering %s.%s' % (self.__class__.__name__, myFunc.__name__)
        return myFunc(self, *args, **keyargs)

    return new 

class C(object):
    @logger
    def f(self):
        pass
C().f()
</code></pre>

<p>at first I wanted to use <code>self.__name__</code> but that doesn't work because the instance has no name. you must use <code>self.__class__.__name__</code> to get the name of the class.</p>
"
615,306130,6,41,python,Python decorator makes function forget that it belongs to a class,"<p>I am trying to write a decorator to do logging:</p>

<pre><code>def logger(myFunc):
    def new(*args, **keyargs):
        print 'Entering %s.%s' % (myFunc.im_class.__name__, myFunc.__name__)
        return myFunc(*args, **keyargs)

    return new

class C(object):
    @logger
    def f():
        pass

C().f()
</code></pre>

<p>I would like this to print:</p>

<pre><code>Entering C.f
</code></pre>

<p>but instead I get this error message:</p>

<pre><code>AttributeError: 'function' object has no attribute 'im_class'
</code></pre>

<p>Presumably this is something to do with the scope of 'myFunc' inside 'logger', but I've no idea what.</p>
","<p>It seems that while the class is being created, Python creates regular function objects. They only get turned into unbound method objects afterwards. Knowing that, this is the only way I could find to do what you want:</p>

<pre><code>def logger(myFunc):
    def new(*args, **keyargs):
        print 'Entering %s.%s' % (myFunc.im_class.__name__, myFunc.__name__)
        return myFunc(*args, **keyargs)

    return new

class C(object):
    def f(self):
        pass
C.f = logger(C.f)
C().f()
</code></pre>

<p>This outputs the desired result.</p>

<p>If you want to wrap all the methods in a class, then you probably want to create a wrapClass function, which you could then use like this:</p>

<pre><code>C = wrapClass(C)
</code></pre>
"
283,156330,31,40,python,Get timer ticks in Python,"<p>I'm just trying to time a piece of code. The pseudocode looks like:</p>

<pre><code>start = get_ticks()
do_long_code()
print ""It took "" + (get_ticks() - start) + "" seconds.""
</code></pre>

<p>How does this look in Python?</p>

<p>More specifically, how do I get the number of ticks since midnight (or however Python organizes that timing)?</p>
","<p>In the <code>time</code> module, there are two timing functions: <code>time</code> and <code>clock</code>. <code>time</code> gives you ""wall"" time, if this is what you care about.</p>

<p>However, the python <a href=""http://docs.python.org/lib/module-time.html"">docs</a> say that <code>clock</code> should be used for benchmarking. Note that <code>clock</code> behaves different in separate systems:</p>

<ul>
<li>on MS Windows, it uses the Win32 function QueryPerformanceCounter(), with ""resolution typically better than a microsecond"". It has no special meaning, it's just a number (it starts counting the first time you call <code>clock</code> in your process).</li>
</ul>

<pre>
    # ms windows
    t0= time.clock()
    do_something()
    t= time.clock() - t0 # t is wall seconds elapsed (floating point)
</pre>

<ul>
<li>on *nix, <code>clock</code> reports CPU time. Now, this is different, and most probably the value you want, since your program hardly ever is the only process requesting CPU time (even if you have no other processes, the kernel uses CPU time now and then). So, this number, which typically is smallerÂ¹ than the wall time (i.e. time.time() - t0), is more meaningful when benchmarking code:</li>
</ul>

<pre>
    # linux
    t0= time.clock()
    do_something()
    t= time.clock() - t0 # t is CPU seconds elapsed (floating point)
</pre>

<p>Apart from all that, the <a href=""http://docs.python.org/lib/module-timeit.html"">timeit</a> module has the <code>Timer</code> class that is supposed to use what's best for benchmarking from the available functionality.</p>

<p>Â¹ unless threading gets in the wayâ¦</p>

<p>Â² Python â¥3.3: there are <a href=""http://www.python.org/dev/peps/pep-0418/#id18""><code>time.perf_counter()</code> and <code>time.process_time()</code></a>. <code>perf_counter</code> is being used by the <code>timeit</code> module.</p>
"
422,211100,7,40,python,Python's __import__ doesn't work as expected,"<p>When using <code>__import__</code> with a dotted name, something like: <code>somepackage.somemodule</code>, the module returned isn't <code>somemodule</code>, whatever is returned seems to be mostly empty! what's going on here?</p>
","<p>There is something that works as you want it to: <code>twisted.python.reflect.namedAny</code>:</p>

<pre><code>&gt;&gt;&gt; from twisted.python.reflect import namedAny
&gt;&gt;&gt; namedAny(""operator.eq"")
&lt;built-in function eq&gt;
&gt;&gt;&gt; namedAny(""pysqlite2.dbapi2.connect"")
&lt;built-in function connect&gt;
&gt;&gt;&gt; namedAny(""os"")
&lt;module 'os' from '/usr/lib/python2.5/os.pyc'&gt;
</code></pre>
"
421,211100,51,40,python,Python's __import__ doesn't work as expected,"<p>When using <code>__import__</code> with a dotted name, something like: <code>somepackage.somemodule</code>, the module returned isn't <code>somemodule</code>, whatever is returned seems to be mostly empty! what's going on here?</p>
","<p>From the python docs on <code>__import__</code>:</p>

<blockquote>
<pre><code>__import__( name[, globals[, locals[, fromlist[, level]]]])
</code></pre>
  
  <p>...</p>
  
  <p>When the name variable is of the form
  package.module, normally, the
  top-level package (the name up till
  the first dot) is returned, not the
  module named by name. However, when a
  non-empty fromlist argument is given,
  the module named by name is returned.
  This is done for compatibility with
  the bytecode generated for the
  different kinds of import statement;
  when using ""import spam.ham.eggs"", the
  top-level package spam  must be placed
  in the importing namespace, but when
  using ""from spam.ham import eggs"", the
  spam.ham subpackage must be used to
  find the eggs variable. As a
  workaround for this behavior, use
  getattr() to extract the desired
  components. For example, you could
  define the following helper:</p>

<pre><code>def my_import(name):
    mod = __import__(name)
    components = name.split('.')
    for comp in components[1:]:
        mod = getattr(mod, comp)
    return mod
</code></pre>
</blockquote>

<p><strong>To paraphrase:</strong></p>

<p>When you ask for <code>somepackage.somemodule</code>, <code>__import__</code> returns <code>somepackage.__init__.py</code>, which is often empty.</p>

<p>It will return <code>somemodule</code> if you provide <code>fromlist</code> (a list of the variable names inside <code>somemodule</code> you want, which are not actually returned)</p>

<p>You can also, as I did, use the function they suggest.</p>

<p>Note: I asked this question fully intending to answer it myself. There was a big bug in my code, and having misdiagnosed it, it took me a long time to figure it out, so I figured I'd help the SO community out and post the gotcha I ran into here.</p>
"
282,156330,2,40,python,Get timer ticks in Python,"<p>I'm just trying to time a piece of code. The pseudocode looks like:</p>

<pre><code>start = get_ticks()
do_long_code()
print ""It took "" + (get_ticks() - start) + "" seconds.""
</code></pre>

<p>How does this look in Python?</p>

<p>More specifically, how do I get the number of ticks since midnight (or however Python organizes that timing)?</p>
","<p>The <a href=""http://docs.python.org/lib/module-time.html"" rel=""nofollow"">time module</a> in python gives you access to the clock() function, which returns time in seconds as a floating point.</p>

<p>Different systems will have different accuracy based on their internal clock setup (ticks per second) but it's generally at least under 20milliseconds, and in some cases better than a few microseconds.</p>


"
281,156330,2,40,python,Get timer ticks in Python,"<p>I'm just trying to time a piece of code. The pseudocode looks like:</p>

<pre><code>start = get_ticks()
do_long_code()
print ""It took "" + (get_ticks() - start) + "" seconds.""
</code></pre>

<p>How does this look in Python?</p>

<p>More specifically, how do I get the number of ticks since midnight (or however Python organizes that timing)?</p>
","<pre><code>import datetime

start = datetime.datetime.now()
do_long_code()
finish = datetime.datetime.now()
delta = finish - start
print delta.seconds
</code></pre>

<p>From midnight:</p>

<pre><code>import datetime

midnight = datetime.datetime.now().replace(hour=0, minute=0, second=0, microsecond=0)
now = datetime.datetime.now()
delta = now - midnight
print delta.seconds
</code></pre>
"
280,156330,29,40,python,Get timer ticks in Python,"<p>I'm just trying to time a piece of code. The pseudocode looks like:</p>

<pre><code>start = get_ticks()
do_long_code()
print ""It took "" + (get_ticks() - start) + "" seconds.""
</code></pre>

<p>How does this look in Python?</p>

<p>More specifically, how do I get the number of ticks since midnight (or however Python organizes that timing)?</p>
","<p>What you need is <code>time()</code> function from <code>time</code> module:</p>

<pre><code>import time
start = time.time()
do_long_code()
print ""it took"", time.time() - start, ""seconds.""
</code></pre>

<p>You can use <a href=""http://docs.python.org/lib/module-timeit.html"">timeit</a> module for more options though.</p>
"
320,172720,9,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>Cython and pyrex can be used to generate c code using a python-like syntax. Psyco is also fantastic for appropriate projects (sometimes you'll not notice much speed boost, sometimes it'll be as much as 50x as fast).
I still reckon the best way is to profile your code (cProfile, etc.) and then just code the bottlenecks as c functions for python.</p>
"
327,172720,26,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>Rather than just punting to C, I'd suggest:</p>

<p>Make your code count. Do more with fewer executions of lines:</p>

<ul>
<li>Change the algorithm to a faster one. It doesn't need to be fancy to be faster in many cases.</li>
<li>Use python primitives that happens to be written in C. Some things will force an interpreter dispatch where some wont. The latter is preferable</li>
<li>Beware of code that first constructs a big data structure followed by its consumation. Think the difference between range and xrange. In general it is often worth thinking about memory usage of the program. Using generators can sometimes bring O(n) memory use down to O(1).</li>
<li>Python is generally non-optimizing. Hoist invariant code out of loops, eliminate common subexpressions where possible in tight loops.</li>
<li>If something is expensive, then precompute or memoize it. Regular expressions can be compiled for instance.</li>
<li>Need to crunch numbers? You might want to check <code>numpy</code> out.</li>
<li>Many python programs are slow because they are bound by disk I/O or database access. Make sure you have something worthwhile to do while you wait on the data to arrive rather than just blocking. A weapon could be something like the <code>Twisted</code> framework.</li>
<li>Note that many crucial data-processing libraries have C-versions, be it XML, JSON or whatnot. They are often considerably faster than the Python interpreter.</li>
</ul>

<p>If all of the above fails for profiled and measured code, then begin thinking about the C-rewrite path.</p>
"
331,172720,5,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>I hope you've read: <a href=""http://wiki.python.org/moin/PythonSpeed/PerformanceTips"">http://wiki.python.org/moin/PythonSpeed/PerformanceTips</a></p>

<p>Resuming what's already there are usualy 3 principles:</p>

<ul>
<li>write code that gets transformed in better bytecode, like, use locals, avoid unnecessary lookups/calls, use idiomatic constructs (if there's natural syntax for what you want, use it - usually faster. eg: don't do: ""for key in some_dict.keys()"", do ""for key in some_dict"")</li>
<li>whatever is written in C is considerably faster, abuse whatever C functions/modules you have available</li>
<li>when in doubt, import timeit, profile</li>
</ul>
"
330,172720,2,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>The canonical reference to how to improve Python code is here:  <a href=""http://wiki.python.org/moin/PythonSpeed/PerformanceTips"" rel=""nofollow"">PerformanceTips</a>.  I'd recommend against optimizing in C unless you really need to though.  For most applications, you can get the performance you need by following the rules posted in that link.</p>
"
317,172720,16,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>First thing that comes to mind: <a href=""http://psyco.sourceforge.net/"" rel=""nofollow"">psyco</a>. It runs only on x86, for the time being.</p>

<p>Then, <a href=""http://code.activestate.com/recipes/277940/"" rel=""nofollow"">constant binding</a>. That is, make all global references (and <em>global.attr</em>, <em>global.attr.attr</em>â¦) be local names inside of functions and methods. This isn't always successful, but in general it works. It can be done by hand, but obviously is tedious.</p>

<p>You said apart from in-code optimization, so I won't delve into this, but keep your mind open for typical mistakes (<code>for i in range(10000000)</code> comes to mind) that people do.</p>
"
318,172720,4,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>This won't necessarily speed up any of your code, but is critical knowledge when programming in Python if you want to avoid slowing your code down.  The ""Global Interpreter Lock"" (GIL), has the potential to drastically reduce the speed of your multi-threaded program if its behavior is not understood (yes, this bit me ... I had a nice 4 processor machine that wouldn't use more than 1.2 processors at a time).  There's an introductory article with some links to get you started at <a href=""http://smoothspan.wordpress.com/2007/09/14/guido-is-right-to-leave-the-gil-in-python-not-for-multicore-but-for-utility-computing/"" rel=""nofollow"">SmoothSpan</a>.</p>
"
319,172720,4,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>Run your app through the Python profiler.
Find a serious bottleneck.
Rewrite that bottleneck in C.
Repeat.</p>
"
321,172720,22,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>The usual suspects -- profile it, find the most expensive line, figure out what it's doing, fix it. If you haven't done much profiling before, there could be some big fat quadratic loops or string duplication hiding behind otherwise innocuous-looking expressions.</p>

<p>In Python, two of the most common causes I've found for non-obvious slowdown are string concatenation and generators. Since Python's strings are immutable, doing something like this:</p>

<pre><code>result = u""""
for item in my_list:
    result += unicode (item)
</code></pre>

<p>will copy the <em>entire</em> string twice per iteration. This has been well-covered, and the solution is to use <code>"""".join</code>:</p>

<pre><code>result = """".join (unicode (item) for item in my_list)
</code></pre>

<p>Generators are another culprit. They're very easy to use and can simplify some tasks enormously, but a poorly-applied generator will be much slower than simply appending items to a list and returning the list.</p>

<p>Finally, <strong>don't be afraid to rewrite bits in C!</strong> Python, as a dynamic high-level language, is simply not capable of matching C's speed. If there's one function that you can't optimize any more in Python, consider extracting it to an extension module.</p>

<p>My favorite technique for this is to maintain both Python and C versions of a module. The Python version is written to be as clear and obvious as possible -- any bugs should be easy to diagnose and fix. Write your tests against this module. Then write the C version, and test it. Its behavior should in all cases equal that of the Python implementation -- if they differ, it should be very easy to figure out which is wrong and correct the problem.</p>
"
324,172720,40,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>Regarding ""Secondly: When writing a program from scratch in python, what are some good ways to greatly improve performance?""</p>

<p>Remember the Jackson rules of optimization: </p>

<ul>
<li>Rule 1: Don't do it.</li>
<li>Rule 2 (for experts only): Don't do it yet.</li>
</ul>

<p>And the Knuth rule:</p>

<ul>
<li>""Premature optimization is the root of all evil.""</li>
</ul>

<p>The more useful rules are in the <a href=""http://www.cs.cmu.edu/~jch/java/rules.html"">General Rules for Optimization</a>.</p>

<ol>
<li><p>Don't optimize as you go.  First get it right.  Then get it fast.  Optimizing a wrong program is still wrong.</p></li>
<li><p>Remember the 80/20 rule.</p></li>
<li><p>Always run ""before"" and ""after"" benchmarks.  Otherwise, you won't know if you've found the 80%.</p></li>
<li><p>Use the right algorithms and data structures.  This rule should be first.  Nothing matters as much as algorithm and data structure.</p></li>
</ol>

<p><strong>Bottom Line</strong></p>

<p>You can't prevent or avoid the ""optimize this program"" effort.  It's part of the job.  You have to plan for it and do it carefully, just like the design, code and test activities.</p>
"
322,172720,4,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>People have given some good advice, but you have to be aware that when high performance is needed, the python model is: punt to c.  Efforts like psyco may in the future help a bit, but python just isn't a fast language, and it isn't designed to be.  Very few languages have the ability to do the dynamic stuff really well and still generate very fast code; at least for the forseeable future (and some of the design works against fast compilation) that will be the case.</p>

<p>So, if you really find yourself in this bind, your best bet will be to isolate the parts of your system that are unacceptable slow in (good) python, and design around the idea that you'll rewrite those bits in C.  Sorry.  Good design can help make this less painful.  Prototype it in python first though, then you've easily got a sanity check on your c, as well.</p>

<p>This works well enough for things like numpy, after all.  I can't emphasize enough how much good design will help you though.  If you just iteratively poke at your python bits and replace the slowest ones with C, you may end up with a big mess.  Think about exactly where the C bits are needed, and how they can be minimized and encapsulated sensibly.</p>
"
323,172720,3,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>Just a note on using psyco: In some cases it can actually produce slower run-times. Especially when trying to use psyco with code that was written in C. I can't remember the the article I read this, but the  <code>map()</code> and <code>reduce()</code> functions were mentioned specifically. Luckily you can tell psyco not to handle specified functions and/or modules.</p>
"
326,172720,3,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>This is the procedure that I try to follow:<br></p>

<ul>
 <li> import psyco; psyco.full()
 <li> If it's not fast enough, run the code through a profiler, see where the bottlenecks are. (DISABLE psyco for this step!)
 <li> Try to do things such as other people have mentioned to get the code at those bottlenecks as fast as possible.
 <ul><li>Stuff like [str(x) for x in l] or [x.strip() for x in l] is much, much slower than map(str, x) or map(str.strip, x). </ul>
 <li> After this, if I still need more speed, it's actually really easy to get PyRex up and running. I first copy a section of python code, put it directly in the pyrex code, and see what happens. Then I twiddle with it until it gets faster and faster.
</ul>
"
329,172720,3,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>It's often possible to achieve near-C speeds (close enough for any project using Python in the first place!) by replacing explicit algorithms written out longhand in Python with an implicit algorithm using a built-in Python call.  This works because most Python built-ins are written in C anyway. Well, in CPython of course ;-) <a href=""https://www.python.org/doc/essays/list2str/"" rel=""nofollow"">https://www.python.org/doc/essays/list2str/</a>  </p>
"
325,172720,7,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>I'm surprised no one mentioned ShedSkin: <a href=""http://code.google.com/p/shedskin/"">http://code.google.com/p/shedskin/</a>, it automagically converts your python program to C++ and in some benchmarks yields better improvements than psyco in speed.  </p>

<p>Plus anecdotal stories on the simplicity: <a href=""http://pyinsci.blogspot.com/2006/12/trying-out-latest-release-of-shedskin.html"">http://pyinsci.blogspot.com/2006/12/trying-out-latest-release-of-shedskin.html</a></p>

<p>There are limitations though, please see: <a href=""http://tinyurl.com/shedskin-limitations"">http://tinyurl.com/shedskin-limitations</a></p>
"
453,228730,3,39,python,How do I iterate through a string in Python?,"<p>As an example, lets say I wanted to list the frequency of each letter of the alphabet in a string. What would be the easiest way to do it?</p>

<p>This is an example of what I'm thinking of... the question is how to make allTheLetters equal to said letters without something like allTheLetters = ""abcdefg...xyz"". In many other languages I could just do letter++ and increment my way through the alphabet, but thus far I haven't come across a way to do that in python.</p>

<pre><code>def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
","<p>Something like this?</p>

<pre><code>for letter in range(ord('a'), ord('z') + 1):
  print chr(letter) + "":"", lowertext.count(chr(letter))
</code></pre>

<p>(I don't speak Python; please forgive my syntax errors)</p>
"
328,172720,1,39,python,Speeding Up Python,"<p>This is really two questions, but they are so similar, and to keep it simple, I figured I'd just roll them together:</p>

<ul>
<li><p><strong>Firstly</strong>: Given an established python project, what are some decent ways to speed it up beyond just plain in-code optimization?</p></li>
<li><p><strong>Secondly</strong>:  When writing a program from scratch in python, what are some good ways to greatly improve performance?</p></li>
</ul>

<p>For the first question, imagine you are handed a decently written project and you need to improve performance, but you can't seem to get much of a gain through refactoring/optimization.  What would you do to speed it up in this case short of rewriting it in something like C?</p>
","<p>If using psyco, I'd recommend <code>psyco.profile()</code> instead of <code>psyco.full()</code>. For a larger project it will be smarter about the functions that got optimized and use a ton less memory.</p>

<p>I would also recommend looking at iterators and generators. If your application is using large data sets this will save you many copies of containers.</p>
"
455,228730,3,39,python,How do I iterate through a string in Python?,"<p>As an example, lets say I wanted to list the frequency of each letter of the alphabet in a string. What would be the easiest way to do it?</p>

<p>This is an example of what I'm thinking of... the question is how to make allTheLetters equal to said letters without something like allTheLetters = ""abcdefg...xyz"". In many other languages I could just do letter++ and increment my way through the alphabet, but thus far I haven't come across a way to do that in python.</p>

<pre><code>def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
","<p>Do you mean using:</p>

<pre><code>import string
string.ascii_lowercase
</code></pre>

<p>then,</p>

<pre><code>counters = dict()
for letter in string.ascii_lowercase:
    counters[letter] = lowertext.count(letter)
</code></pre>

<p>All lowercase letters are accounted for, missing counters will have zero value.</p>

<p>using generators:</p>

<pre><code>counters = 
    dict( (letter,lowertext.count(letter)) for letter in string.ascii_lowercase )
</code></pre>
"
456,228730,9,39,python,How do I iterate through a string in Python?,"<p>As an example, lets say I wanted to list the frequency of each letter of the alphabet in a string. What would be the easiest way to do it?</p>

<p>This is an example of what I'm thinking of... the question is how to make allTheLetters equal to said letters without something like allTheLetters = ""abcdefg...xyz"". In many other languages I could just do letter++ and increment my way through the alphabet, but thus far I haven't come across a way to do that in python.</p>

<pre><code>def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
","<p>If you just want to do a frequency count of a string, try this:</p>

<pre><code>s = 'hi there'
f = {}

for c in s:
        f[c] = f.get(c, 0) + 1

print f
</code></pre>
"
454,228730,14,39,python,How do I iterate through a string in Python?,"<p>As an example, lets say I wanted to list the frequency of each letter of the alphabet in a string. What would be the easiest way to do it?</p>

<p>This is an example of what I'm thinking of... the question is how to make allTheLetters equal to said letters without something like allTheLetters = ""abcdefg...xyz"". In many other languages I could just do letter++ and increment my way through the alphabet, but thus far I haven't come across a way to do that in python.</p>

<pre><code>def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
","<blockquote>
  <p>the question is how to make
  allTheLetters equal to said letters
  without something like allTheLetters =
  ""abcdefg...xyz""</p>
</blockquote>

<p>That's actually provided by the string module, it's not like you have to manually type it yourself ;)</p>

<pre><code>import string

allTheLetters = string.ascii_lowercase

def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
"
457,228730,2,39,python,How do I iterate through a string in Python?,"<p>As an example, lets say I wanted to list the frequency of each letter of the alphabet in a string. What would be the easiest way to do it?</p>

<p>This is an example of what I'm thinking of... the question is how to make allTheLetters equal to said letters without something like allTheLetters = ""abcdefg...xyz"". In many other languages I could just do letter++ and increment my way through the alphabet, but thus far I haven't come across a way to do that in python.</p>

<pre><code>def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
","<p>Main question is ""iterate through the alphabet"":</p>

<pre><code>import string
for c in string.lowercase:
    print c
</code></pre>

<p>How get letter frequencies with some efficiency and without counting non-letter characters:</p>

<pre><code>import string

sample = ""Hello there, this is a test!""
letter_freq = dict((c,0) for c in string.lowercase)

for c in [c for c in sample.lower() if c.isalpha()]:
    letter_freq[c] += 1

print letter_freq
</code></pre>
"
458,228730,72,39,python,How do I iterate through a string in Python?,"<p>As an example, lets say I wanted to list the frequency of each letter of the alphabet in a string. What would be the easiest way to do it?</p>

<p>This is an example of what I'm thinking of... the question is how to make allTheLetters equal to said letters without something like allTheLetters = ""abcdefg...xyz"". In many other languages I could just do letter++ and increment my way through the alphabet, but thus far I haven't come across a way to do that in python.</p>

<pre><code>def alphCount(text):
  lowerText = text.lower()
  for letter in allTheLetters:  
    print letter + "":"", lowertext.count(letter)
</code></pre>
","<p>The question you've asked (how to iterate through the alphabet) is not the same question as the problem you're trying to solve (how to count the frequency of letters in a string).</p>

<p>You can use string.lowercase, as other posters have suggested:</p>

<pre><code>import string
allTheLetters = string.lowercase
</code></pre>

<p>To do things the way you're ""used to"", treating letters as numbers, you can use the ""ord"" and ""chr"" functions.  There's absolutely no reason to ever do exactly this, but maybe it comes closer to what you're actually trying to figure out:</p>

<pre><code>def getAllTheLetters(begin='a', end='z'):
    beginNum = ord(begin)
    endNum = ord(end)
    for number in xrange(beginNum, endNum+1):
        yield chr(number)
</code></pre>

<p>You can tell it does the right thing because this code prints <code>True</code>:</p>

<pre><code>import string
print ''.join(getAllTheLetters()) == string.lowercase
</code></pre>

<p>But, to solve the problem you're actually trying to solve, you want to use a dictionary and collect the letters as you go:</p>

<pre><code>from collections import defaultdict    
def letterOccurrances(string):
    frequencies = defaultdict(lambda: 0)
    for character in string:
        frequencies[character.lower()] += 1
    return frequencies
</code></pre>

<p>Use like so:</p>

<pre><code>occs = letterOccurrances(""Hello, world!"")
print occs['l']
print occs['h']
</code></pre>

<p>This will print '3' and '1' respectively.</p>

<p>Note that this works for unicode as well:</p>

<pre><code># -*- coding: utf-8 -*-
occs = letterOccurrances(u""hÃ©ÄºÄºÃ³, áºÃ³ÅÄºd!"")
print occs[u'l']
print occs[u'Äº']
</code></pre>

<p>If you were to try the other approach on unicode (incrementing through every character) you'd be waiting a long time; there are millions of unicode characters.</p>

<p>To implement your original function (print the counts of each letter in alphabetical order) in terms of this:</p>

<pre><code>def alphCount(text):
    for character, count in sorted(letterOccurrances(text).iteritems()):
        print ""%s: %s"" % (character, count)

alphCount(""hello, world!"")
</code></pre>
"
879,442040,25,37,python,Pre-populate an inline FormSet?,"<p>I'm working on an attendance entry form for a band.  My idea is to have a section of the form to enter event information for a performance or rehearsal.  Here's the model for the event table:</p>

<pre><code>class Event(models.Model):
    event_id = models.AutoField(primary_key=True)
    date = models.DateField()
    event_type = models.ForeignKey(EventType)
    description = models.TextField()
</code></pre>

<p>Then I'd like to have an inline FormSet that links the band members to the event and records whether they were present, absent, or excused:</p>

<pre><code>class Attendance(models.Model):
    attendance_id = models.AutoField(primary_key=True)
    event_id = models.ForeignKey(Event)
    member_id = models.ForeignKey(Member)
    attendance_type = models.ForeignKey(AttendanceType)
    comment = models.TextField(blank=True)
</code></pre>

<p>Now, what I'd like to do is to pre-populate this inline FormSet with entries for all the current members and default them to being present (around 60 members).  Unfortunately, Django <a href=""http://groups.google.com/group/django-developers/browse_thread/thread/73af9e58bd7626a8"">doesn't allow initial values in this case.</a></p>

<p>Any suggestions?</p>
","<p>So, you're not going to like the answer, partly because I'm not yet done writing the code and partly because it's a lot of work.</p>

<p>What you need to do, as I discovered when I ran into this myself, is:</p>

<ol>
<li>Spend a lot of time reading through the formset and model-formset code to get a feel for how it all works (not helped by the fact that some of the functionality lives on the formset classes, and some of it lives in factory functions which spit them out). You will need this knowledge in the later steps.</li>
<li>Write your own formset class which subclasses from <code>BaseInlineFormSet</code> and accepts <code>initial</code>. The really tricky bit here is that you <em>must</em> override <code>__init__()</code>, and you <em>must</em> make sure that it calls up to <code>BaseFormSet.__init__()</code> rather than using the direct parent or grandparent <code>__init__()</code> (since those are <code>BaseInlineFormSet</code> and <code>BaseModelFormSet</code>, respectively, and neither of them can handle initial data).</li>
<li>Write your own subclass of the appropriate admin inline class (in my case it was <code>TabularInline</code>) and override its <code>get_formset</code> method to return the result of <code>inlineformset_factory()</code> using your custom formset class.</li>
<li>On the actual <code>ModelAdmin</code> subclass for the model with the inline, override <code>add_view</code> and <code>change_view</code>, and replicate most of the code, but with one big change: build the initial data your formset will need, and pass it to your custom formset (which will be returned by your <code>ModelAdmin</code>'s <code>get_formsets()</code> method).</li>
</ol>

<p>I've had a few productive chats with Brian and Joseph about improving this for future Django releases; at the moment, the way the model formsets work just make this more trouble than it's usually worth, but with a bit of API cleanup I think it could be made extremely easy.</p>
"
315,172040,1,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>You shouldn't be having trouble developing against your own machine. What error are you getting?</p>

<p>An OpenID provider will ask you to give your site (in this case <a href=""http://localhost:8000"" rel=""nofollow"">http://localhost:8000</a> or similar) access to your identity. If you click ok then it will redirect you that url. I've never had problems with <a href=""http://www.livejournal.com"" rel=""nofollow"">livejournal</a> and I expect that <a href=""http://myopenid.com"" rel=""nofollow"">myopenid.com</a> will work too.</p>

<p>If you're having problems developing locally I suggest that the problem you're having is unrelated to the url being localhost, but something else. Without an error message or problem description it's impossible to say more.</p>

<p><strong>Edit</strong>: It turns out that Yahoo do things differently to other OpenID providers that I've come across and disallow redirections to ip address, sites without a correct tld in their domain name and those that run on ports other than 80 or 443. See <a href=""http://openid.net/pipermail/general/2008-January/004024.html"" rel=""nofollow"">here</a> for a post from a Yahoo developer on this subject. <a href=""http://openid.net/pipermail/general/2008-January/004023.html"" rel=""nofollow"">This post</a> offers a work around, but I would suggest that for development myopenid.com would be far simpler than working around Yahoo, or running your own provider.</p>
"
310,172040,3,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>I'm also looking into this.  I too am working on a Django project that might utilize Open Id.  For references, check out:</p>

<ul>
<li><a href=""http://siege.org/projects/phpMyID/"" rel=""nofollow"">PHPMyId</a></li>
<li><a href=""http://openid.net/get/"" rel=""nofollow"">OpenId's page</a></li>
</ul>

<p>Hopefully someone here has tackled this issue.</p>
"
311,172040,3,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>I'm using <a href=""http://siege.org/projects/phpMyID/"" rel=""nofollow"">phpMyID</a> to authenticate at StackOverflow right now. Generates a standard HTTP auth realm and works perfectly. It should be exactly what you need.</p>
"
312,172040,1,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>Why not run an OpenID provider from your local machine?</p>

<p>If you are a .Net developer there is an OpenID provider library for .Net at <a href=""http://code.google.com/p/dotnetopenid/"" rel=""nofollow"">Google Code</a>. This uses the standard .Net profile provider mechanism and wraps it with an OpenID layer. We are using it to add OpenID to our custom authentication engine.</p>

<p>If you are working in another language/platform there are a number of OpenID implementation avalaiable from the OpenID community site <a href=""http://wiki.openid.net/Libraries"" rel=""nofollow"">here</a>.</p>
"
313,172040,3,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>You could probably use the django OpenID library to write a provider to test against. Have one that always authenticates and one that always fails.</p>
"
314,172040,9,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>I have no problems testing with <a href=""http://myopenid.com"" rel=""nofollow"">myopenid.com</a>. I thought there would be a problem testing on my local machine but it just worked. (I'm using ASP.NET with DotNetOpenId library).</p>

<p>The 'realm' and return url must contain the port number like '<a href=""http://localhost:93359"" rel=""nofollow"">http://localhost:93359</a>'.</p>

<p>I assume it works OK because the provider does a client side redirect.</p>
"
316,172040,13,34,python,How do you develop against OpenID locally,"<p>I'm developing a website (in Django) that uses OpenID to authenticate users. As I'm currently only running on my local machine I can't authenticate using one of the OpenID providers on the web. So I figure I need to run a local OpenID server that simply lets me type in a username and then passes that back to my main app.</p>

<p>Does such an OpenID dev server exist? Is this the best way to go about it?</p>
","<p>The libraries at <a href=""http://openidenabled.com/"" rel=""nofollow"">OpenID Enabled</a> ship with examples that are sufficient to run a local test provider.  Look in the examples/djopenid/ directory of the python-openid source distribution.  Running that will give you an instance of <a href=""http://openidenabled.com/python-openid/trunk/examples/server/"" rel=""nofollow"">this test provider</a>.</p>
"
726,370680,5,33,python,Differences between Python game libraries Pygame and Pyglet?,"<p>I've had some experience with Pygame, but there seems to be a lot of buzz around Pyglet these days.</p>

<p>How do these two libraries compare? What would be the advantage of using one over the other, both in features and ease of use?</p>

<p>Finally, would you say that one is more Pythonic than the other?</p>
","<p>I would like to add that there is a fast sprite library <a href=""http://arcticpaint.com/projects/rabbyt/"" rel=""nofollow"">Rabbyt</a> which may be a good complement for Pyglet.</p>
"
725,370680,21,33,python,Differences between Python game libraries Pygame and Pyglet?,"<p>I've had some experience with Pygame, but there seems to be a lot of buzz around Pyglet these days.</p>

<p>How do these two libraries compare? What would be the advantage of using one over the other, both in features and ease of use?</p>

<p>Finally, would you say that one is more Pythonic than the other?</p>
","<p>I was considering both Pygame and Pyglet for a small 2D shooter, and after looking at source code and some tutorials went with Pyglet. I was very happy with the results.</p>

<p>Pyglet worked immediately and was enjoyable to work with, and conceptually very clean. It certainly had a Pythonic feel to me: you could get a straightforward and readable example going very quickly, and it uses decorators to good effect for event handling. It also didn't force a particular program structure, which made it easy for me to mix in the physics modelling of Pymunk (<a href=""http://code.google.com/p/pymunk/"">http://code.google.com/p/pymunk/</a>). </p>

<p>While it is based on OpenGL and you can use those features for special effects, I was able to do just fine without any knowledge of them.</p>

<p>It also works well with py2exe and py2app, which is important because a lot of people do not have a Python interpreter installed.</p>

<p>On the downside, there is less information about it on the web because it is newer, as well as fewer sample games to look at. </p>

<p>Also, it changed quite a bit from previous versions, so some of the tutorials which are there are now out of date (there is the ""new style event loop""
and the Sprite class as major additions.)</p>

<p>I would recommend downloading the examples (there is a nice Asteroids clone called Astraea included) and seeing if you like the style. </p>
"
724,370680,25,33,python,Differences between Python game libraries Pygame and Pyglet?,"<p>I've had some experience with Pygame, but there seems to be a lot of buzz around Pyglet these days.</p>

<p>How do these two libraries compare? What would be the advantage of using one over the other, both in features and ease of use?</p>

<p>Finally, would you say that one is more Pythonic than the other?</p>
","<p><strong>Pygame: LGPL license</strong></p>

<p><em>Pyglet: BSD license</em></p>

<p><strong>Pygame relies on SDL libraries heavily</strong></p>

<p><em>Pyglet is a pure python library with fewer dependencies, I think it requires better understanding of OpenGL</em></p>

<p><strong>Pygame is around here for a long time, a lot of people used it</strong></p>

<p><em>Pyglet is a new lib</em></p>

<p><strong>Pygame is geared towards game development (cursors, sprites, joystick/gamepad support)</strong></p>

<p><em>Pyglet is more general purpose (though it has a Sprite class)</em></p>

<p>I found also this discussion on pyglet-users mailing list: <a href=""http://www.mail-archive.com/pyglet-users@googlegroups.com/msg00482.html"">from pygame+pyopengl to pyglet</a></p>

<p>Disclaimer: I did not use either yet, only tried some tutorials ;-)</p>
"
784,394770,-2,33,python,Override a method at instance level,"<p>Is there a way in Python to override a class method at instance level?
For example:</p>

<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

boby = Dog()
boby.bark() # WOOF
# METHOD OVERRIDE
boby.bark() # WoOoOoF!!
</code></pre>
","<p>Though I liked the inheritance idea from S. Lott and agree with the 'type(a)' thing, but since functions too have accessible attributes, I think the it can be managed this way:</p>

<pre><code>class Dog:
    def __init__(self, barkmethod=None):
        self.bark=self.barkp
        if barkmethod:
           self.bark=barkmethod
    def barkp(self):
        """"""original bark""""""
        print ""woof""

d=Dog()
print ""calling original bark""
d.bark()
print ""that was %s\n"" % d.bark.__doc__

def barknew():
    """"""a new type of bark""""""
    print ""wooOOOoof""

d1=Dog(barknew)
print ""calling the new bark""
d1.bark()
print ""that was %s\n"" % d1.bark.__doc__

def barknew1():
    """"""another type of new bark""""""
    print ""nowoof""

d1.bark=barknew1
print ""another new""
d1.bark()
print ""that was %s\n"" % d1.bark.__doc__
</code></pre>

<p>and the output is :</p>

<pre><code>calling original bark
woof
that was original bark

calling the new bark
wooOOOoof
that was a new type of bark

another new
nowoof
that was another type of new bark
</code></pre>
"
782,394770,0,33,python,Override a method at instance level,"<p>Is there a way in Python to override a class method at instance level?
For example:</p>

<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

boby = Dog()
boby.bark() # WOOF
# METHOD OVERRIDE
boby.bark() # WoOoOoF!!
</code></pre>
","<p>Since functions are first class objects in Python you can pass them while initializing your class object or override it anytime for a given class instance:</p>

<pre><code>class Dog:
    def __init__(self,  barkmethod=None):
        self.bark=self.barkp
        if barkmethod:
           self.bark=barkmethod
    def barkp(self):
        print ""woof""

d=Dog()
print ""calling original bark""
d.bark()

def barknew():
    print ""wooOOOoof""

d1=Dog(barknew)
print ""calling the new bark""
d1.bark()

def barknew1():
    print ""nowoof""

d1.bark=barknew1
print ""calling another new""
d1.bark()
</code></pre>

<p>and the results are </p>

<pre><code>calling original bark
woof
calling the new bark
wooOOOoof
calling another new
nowoof
</code></pre>
"
780,394770,80,33,python,Override a method at instance level,"<p>Is there a way in Python to override a class method at instance level?
For example:</p>

<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

boby = Dog()
boby.bark() # WOOF
# METHOD OVERRIDE
boby.bark() # WoOoOoF!!
</code></pre>
","<p>Yes, it's possible:</p>

<pre><code>class Dog:
    def bark(self):
        print ""Woof""

def new_bark(self):
    print ""Woof Woof""

foo = Dog()

funcType = type(Dog.bark)

# ""Woof""
foo.bark()

# replace bark with new_bark for this object only
foo.bark = funcType(new_bark, foo, Dog)

foo.bark()
# ""Woof Woof""
</code></pre>
"
781,394770,20,33,python,Override a method at instance level,"<p>Is there a way in Python to override a class method at instance level?
For example:</p>

<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

boby = Dog()
boby.bark() # WOOF
# METHOD OVERRIDE
boby.bark() # WoOoOoF!!
</code></pre>
","<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

boby = Dog()
boby.bark() # WOOF

# METHOD OVERRIDE
def new_bark():
    print ""WoOoOoF!!""
boby.bark = new_bark

boby.bark() # WoOoOoF!!
</code></pre>

<p>You can use the <code>boby</code> variable inside the function if you need. Since you are overriding the method just for this one instance object, this way is simpler and has exactly the same effect as using <code>self</code>.</p>
"
783,394770,23,33,python,Override a method at instance level,"<p>Is there a way in Python to override a class method at instance level?
For example:</p>

<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

boby = Dog()
boby.bark() # WOOF
# METHOD OVERRIDE
boby.bark() # WoOoOoF!!
</code></pre>
","<p>Please do not do this as shown.   You code becomes unreadable when you monkeypatch an instance to be different from the class.</p>

<p>You cannot debug monkeypatched code.</p>

<p>When you find a bug in <code>boby</code> and <code>print type(boby)</code>, you'll see that (a) it's a Dog, but (b) for some obscure reason it doesn't bark correctly.  This is a nightmare.  Do not do it.</p>

<p>Please do this instead.</p>

<pre><code>class Dog:
    def bark(self):
        print ""WOOF""

class BobyDog( Dog ):
    def bark( self ):
        print ""WoOoOoF!!""

otherDog= Dog()
otherDog.bark() # WOOF

boby = BobyDog()
boby.bark() # WoOoOoF!!
</code></pre>
"
514,257730,2,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>Perl? Yikes.</p>

<p>As someone has observed Perl is like a big explosion in a punctuation factory. It's terseness is <strong>not</strong> an advantage if the resultant code is not self documenting.</p>

<p>Have used Groovy for some utility tasks, easy to get going. Full access to Java libraries, plus some cool addtions to it, like listing the files in a directory using a closure:</p>

<pre><code>// process all files printing out full name (. and .. auto excluded)

new File(basedir).eachFile{ f-&gt;

    if (f.isFile()) println f.canonicalPath
}
</code></pre>
"
515,257730,5,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>try Groovy .. it has all features that you need there. You can use existing java lib without any modification on its classes. 
basically .. groovy is java++, it is more dynamic and fun to learn (just like ruby)</p>

<p>I dont like ruby or python syntax so I will put them behind. Groovy is just like C/C++ syntax so I like him lol :)</p>
"
513,257730,6,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>Python has all nine criteria.  It scores a 56.</p>

<p>I'm sure Ruby has everything Python has.  It seems to have fewer libraries.  So it scores a 51.</p>

<p>I don't know if Groovy has every feature.</p>

<p>Since Python is 56 and Ruby is a 51, Python just barely edges out Ruby.</p>

<p>However, I think this kind of decision can still boil down to some subjective issues outside these nine criteria.</p>
"
509,257730,0,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>I know it's not on your list, but at least look at perl.</p>

<ul>
<li>Richness of Api/Libraries to sink a ship. </li>
<li>Runs on more systems than most people realise exists. </li>
<li>Works well with Binary libraries. </li>
<li>Has a huge community.</li>
<li>Portability, See above.</li>
<li>Database manipulation: more ways to do it. ( Pick your favorite module ) </li>
<li>And one of the most expressive/terse languages around. </li>
</ul>
"
512,257730,22,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>Just to muddy the waters...</p>

<p>Groovy give you access to Java.  Java has an extremely rich set of APIs/Libraries, applications, etc.</p>

<p>Groovy is embeddable, although easiest in Java.</p>

<p>DLLs/Libraries (if you're talking about non-Groovy/Java) may be somewhat problematic, although there are ways and some APIs to help.</p>

<p>I've done some Python programming, but being more familiar with Java, Groovy comes a lot easier to me.</p>
"
511,257730,3,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>This sort of adding-up-scores-by-features is not a good way to choose a programming language. You'd be better off choosing whichever you know the best. If you don't know any of them, try them out for a little while. If you have a really specific project in mind, then maybe some programming languages would be better, but if you just have general preferences you will never come to a consensus.</p>

<p>That said, Python is pretty flexible, it's the most popular on your list so the easiest to solve whatever sorts of problems you have by searching, so I'd recommend Python.</p>
"
510,257730,30,32,python,Python vs Groovy vs Ruby? (based on criteria listed in question),"<p>Considering the criteria listed below, which of Python, Groovy or Ruby would you use?</p>

<ul>
<li><em>Criteria (Importance out of 10, 10 being most important)</em></li>
<li>Richness of API/libraries available (eg. maths, plotting, networking) (9)</li>
<li>Ability to embed in desktop (java/c++) applications (8)</li>
<li>Ease of deployment (8)</li>
<li>Ability to interface with DLLs/Shared Libraries (7)</li>
<li>Ability to generate GUIs (7)</li>
<li>Community/User support (6)</li>
<li>Portability (6)</li>
<li>Database manipulation (3)</li>
<li>Language/Semantics (2)</li>
</ul>
","<p>I think it's going to be difficult to get an objective comparison.  I personally prefer Python.  To address one of your criteria, Python was designed from the start to be an embeddable language.  It has a very rich C API, and the interpreter is modularized to make it easy to call from C.  If Java is your host environment, you should look at Jython, an implementation of Python inside the Java environment (VM and libs).</p>
"
224,117250,7,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>Make one or both of the terms a floating point number, like so:</p>

<pre><code>4.0/100.0
</code></pre>

<p>Alternatively, turn on the feature that will be default in Python 3.0, 'true division', that does what you want. At the top of your module or script, do:</p>

<pre><code>from __future__ import division
</code></pre>
"
220,117250,1,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>Try 4.0/100</p>
"
639,323750,5,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>Check out the looper utility from the <a href=""http://pythonpaste.org/tempita/#bunch-and-looper"">Tempita project</a>. It gives you a wrapper object around the loop item that provides properties such as previous, next, first, last etc.</p>

<p>Take a look at the <a href=""http://svn.pythonpaste.org/Tempita/trunk/tempita/_looper.py"">source code</a> for the looper class, it is quite simple. There are other such loop helpers out there, but I cannot remember any others right now.</p>

<p>Example:</p>

<pre><code>> easy_install Tempita
> python
>>> from tempita import looper
>>> for loop, i in looper([1, 2, 3]):
...     print loop.previous, loop.item, loop.index, loop.next, loop.first, loop.last, loop.length, loop.odd, loop.even
... 
None 1 0 2 True False 3 True 0
1 2 1 3 False False 3 False 1
2 3 2 None False True 3 True 0
</code></pre>
"
636,323750,6,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>When dealing with generators where you need some context, I often use the below utility function to give a sliding window view on an iterator:</p>

<pre><code>import collections, itertools

def window(it, winsize, step=1):
    """"""Sliding window iterator.""""""
    it=iter(it)  # Ensure we have an iterator
    l=collections.deque(itertools.islice(it, winsize))
    while 1:  # Continue till StopIteration gets raised.
        yield tuple(l)
        for i in range(step):
            l.append(it.next())
            l.popleft()
</code></pre>

<p>It'll generate a view of the sequence N items at a time, shifting step places over.  eg.</p>

<pre><code>&gt;&gt;&gt; list(window([1,2,3,4,5],3))
[(1, 2, 3), (2, 3, 4), (3, 4, 5)]
</code></pre>

<p>When using in lookahead/behind situations where you also need to deal with numbers without having a next or previous value, you may want pad the sequence with an appropriate value such as None.</p>

<pre><code>l= range(10)
# Print adjacent numbers
for cur, next in window(l + [None] ,2):
    if next is None: print ""%d is the last number."" % cur
    else: print ""%d is followed by %d"" % (cur,next)
</code></pre>
"
635,323750,52,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>Expressed as a generator function:</p>

<pre><code>def neighborhood(iterable):
    iterator = iter(iterable)
    prev = None
    item = iterator.next()  # throws StopIteration if empty.
    for next in iterator:
        yield (prev,item,next)
        prev = item
        item = next
    yield (prev,item,None)
</code></pre>

<p>Usage:</p>

<pre><code>for prev,item,next in neighborhood(l):
    print prev, item, next
</code></pre>

<p><strong>Edit:</strong> I thought it would reduce the readability, but this way seem to look better.</p>
"
225,117250,0,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>You cant get a decimal value by dividing one integer with another, you'll allways get an integer that way (result truncated to integer). You need at least one value to be a decimal number.</p>
"
637,323750,0,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>Immediately previous?  </p>

<p>You mean the following, right?</p>

<pre><code>previous = None
for item in someList:
    if item == target: break
    previous = item
# previous is the item before the target
</code></pre>

<p>If you want <em>n</em> previous items, you can do this with a kind of circular queue of size <em>n</em>.</p>

<pre><code>queue = []
for item in someList:
    if item == target: break
    queue .append( item )
    if len(queue ) &gt; n: queue .pop(0)
if len(queue ) &lt; n: previous = None
previous = previous[0]
# previous is *n* before the target
</code></pre>
"
633,323750,-6,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>The most simple way is to search the list for the item:</p>

<pre><code>def get_previous(l, item):
    idx = l.find(item)
    return None if idx == 0 else l[idx-1]
</code></pre>

<p>Of course, this only works if the list only contains unique items. The other solution is:</p>

<pre><code>for idx in range(len(l)):
    item = l[idx]
    if item == 2:
        l[idx-1]
</code></pre>
"
632,323750,0,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>Iterators only have the next() method so you cannot look forwards or backwards, you can only get the next item.</p>

<p>enumerate(iterable) can be useful if you are iterating a list or tuple.</p>
"
221,117250,1,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>A simple route 4 / 100.0 </p>

<p>or</p>

<p>4.0 / 100</p>
"
222,117250,3,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>You need to tell Python to use floating point values, not integers. You can do that simply by using a decimal point yourself in the inputs:</p>

<pre><code>&gt;&gt;&gt; 4/100.0
0.040000000000000001
</code></pre>
"
634,323750,1,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<p>I don't think there is a straightforward way, especially that an iterable can be a generator (no going back). There's a decent workaround, relying on explicitly passing the index into the loop body:</p>

<pre><code>for itemIndex, item in enumerate(l):
    if itemIndex&gt;0:
        previousItem = l[itemIndex-1]
    else:
        previousItem = None
</code></pre>

<p>The <code>enumerate()</code> function is a builtin.</p>
"
223,117250,79,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>There are three options:</p>

<pre><code>&gt;&gt;&gt; 4 / float(100)
0.04
&gt;&gt;&gt; 4 / 100.0
0.04
</code></pre>

<p>which is the same behavior as the C, C++, Java etc, or </p>

<pre><code>&gt;&gt;&gt; from __future__ import division
&gt;&gt;&gt; 4 / 100
0.04
</code></pre>

<p>You can also activate this behavior by passing the argument <code>-Qnew</code> to the Python interpreter:</p>

<pre><code>$ python -Qnew
&gt;&gt;&gt; 4 / 100
0.04
</code></pre>

<p>The second option will be the default in Python 3.0. If you want to have the old integer division, you have to use the <code>//</code> operator. </p>

<p><strong>Edit</strong>: added section about <code>-Qnew</code>, thanks to <a href=""http://stackoverflow.com/users/6899/"">Î¤ÎÎ©Î¤ÎÎÎÎ¥</a>!</p>
"
227,117250,2,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>You might want to look at Python's <a href=""http://docs.python.org/lib/module-decimal.html"" rel=""nofollow"">decimal</a> package, also.  This will provide nice decimal results.</p>

<pre><code>&gt;&gt;&gt; decimal.Decimal('4')/100
Decimal(""0.04"")
</code></pre>
"
226,117250,21,31,python,How do I get a decimal value when using the division operator in Python?,"<p>For example, the standard division symbol '/' rounds to zero:</p>

<pre><code>&gt;&gt;&gt; 4 / 100
0
</code></pre>

<p>However, I want it to return 0.04. What do I use?</p>
","<p>Other answers suggest how to get a floating-point value.  While this wlil be close to what you want, it won't be exact:</p>

<pre><code>&gt;&gt;&gt; 0.4/100.
0.0040000000000000001
</code></pre>

<p>If you actually want a <em>decimal</em> value, do this:</p>

<pre><code>&gt;&gt;&gt; import decimal
&gt;&gt;&gt; decimal.Decimal('4') / decimal.Decimal('100')
Decimal(""0.04"")
</code></pre>

<p>That will give you an object that properly knows that 4 / 100 in <em>base 10</em> is ""0.04"".  Floating-point numbers are actually in base 2, i.e. binary, not decimal.</p>
"
638,323750,7,31,python,How to access previous/next element while for looping?,"<p>Is there a way to access a list(or tuple, or other iterable)'s next, or previous element while looping through with for loop?</p>

<pre><code>l=[1,2,3]
for item in l:
    if item==2:
        get_previous(l,item)
</code></pre>
","<pre><code>l=[1,2,3]
for i,item in enumerate(l):
    if item==2:
        get_previous=l[i-1]
        print get_previous

&gt;&gt;&gt;1
</code></pre>
"
100,75440,28,30,python,How do I get the name of a python class as a string?,"<p>What method do I call to get the name of a class?</p>
","<p>It's not a method, it's a field.  The field is called <code>__name__</code>.  <code>class.__name__</code> will give the name of the class as a string.  <code>object.__class__.__name__</code> will give the name of the class of an object.</p>
"
101,75440,33,30,python,How do I get the name of a python class as a string?,"<p>What method do I call to get the name of a class?</p>
","<pre><code>In [1]: class test(object):
   ...:     pass
   ...: 

In [2]: test.__name__
Out[2]: 'test'
</code></pre>
"
103,75440,6,30,python,How do I get the name of a python class as a string?,"<p>What method do I call to get the name of a class?</p>
","<p>I agree with Mr.Shark, but if you have an instance of a class, you'll need to use its <code>__class__</code> member:</p>

<pre><code>&gt;&gt;&gt; class test():
...     pass
...
&gt;&gt;&gt; a_test = test()
&gt;&gt;&gt;
&gt;&gt;&gt; a_test.__name__
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
AttributeError: test instance has no attribute '__name__'
&gt;&gt;&gt;
&gt;&gt;&gt; a_test.__class__
&lt;class __main__.test at 0x009EEDE0&gt;
</code></pre>
"
102,75440,1,30,python,How do I get the name of a python class as a string?,"<p>What method do I call to get the name of a class?</p>
","<p>In [8]: <code>str('2'.__class__)</code><br />
Out[8]: <code>""&lt;type 'str'&gt;""</code><br /></p>

<p>In [9]: <code>str(len.__class__)</code><br />
Out[9]: <code>""&lt;type 'builtin_function_or_method'&gt;""</code><br /></p>

<p>In [10]: <code>str(4.6.__class__)</code><br />
Out[10]: <code>""&lt;type 'float'&gt;""</code><br /></p>

<p>Or, as was pointed out before,<br /></p>

<p>In [11]: <code>4.6.__class__.__name__</code><br />
Out[11]: <code>'float'</code></p>
"
502,254350,1,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<p>For larger files you could compute a <a href=""http://docs.python.org/library/md5.html"" rel=""nofollow"">MD5</a> or <a href=""http://docs.python.org/library/sha.html"" rel=""nofollow"">SHA</a> hash of the files.</p>
"
503,254350,1,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<p>I would use a hash of the file's contents using MD5.</p>

<pre><code>import hashlib

def checksum(f):
    md5 = hashlib.md5()
    md5.update(open(f).read())
    return md5.hexdigest()

def is_contents_same(f1, f2):
    return checksum(f1) == checksum(f2)

if not is_contents_same('foo.txt', 'bar.txt'):
    print 'The contents are not the same!'
</code></pre>
"
849,423710,11,29,python,How to return more than one value from a function in Python?,"<p>How to return more than one variable from a function in Python?</p>
","<p>Here is also the code to handle the result:</p>

<pre><code>def foo (a):
    x=a
    y=a*2
    return (x,y)

(x,y) = foo(50)
</code></pre>
"
501,254350,20,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<p>If you're going for even basic efficiency, you probably want to check the file size first:</p>

<pre><code>if os.path.getsize(filename1) == os.path.getsize(filename2):
  if open('filename1','r').read() == open('filename2','r').read():
    # Files are the same.
</code></pre>

<p>This saves you reading every line of two files that aren't even the same size, and thus can't be the same.</p>

<p>(Even further than that, you could call out to a fast MD5sum of each file and compare those, but that's not ""in Python"", so I'll stop here.)</p>
"
505,254350,5,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<p>This is a functional-style file comparison function. It returns instantly False if the files have different sizes; otherwise, it reads in 4KiB block sizes and returns False instantly upon the first difference:</p>

<pre><code>from __future__ import with_statement
import os
import itertools, functools, operator

def filecmp(filename1, filename2):
    ""Do the two files have exactly the same contents?""
    with open(filename1, ""rb"") as fp1, open(filename2, ""rb"") as fp2:
        if os.fstat(fp1.fileno()).st_size != os.fstat(fp2.fileno()).st_size:
            return False # different sizes â´ not equal
        fp1_reader= functools.partial(fp1.read, 4096)
        fp2_reader= functools.partial(fp2.read, 4096)
        cmp_pairs= itertools.izip(iter(fp1_reader, ''), iter(fp2_reader, ''))
        inequalities= itertools.starmap(operator.ne, cmp_pairs)
        return not any(inequalities)

if __name__ == ""__main__"":
    import sys
    print filecmp(sys.argv[1], sys.argv[2])
</code></pre>

<p>Just a different take :)</p>
"
504,254350,5,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<p>Since I can't comment on the answers of others I'll write my own.</p>

<p>If you use md5 you definitely must not just md5.update(f.read()) since you'll use too much memory.</p>

<pre><code>def get_file_md5(f, chunk_size=8192):
    h = hashlib.md5()
    while True:
        chunk = f.read(chunk_size)
        if not chunk:
            break
        h.update(chunk)
    return h.hexdigest()
</code></pre>
"
499,254350,40,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<p>The low level way:</p>

<pre><code>from __future__ import with_statement
with open(filename1) as f1:
   with open(filename2) as f2:
      if f1.read() == f2.read():
         ...
</code></pre>

<p>The high level way:</p>

<pre><code>import filecmp
if filecmp.cmp(filename1, filename2, shallow=False):
   ...
</code></pre>
"
847,423710,3,29,python,How to return more than one value from a function in Python?,"<p>How to return more than one variable from a function in Python?</p>
","<p>Return as a tuple, e.g.</p>

<pre><code>def foo (a):
    x=a
    y=a*2
    return (x,y)
</code></pre>
"
848,423710,101,29,python,How to return more than one value from a function in Python?,"<p>How to return more than one variable from a function in Python?</p>
","<p>You separate the values you want to return by commas:</p>

<pre><code>def get_name():
   # you code
   return first_name, last_name
</code></pre>

<p>The commas indicate it's a tuple, so you could wrap your values by parentheses:</p>

<pre><code>return (first_name, last_name)
</code></pre>

<p>Then when you call the function you a) save all values to one variable as a tuple, or b) separate your variable names by commas</p>

<pre><code>name = get_name() # this is a tuple
first_name, last_name = get_name()
(first_name, last_name) = get_name() # You can put parentheses, but I find it ugly
</code></pre>
"
500,254350,1,29,python,"In Python, is there a concise way of comparing whether the contents of two text files are the same?","<p>I don't care what the differences are.  I just want to know whether the contents are different.</p>
","<pre>
<code>
f = open(filename1, ""r"").read()
f2 = open(filename2,""r"").read()
print f == f2

</code>
</pre>
"
931,462500,51,29,python,Can I get the matrix determinant using Numpy?,"<p>I read in the manual of Numpy that there is function <code>det(M)</code> that can calculate the determinant. However, I can't find the <code>det()</code> method in Numpy.</p>

<p>By the way, I use Python 2.5. There should be no compatibility problems with Numpy.</p>
","<p>You can use <a href=""http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.det.html""><code>numpy.linalg.det</code></a> to compute the determinant of an array:</p>

<pre><code>In [1]: import numpy

In [2]: M = [[1, 2], [3, 4]]

In [3]: print numpy.linalg.det(M)
Out[3]: -2.0000000000000004
</code></pre>
"
1022,505230,7,28,python,Py2exe for Python 3.0,"<p>I am looking for a Python3.0 version of ""py2exe"". I tried running 2to3 on the source for py2exe but the code remained broken.</p>

<p>Any ideas?</p>
","<p>The <code>py2exe</code> and <code>2to3</code> programs serve completely different purposes, so I'm not sure what your ultimate goal is.</p>

<p>If you want to build an executable from a working Python program, use the version of <code>py2exe</code> that is suitable for whichever Python you are using (version 2 or version 3).</p>

<p>If you want to convert an existing Python 2 program to Python 3, use <code>2to3</code> plus any additional editing as necessary. The Python 3 documentation describes <a href=""http://docs.python.org/3.0/whatsnew/3.0.html#porting-to-python-3-0"" rel=""nofollow"">the conversion process in more detail</a>.</p>

<p><strong>Update</strong>: I now understand that you might have been trying to run <code>2to3</code> against <code>py2exe</code> itself to try to make a Python 3 compatible version. Unfortunately, this is definitely beyond the capabilities of <code>2to3</code>. You will probably have to wait for the <a href=""http://www.py2exe.org/"" rel=""nofollow"">py2exe project</a> to release a Python 3 compatible version.</p>
"
874,440320,22,28,python,unicode() vs. str.decode() for a utf8 encoded byte string (python 2.x),"<p>Is there any reason to prefer <code>unicode(somestring, 'utf8')</code> as opposed to <code>somestring.decode('utf8')</code>?</p>

<p>My only thought is that <code>.decode()</code> is a bound method so python may be able to resolve it more efficiently, but correct me if I'm wrong.</p>
","<p>I'd prefer <code>'something'.decode(...)</code> since the <code>unicode</code> type is no longer there in Python 3.0, while <code>text = b'binarydata'.decode(encoding)</code> is still valid. </p>
"
873,440320,23,28,python,unicode() vs. str.decode() for a utf8 encoded byte string (python 2.x),"<p>Is there any reason to prefer <code>unicode(somestring, 'utf8')</code> as opposed to <code>somestring.decode('utf8')</code>?</p>

<p>My only thought is that <code>.decode()</code> is a bound method so python may be able to resolve it more efficiently, but correct me if I'm wrong.</p>
","<p>It's easy to benchmark it:</p>

<pre><code>&gt;&gt;&gt; from timeit import Timer
&gt;&gt;&gt; ts = Timer(""s.decode('utf-8')"", ""s = 'Ã©Ã©Ã©'"")
&gt;&gt;&gt; ts.timeit()
8.9185450077056885
&gt;&gt;&gt; tu = Timer(""unicode(s, 'utf-8')"", ""s = 'Ã©Ã©Ã©'"") 
&gt;&gt;&gt; tu.timeit()
2.7656929492950439
&gt;&gt;&gt; 
</code></pre>

<p>Obviously, <code>unicode()</code> is faster.</p>

<p>FWIW, I don't know where you get the impression that methods would be faster - it's quite the contrary.</p>
"
625,316410,12,27,python,Is there a good NumPy clone for Jython?,"<p>I'm a relatively new convert to Python.  I've written some code to grab/graph data from various sources to automate some weekly reports and forecasts.  I've been intrigued by the Jython concept, and would like to port some Python code that I've written to Jython.  In order to do this quickly, I need a NumPy clone for Jython (or Java).  Is there anything like this out there?</p>
","<p>I can't find anything that's a clone of numpy, but there's a long list of Java numerics packages <a href=""http://math.nist.gov/javanumerics/"">here</a> - these should all be usable from Jython. Which one meets your requirements depends on what you're doing with numpy, I guess.</p>
"
341,174890,6,26,python,How to output CDATA using ElementTree,"<p>I've discovered that cElementTree is about 30 times faster than <code>xml.dom.minidom</code> and I'm rewriting my XML encoding/decoding code. However, I need to output XML that contains CDATA sections and there doesn't seem to be a way to do that with ElementTree.</p>

<p>Can it be done?</p>
","<p>It's not possible AFAIK... which is a pity.  Basically, ElementTree modules assume that the reader is 100% XML compliant, so it shouldn't matter if they output a section as CDATA or some other format that generates the equivalent text.</p>

<p>See <a href=""https://mail.python.org/pipermail/python-list/2005-June/304602.html"" rel=""nofollow"">this thread</a> on the Python mailing list for more info.  Basically, they recommend some kind of DOM-based XML library instead.</p>
"
660,346230,5,26,python,Read file object as string in python,"<p>I'm using <code>urllib2</code> to read in a page. I need to do a quick regex on the source and pull out a few variables but <code>urllib2</code> presents as a file object rather than a string.</p>

<p>I'm new to python so I'm struggling to see how I use a file object to do this. Is there a quick way to convert this into a string?</p>
","<p>Michael Foord, aka Voidspace has an excellent tutorial on urllib2 which you can find here: 
<a href=""http://www.voidspace.org.uk/python/articles/urllib2.shtml"">urllib2 - The Missing Manual</a></p>

<p>What you are doing should be pretty straightforward, observe this sample code:</p>

<pre><code>import urllib2
import re
response = urllib2.urlopen(""http://www.voidspace.org.uk/python/articles/urllib2.shtml"")
html = response.read()
pattern = '(V.+space)'
wordPattern = re.compile(pattern, re.IGNORECASE)
results = wordPattern.search(html)
print results.groups()
</code></pre>
"
343,174890,10,26,python,How to output CDATA using ElementTree,"<p>I've discovered that cElementTree is about 30 times faster than <code>xml.dom.minidom</code> and I'm rewriting my XML encoding/decoding code. However, I need to output XML that contains CDATA sections and there doesn't seem to be a way to do that with ElementTree.</p>

<p>Can it be done?</p>
","<p><a href=""http://lxml.de/"">lxml</a> has support for <a href=""http://lxml.de/api.html#cdata"">CDATA</a> and API like ElementTree.</p>
"
342,174890,21,26,python,How to output CDATA using ElementTree,"<p>I've discovered that cElementTree is about 30 times faster than <code>xml.dom.minidom</code> and I'm rewriting my XML encoding/decoding code. However, I need to output XML that contains CDATA sections and there doesn't seem to be a way to do that with ElementTree.</p>

<p>Can it be done?</p>
","<p>After a bit of work, I found the answer myself. Looking at the ElementTree.py source code, I found there was special handling of XML comments and preprocessing instructions. What they do is create a factory function for the special element type that uses a special (non-string) tag value to differentiate it from regular elements.</p>

<pre><code>def Comment(text=None):
    element = Element(Comment)
    element.text = text
    return element
</code></pre>

<p>Then in the <code>_write</code> function of ElementTree that actually outputs the XML, there's a special case handling for comments:</p>

<pre><code>if tag is Comment:
    file.write(""&lt;!-- %s --&gt;"" % _escape_cdata(node.text, encoding))
</code></pre>

<p>In order to support CDATA sections, I create a factory function called <code>CDATA</code>, extended the ElementTree class and changed the <code>_write</code> function to handle the CDATA elements.</p>

<p>This still doesn't help if you want to parse an XML with CDATA sections and then output it again with the CDATA sections, but it at least allows you to create XMLs with CDATA sections programmatically, which is what I needed to do.</p>

<p>The implementation seems to work with both ElementTree and cElementTree.</p>

<pre><code>import elementtree.ElementTree as etree
#~ import cElementTree as etree

def CDATA(text=None):
    element = etree.Element(CDATA)
    element.text = text
    return element

class ElementTreeCDATA(etree.ElementTree):
    def _write(self, file, node, encoding, namespaces):
        if node.tag is CDATA:
            text = node.text.encode(encoding)
            file.write(""\n&lt;![CDATA[%s]]&gt;\n"" % text)
        else:
            etree.ElementTree._write(self, file, node, encoding, namespaces)

if __name__ == ""__main__"":
    import sys

    text = """"""
    &lt;?xml version='1.0' encoding='utf-8'?&gt;
    &lt;text&gt;
    This is just some sample text.
    &lt;/text&gt;
    """"""

    e = etree.Element(""data"")
    cdata = CDATA(text)
    e.append(cdata)
    et = ElementTreeCDATA(e)
    et.write(sys.stdout, ""utf-8"")
</code></pre>
"
344,174890,5,26,python,How to output CDATA using ElementTree,"<p>I've discovered that cElementTree is about 30 times faster than <code>xml.dom.minidom</code> and I'm rewriting my XML encoding/decoding code. However, I need to output XML that contains CDATA sections and there doesn't seem to be a way to do that with ElementTree.</p>

<p>Can it be done?</p>
","<p>Actually this code has a bug, since you don't catch <code>]]&gt;</code> appearing in the data you are inserting as CDATA</p>

<p>as per <a href=""http://stackoverflow.com/questions/223652/is-there-a-way-to-escape-a-cdata-end-token-in-xml"">Is there a way to escape a CDATA end token in xml?</a></p>

<p>you should break it into two CDATA's in that case, splitting the <code>]]&gt;</code> between the two.</p>

<p>basically <code>data = data.replace(""]]&gt;"", ""]]]]&gt;&lt;![CDATA[&gt;"")</code><br>
(not necessarily correct, please verify)</p>
"
345,174890,1,26,python,How to output CDATA using ElementTree,"<p>I've discovered that cElementTree is about 30 times faster than <code>xml.dom.minidom</code> and I'm rewriting my XML encoding/decoding code. However, I need to output XML that contains CDATA sections and there doesn't seem to be a way to do that with ElementTree.</p>

<p>Can it be done?</p>
","<p>The DOM has (atleast in level 2) an interface
DATASection, and an operation Document::createCDATASection.  They are
extension interfaces, supported only if an implementation supports the
""xml"" feature.</p>

<p>from xml.dom import minidom</p>

<p>my_xmldoc=minidom.parse(xmlfile)</p>

<p>my_xmldoc.createCDATASection(data)</p>

<p>now u have cadata node add it wherever u want....</p>
"
659,346230,12,26,python,Read file object as string in python,"<p>I'm using <code>urllib2</code> to read in a page. I need to do a quick regex on the source and pull out a few variables but <code>urllib2</code> presents as a file object rather than a string.</p>

<p>I'm new to python so I'm struggling to see how I use a file object to do this. Is there a quick way to convert this into a string?</p>
","<p>From the doc <a href=""http://docs.python.org/library/stdtypes.html#file.read"">file.read()</a> (my emphasis):</p>

<blockquote>
  <p>file.read([size])</p>
  
  <p>Read at most size bytes from the file (less if the read hits EOF before obtaining size  bytes). If the size argument is negative or omitted, read all data until EOF is reached. <strong>The bytes are returned as a string object</strong>. An empty string is returned when EOF is encountered immediately. (For certain files, like ttys, it makes sense to continue reading after an EOF is hit.) Note that this method may call the underlying C function fread more than once in an effort to acquire as close to size bytes as possible. Also note that when in non-blocking mode, less data than was requested may be returned, even if no size parameter was given.</p>
</blockquote>

<p>Be aware that a regexp search on a large string object may not be efficient, and consider doing the search line-by-line, using <a href=""http://docs.python.org/library/stdtypes.html#file.next"">file.next()</a> (a file object is its own iterator).</p>
"
658,346230,73,26,python,Read file object as string in python,"<p>I'm using <code>urllib2</code> to read in a page. I need to do a quick regex on the source and pull out a few variables but <code>urllib2</code> presents as a file object rather than a string.</p>

<p>I'm new to python so I'm struggling to see how I use a file object to do this. Is there a quick way to convert this into a string?</p>
","<p>You can use Python in interactive mode to search for solutions.</p>

<p>if <code>f</code> is your object, you can enter <code>dir(f)</code> to see all methods and attributes. There's one called <code>read</code>. Enter <code>help(f.read)</code> and it tells you that <code>f.read()</code> is the way to retrieve a string from an file object.</p>
"
1052,522730,19,25,python,How can I strip Python logging calls without commenting them out?,"<p>Today I was thinking about a Python project I wrote about a year back where I used <code>logging</code> pretty extensively. I remember having to comment out a lot of logging calls in inner-loop-like scenarios (the 90% code) because of the overhead (<code>hotshot</code> indicated it was one of my biggest bottlenecks).</p>

<p>I wonder now if there's some canonical way to programmatically strip out logging calls in Python applications without commenting and uncommenting all the time. I'd think you could use inspection/recompilation or bytecode manipulation to do something like this and <strong>target only the code objects that are causing bottlenecks</strong>. This way, you could add a manipulator as a post-compilation step and use a centralized configuration file, like so:</p>

<pre><code>[Leave ERROR and above]
my_module.SomeClass.method_with_lots_of_warn_calls

[Leave WARN and above]
my_module.SomeOtherClass.method_with_lots_of_info_calls

[Leave INFO and above]
my_module.SomeWeirdClass.method_with_lots_of_debug_calls
</code></pre>

<p>Of course, <strong>you'd want to use it sparingly and probably with per-function granularity</strong> -- only for code objects that have shown <code>logging</code> to be a bottleneck. Anybody know of anything like this?</p>

<p><strong>Note:</strong> There are a few things that make this more difficult to do in a performant manner because of dynamic typing and late binding. For example, any calls to a method named <code>debug</code> may have to be wrapped with an <code>if not isinstance(log, Logger)</code>. In any case, I'm assuming all of the minor details can be overcome, either by a gentleman's agreement or some run-time checking. :-)</p>
","<p>What about using <a href=""http://docs.python.org/library/logging.html?highlight=logging#logging.disable"">logging.disable</a>?</p>

<p>I've also found I had to use <a href=""http://docs.python.org/library/logging.html?highlight=logging#logging.Logger.isEnabledFor"">logging.isEnabledFor</a> if the logging message is expensive to create.</p>
"
1051,522730,1,25,python,How can I strip Python logging calls without commenting them out?,"<p>Today I was thinking about a Python project I wrote about a year back where I used <code>logging</code> pretty extensively. I remember having to comment out a lot of logging calls in inner-loop-like scenarios (the 90% code) because of the overhead (<code>hotshot</code> indicated it was one of my biggest bottlenecks).</p>

<p>I wonder now if there's some canonical way to programmatically strip out logging calls in Python applications without commenting and uncommenting all the time. I'd think you could use inspection/recompilation or bytecode manipulation to do something like this and <strong>target only the code objects that are causing bottlenecks</strong>. This way, you could add a manipulator as a post-compilation step and use a centralized configuration file, like so:</p>

<pre><code>[Leave ERROR and above]
my_module.SomeClass.method_with_lots_of_warn_calls

[Leave WARN and above]
my_module.SomeOtherClass.method_with_lots_of_info_calls

[Leave INFO and above]
my_module.SomeWeirdClass.method_with_lots_of_debug_calls
</code></pre>

<p>Of course, <strong>you'd want to use it sparingly and probably with per-function granularity</strong> -- only for code objects that have shown <code>logging</code> to be a bottleneck. Anybody know of anything like this?</p>

<p><strong>Note:</strong> There are a few things that make this more difficult to do in a performant manner because of dynamic typing and late binding. For example, any calls to a method named <code>debug</code> may have to be wrapped with an <code>if not isinstance(log, Logger)</code>. In any case, I'm assuming all of the minor details can be overcome, either by a gentleman's agreement or some run-time checking. :-)</p>
","<p>I'd use some fancy logging decorator, or a bunch of them:</p>

<pre><code>def doLogging(logTreshold):
    def logFunction(aFunc):
        def innerFunc(*args, **kwargs):
            if LOGLEVEL &gt;= logTreshold:
                print ""&gt;&gt;Called %s at %s""%(aFunc.__name__, time.strftime(""%H:%M:%S""))
                print ""&gt;&gt;Parameters: "", args, kwargs if kwargs else """" 
            try:
                return aFunc(*args, **kwargs)
            finally:
                print ""&gt;&gt;%s took %s""%(aFunc.__name__, time.strftime(""%H:%M:%S""))
        return innerFunc
    return logFunction
</code></pre>

<p>All you need is to declare LOGLEVEL constant in each module (or just globally and just import it in all modules) and then you can use it like this:</p>

<pre><code>@doLogging(2.5)
def myPreciousFunction(one, two, three=4):
    print ""I'm doing some fancy computations :-)""
    return
</code></pre>

<p>And if LOGLEVEL is no less than 2.5 you'll get output like this:  </p>

<pre><code>&gt;&gt;Called myPreciousFunction at 18:49:13
&gt;&gt;Parameters:  (1, 2) 
I'm doing some fancy computations :-)
&gt;&gt;myPreciousFunction took 18:49:13
</code></pre>

<p>As you can see, some work is needed for better handling of kwargs, so the default values will be printed if they are present, but that's another question.</p>

<p>You should probably use some <strong><code>logger</code></strong> module instead of raw <strong><code>print</code></strong> statements, but I wanted to focus on the decorator idea and avoid making code too long.</p>

<p>Anyway - with such decorator you get function-level logging, arbitrarily many log levels, ease of application to new function, and to disable logging you only need to set LOGLEVEL. And you can define different output streams/files for each function if you wish. You can write doLogging as:</p>

<pre><code> def doLogging(logThreshold, outStream=sys.stdout):
      .....
      print &gt;&gt;outStream, ""&gt;&gt;Called %s at %s"" etc.
</code></pre>

<p>And utilize log files defined on a per-function basis.</p>
"
1050,522730,1,25,python,How can I strip Python logging calls without commenting them out?,"<p>Today I was thinking about a Python project I wrote about a year back where I used <code>logging</code> pretty extensively. I remember having to comment out a lot of logging calls in inner-loop-like scenarios (the 90% code) because of the overhead (<code>hotshot</code> indicated it was one of my biggest bottlenecks).</p>

<p>I wonder now if there's some canonical way to programmatically strip out logging calls in Python applications without commenting and uncommenting all the time. I'd think you could use inspection/recompilation or bytecode manipulation to do something like this and <strong>target only the code objects that are causing bottlenecks</strong>. This way, you could add a manipulator as a post-compilation step and use a centralized configuration file, like so:</p>

<pre><code>[Leave ERROR and above]
my_module.SomeClass.method_with_lots_of_warn_calls

[Leave WARN and above]
my_module.SomeOtherClass.method_with_lots_of_info_calls

[Leave INFO and above]
my_module.SomeWeirdClass.method_with_lots_of_debug_calls
</code></pre>

<p>Of course, <strong>you'd want to use it sparingly and probably with per-function granularity</strong> -- only for code objects that have shown <code>logging</code> to be a bottleneck. Anybody know of anything like this?</p>

<p><strong>Note:</strong> There are a few things that make this more difficult to do in a performant manner because of dynamic typing and late binding. For example, any calls to a method named <code>debug</code> may have to be wrapped with an <code>if not isinstance(log, Logger)</code>. In any case, I'm assuming all of the minor details can be overcome, either by a gentleman's agreement or some run-time checking. :-)</p>
","<p>You could try something like this:</p>

<pre><code># Create something that accepts anything
class Fake(object):
    def __getattr__(self, key):
        return self
    def __call__(self, *args, **kwargs):
        return True

# Replace the logging module
import sys
sys.modules[""logging""] = Fake()
</code></pre>

<p>It essentially replaces (or initially fills in) the space for the logging module with an instance of <code>Fake</code> which simply takes in anything. You must run the above code (just once!) before the logging module is attempted to be used anywhere. <em>Here is a test:</em></p>

<pre><code>import logging

logging.basicConfig(level=logging.DEBUG,
                    format='%(asctime)s %(levelname)-8s %(message)s',
                    datefmt='%a, %d %b %Y %H:%M:%S',
                    filename='/temp/myapp.log',
                    filemode='w')
logging.debug('A debug message')
logging.info('Some information')
logging.warning('A shot across the bows')
</code></pre>

<p>With the above, nothing at all was logged, as was to be expected.</p>
"
1049,522730,2,25,python,How can I strip Python logging calls without commenting them out?,"<p>Today I was thinking about a Python project I wrote about a year back where I used <code>logging</code> pretty extensively. I remember having to comment out a lot of logging calls in inner-loop-like scenarios (the 90% code) because of the overhead (<code>hotshot</code> indicated it was one of my biggest bottlenecks).</p>

<p>I wonder now if there's some canonical way to programmatically strip out logging calls in Python applications without commenting and uncommenting all the time. I'd think you could use inspection/recompilation or bytecode manipulation to do something like this and <strong>target only the code objects that are causing bottlenecks</strong>. This way, you could add a manipulator as a post-compilation step and use a centralized configuration file, like so:</p>

<pre><code>[Leave ERROR and above]
my_module.SomeClass.method_with_lots_of_warn_calls

[Leave WARN and above]
my_module.SomeOtherClass.method_with_lots_of_info_calls

[Leave INFO and above]
my_module.SomeWeirdClass.method_with_lots_of_debug_calls
</code></pre>

<p>Of course, <strong>you'd want to use it sparingly and probably with per-function granularity</strong> -- only for code objects that have shown <code>logging</code> to be a bottleneck. Anybody know of anything like this?</p>

<p><strong>Note:</strong> There are a few things that make this more difficult to do in a performant manner because of dynamic typing and late binding. For example, any calls to a method named <code>debug</code> may have to be wrapped with an <code>if not isinstance(log, Logger)</code>. In any case, I'm assuming all of the minor details can be overcome, either by a gentleman's agreement or some run-time checking. :-)</p>
","<p>As an imperfect shortcut, how about mocking out <code>logging</code> in specific modules using something like <a href=""http://pypi.python.org/pypi/MiniMock/"" rel=""nofollow"">MiniMock</a>?</p>

<p>For example, if <code>my_module.py</code> was:</p>

<pre><code>import logging
class C(object):
    def __init__(self, *args, **kw):
        logging.info(""Instantiating"")
</code></pre>

<p>You would replace your use of <code>my_module</code> with:</p>

<pre><code>from minimock import Mock
import my_module
my_module.logging = Mock('logging')
c = my_module.C()
</code></pre>

<p>You'd only have to do this once, before the initial import of the module.</p>

<p>Getting the level specific behaviour would be simple enough by mocking specific methods, or having <code>logging.getLogger</code> return a mock object with some methods impotent and others  delegating to the real <code>logging</code> module.</p>

<p>In practice, you'd probably want to replace MiniMock with something simpler and faster; at the very least something which doesn't print usage to stdout! Of course, this doesn't handle the problem of module A importing <code>logging</code> from module B (and hence A also importing the log granularity of B)...</p>

<p>This will never be as fast as not running the log statements at all, but should be much faster than going all the way into the depths of the logging module only to discover this record shouldn't be logged after all.</p>
"
5,17250,0,24,python,Create an encrypted ZIP file in Python,"<p>I'm creating an ZIP file with ZipFile in Python 2.5, it works ok so far:</p>

<pre><code>import zipfile, os

locfile = ""test.txt""
loczip = os.path.splitext (locfile)[0] + "".zip""
zip = zipfile.ZipFile (loczip, ""w"")
zip.write (locfile)
zip.close()
</code></pre>

<p>but I couldn't find how to encrypt the files in the ZIP file.
I could use system and call PKZIP -s, but I suppose there must be a more ""Pythonic"" way.  I'm looking for an open source solution.</p>
","<p>You can use the <a href=""http://www.chilkatsoft.com/python.asp"" rel=""nofollow"">Chilkat</a> library.  It's commercial, but has a free evaluation and seems pretty nice.</p>

<p>Here's an example I got from <a href=""http://www.example-code.com/python/zip.asp"" rel=""nofollow"">here</a>:</p>

<pre><code>import chilkat

# Demonstrates how to create a WinZip-compatible 128-bit AES strong encrypted zip
zip = chilkat.CkZip()
zip.UnlockComponent(""anything for 30-day trial"")

zip.NewZip(""strongEncrypted.zip"")

# Set the Encryption property = 4, which indicates WinZip compatible AES encryption.
zip.put_Encryption(4)
# The key length can be 128, 192, or 256.
zip.put_EncryptKeyLength(128)
zip.SetPassword(""secret"")

zip.AppendFiles(""exampleData/*"",True)
zip.WriteZip()
</code></pre>
"
375,196930,8,24,python,How to check if OS is Vista in Python?,"<p>How, in the simplest possible way, distinguish between Windows XP and Windows Vista, using Python and <a href=""http://python.net/crew/mhammond/win32/Downloads.html"">pywin32</a> or <a href=""http://www.wxpython.org/"">wxPython</a>?</p>

<p>Essentially, I need a function that called will return True iff current OS is Vista:</p>

<pre><code>&gt;&gt;&gt; isWindowsVista()
True
</code></pre>
","<p>The solution used in Twisted, which doesn't need pywin32:</p>

<pre><code>def isVista():
    if getattr(sys, ""getwindowsversion"", None) is not None:
        return sys.getwindowsversion()[0] == 6
    else:
        return False
</code></pre>

<p>Note that it will also match Windows Server 2008.</p>
"
374,196930,8,24,python,How to check if OS is Vista in Python?,"<p>How, in the simplest possible way, distinguish between Windows XP and Windows Vista, using Python and <a href=""http://python.net/crew/mhammond/win32/Downloads.html"">pywin32</a> or <a href=""http://www.wxpython.org/"">wxPython</a>?</p>

<p>Essentially, I need a function that called will return True iff current OS is Vista:</p>

<pre><code>&gt;&gt;&gt; isWindowsVista()
True
</code></pre>
","<p>The simplest solution I found is this one:</p>

<pre><code>import sys

def isWindowsVista():
    '''Return True iff current OS is Windows Vista.'''
    if sys.platform != ""win32"":
        return False
    import win32api
    VER_NT_WORKSTATION = 1
    version = win32api.GetVersionEx(1)
    if not version or len(version) &lt; 9:
        return False
    return ((version[0] == 6) and 
            (version[1] == 0) and
            (version[8] == VER_NT_WORKSTATION))
</code></pre>
"
376,196930,39,24,python,How to check if OS is Vista in Python?,"<p>How, in the simplest possible way, distinguish between Windows XP and Windows Vista, using Python and <a href=""http://python.net/crew/mhammond/win32/Downloads.html"">pywin32</a> or <a href=""http://www.wxpython.org/"">wxPython</a>?</p>

<p>Essentially, I need a function that called will return True iff current OS is Vista:</p>

<pre><code>&gt;&gt;&gt; isWindowsVista()
True
</code></pre>
","<p>Python has the lovely 'platform' module to help you out.</p>

<pre><code>&gt;&gt;&gt; import platform
&gt;&gt;&gt; platform.win32_ver()
('XP', '5.1.2600', 'SP2', 'Multiprocessor Free')
&gt;&gt;&gt; platform.system()
'Windows'
&gt;&gt;&gt; platform.version()
'5.1.2600'
&gt;&gt;&gt; platform.release()
'XP'
</code></pre>

<p>NOTE: As mentioned in the comments proper values may not be returned when using older versions of python.</p>
"
820,409370,1,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>It looks a lot like you're trying to use a list as a database.</p>

<p>Nowadays Python includes sqlite bindings in the core distribution. If you don't need persistence, it's really easy to create an in-memory sqlite database (see <a href=""http://stackoverflow.com/questions/304393/how-do-i-create-a-sqllite3-in-memory-database"">http://stackoverflow.com/questions/304393/how-do-i-create-a-sqllite3-in-memory-database</a>). </p>

<p>Then you can use SQL statements to do all this sorting and filtering without having to reinvent the wheel.</p>
"
819,409370,1,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>If you'll be doing a lot of sorting and filtering, you may like some helper functions.</p>

<pre><code>m = [
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]

# Sort and filter helpers.
sort_on   = lambda pos:     lambda x: x[pos]
filter_on = lambda pos,val: lambda l: l[pos] == val

# Sort by second column
m = sorted(m, key=sort_on(1))

# Filter on 4th column, where value = '2somename'
m = filter(filter_on(3,'2somename'),m)
</code></pre>
"
817,409370,1,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<blockquote>
  <p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together)</p>
</blockquote>

<p>Lists have a built in sort method and you can provide a function that extracts the sort key.</p>

<pre><code>&gt;&gt;&gt; import pprint
&gt;&gt;&gt; l.sort(key = lambda ll: ll[1])
&gt;&gt;&gt; pprint.pprint(l)
[['4', '21', '1', '14', '2008-10-24 15:42:58'],
 ['5', '21', '3', '19', '2008-10-24 15:45:45'],
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'],
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'],
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']]
</code></pre>

<blockquote>
  <p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename'</p>
</blockquote>

<p>This looks like a job for <a href=""http://docs.python.org/tutorial/datastructures.html#list-comprehensions"" rel=""nofollow"">list comprehensions</a></p>

<pre><code>&gt;&gt;&gt; [ll[3] for ll in l]
['14', '2somename', '19', '1somename', '2somename']
</code></pre>
"
816,409370,5,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>If you assigned it to var ""a""...</p>

<p>#1:  </p>

<pre><code>a.sort(lambda x,y: cmp(x[1], y[1]))
</code></pre>

<p>#2:  </p>

<pre><code>filter(lambda x: x[3]==""2somename"", a)
</code></pre>
"
815,409370,3,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>If I understand your question correctly, the following code should do the job:</p>

<pre><code>l = [
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]

def compareField(field):
   def c(l1,l2):
      return cmp(l1[field], l2[field])
   return c

# Use compareField(1) as the ordering criterion, i.e. sort only with
# respect to the 2nd field
l.sort(compareField(1))
for row in l: print row

print
# Select only those sublists for which 4th field=='2somename'
l2somename = [row for row in l if row[3]=='2somename']
for row in l2somename: print row
</code></pre>

<p>Output:</p>

<pre><code>['4', '21', '1', '14', '2008-10-24 15:42:58']
['5', '21', '3', '19', '2008-10-24 15:45:45']
['6', '21', '1', '1somename', '2008-10-24 15:45:49']
['3', '22', '4', '2somename', '2008-10-24 15:22:03']
['7', '22', '3', '2somename', '2008-10-24 15:45:51']

['3', '22', '4', '2somename', '2008-10-24 15:22:03']
['7', '22', '3', '2somename', '2008-10-24 15:45:51']
</code></pre>
"
821,409370,2,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>For part (2), with x being your array, I think you want,</p>

<pre><code>[y for y in x if y[3] == '2somename']
</code></pre>

<p>Which will return a list of just your data lists that have a fourth value being '2somename'...  Although it seems Kamil is giving you the best advice with going for SQL...</p>
"
822,409370,1,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>You're simply creating indexes on your structure, right?</p>

<pre><code>&gt;&gt;&gt; from collections import defaultdict
&gt;&gt;&gt; def indexOn( things, pos ):
...     inx= defaultdict(list)
...     for t in things:
...             inx[t[pos]].append(t)
...     return inx
... 
&gt;&gt;&gt; a=[
...  ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
...  ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
...  ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
...  ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
...  ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
... ]
</code></pre>

<p>Here's your first request, grouped by position 1.</p>

<pre><code>&gt;&gt;&gt; import pprint
&gt;&gt;&gt; pprint.pprint( dict(indexOn(a,1)) )
{'21': [['4', '21', '1', '14', '2008-10-24 15:42:58'],
        ['5', '21', '3', '19', '2008-10-24 15:45:45'],
        ['6', '21', '1', '1somename', '2008-10-24 15:45:49']],
 '22': [['3', '22', '4', '2somename', '2008-10-24 15:22:03'],
        ['7', '22', '3', '2somename', '2008-10-24 15:45:51']]}
</code></pre>

<p>Here's your second request, grouped by position 3.</p>

<pre><code>&gt;&gt;&gt; dict(indexOn(a,3))
{'19': [['5', '21', '3', '19', '2008-10-24 15:45:45']], '14': [['4', '21', '1', '14', '2008-10-24 15:42:58']], '2somename': [['3', '22', '4', '2somename', '2008-10-24 15:22:03'], ['7', '22', '3', '2somename', '2008-10-24 15:45:51']], '1somename': [['6', '21', '1', '1somename', '2008-10-24 15:45:49']]}
&gt;&gt;&gt; pprint.pprint(_)
{'14': [['4', '21', '1', '14', '2008-10-24 15:42:58']],
 '19': [['5', '21', '3', '19', '2008-10-24 15:45:45']],
 '1somename': [['6', '21', '1', '1somename', '2008-10-24 15:45:49']],
 '2somename': [['3', '22', '4', '2somename', '2008-10-24 15:22:03'],
               ['7', '22', '3', '2somename', '2008-10-24 15:45:51']]}
</code></pre>
"
818,409370,37,23,python,Sorting and Grouping Nested Lists in Python,"<p>I have the following data structure (a list of lists)</p>

<pre><code>[
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>

<p>I would like to be able to</p>

<ol>
<li><p>Use a function to reorder the list so that I can group by each item in the list. For example I'd like to be able to group by the second column (so that all the 21's are together) </p></li>
<li><p>Use a function to only display certain values from each inner list. For example i'd like to reduce this list to only contain the 4th field value of '2somename' </p></li>
</ol>

<p>so the list would look like this </p>

<pre><code>[
     ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
     ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]
</code></pre>
","<p>For the first question, the first thing you should do is sort the list by the second field:</p>

<pre><code>x = [
 ['4', '21', '1', '14', '2008-10-24 15:42:58'], 
 ['3', '22', '4', '2somename', '2008-10-24 15:22:03'], 
 ['5', '21', '3', '19', '2008-10-24 15:45:45'], 
 ['6', '21', '1', '1somename', '2008-10-24 15:45:49'], 
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']
]

from operator import itemgetter

x.sort(key=itemgetter(1))
</code></pre>

<p>Then you can use itertools' groupby function:</p>

<pre><code>from itertools import groupby
y = groupby(x, itemgetter(1))
</code></pre>

<p>Now y is an iterator containing tuples of (element, item iterator). It's more confusing to explain these tuples than it is to show code:</p>

<pre><code>for elt, items in groupby(x, itemgetter(1)):
    print(elt, items)
    for i in items:
        print(i)
</code></pre>

<p>Which prints:</p>

<pre><code>21 &lt;itertools._grouper object at 0x511a0&gt;
['4', '21', '1', '14', '2008-10-24 15:42:58']
['5', '21', '3', '19', '2008-10-24 15:45:45']
['6', '21', '1', '1somename', '2008-10-24 15:45:49']
22 &lt;itertools._grouper object at 0x51170&gt;
['3', '22', '4', '2somename', '2008-10-24 15:22:03']
['7', '22', '3', '2somename', '2008-10-24 15:45:51']
</code></pre>

<p>For the second part, you should use list comprehensions as mentioned already here:</p>

<pre><code>from pprint import pprint as pp
pp([y for y in x if y[3] == '2somename'])
</code></pre>

<p>Which prints:</p>

<pre><code>[['3', '22', '4', '2somename', '2008-10-24 15:22:03'],
 ['7', '22', '3', '2somename', '2008-10-24 15:45:51']]
</code></pre>
"
570,285990,3,22,python,Parse HTML via XPath,"<p>In .Net, I found this great library, <a href=""http://www.codeplex.com/htmlagilitypack"">HtmlAgilityPack</a> that allows you  to easily parse non-well-formed HTML using XPath.  I've used this for a couple years in my .Net sites, but I've had to settle for more painful libraries for my Python, Ruby and other projects.  Is anyone aware of similar libraries for other languages?</p>
","<p>It seems the question could be more precisely stated as ""<em>How to convert HTML to XML so that XPath expressions can be evaluated against it</em>"".</p>

<p>Here are two good tools:</p>

<ol>
<li><p><a href=""http://home.ccil.org/~cowan/XML/tagsoup/"" rel=""nofollow""><strong>TagSoup</strong></a>, an open-source program, is a Java and SAX - based tool, developed by <a href=""http://home.ccil.org/~cowan/"" rel=""nofollow""><strong>John Cowan</strong></a>. This is 
a SAX-compliant parser written in Java that, instead of parsing well-formed or valid XML, parses HTML as it is found in the wild: poor, nasty and brutish, though quite often far from short. TagSoup is designed for people who have to process this stuff using some semblance of a rational application design. By providing a SAX interface, it allows standard XML tools to be applied to even the worst HTML. TagSoup also includes a command-line processor that reads HTML files and can generate either clean HTML or well-formed XML that is a close approximation to XHTML.<br>
<a href=""http://www.jezuk.co.uk/arabica/log?id=3591"" rel=""nofollow"">Taggle</a> is a commercial C++ port of TagSoup.</p></li>
<li><p><a href=""http://code.msdn.microsoft.com/SgmlReader"" rel=""nofollow""><strong>SgmlReader</strong></a> is a tool developed by Microsoft's <a href=""http://www.lovettsoftware.com/"" rel=""nofollow""><strong>Chris Lovett</strong></a>.<br />
SgmlReader is an XmlReader API over any SGML document (including built in support for HTML). A command line utility is also provided which outputs the well formed XML result.<br />
Download the zip file including the standalone executable and the full source code: <a href=""http://code.msdn.microsoft.com/SgmlReader/Release/ProjectReleases.aspx?ReleaseId=1442"" rel=""nofollow""><strong>SgmlReader.zip</strong></a></p></li>
</ol>
"
571,285990,1,22,python,Parse HTML via XPath,"<p>In .Net, I found this great library, <a href=""http://www.codeplex.com/htmlagilitypack"">HtmlAgilityPack</a> that allows you  to easily parse non-well-formed HTML using XPath.  I've used this for a couple years in my .Net sites, but I've had to settle for more painful libraries for my Python, Ruby and other projects.  Is anyone aware of similar libraries for other languages?</p>
","<p>An outstanding achievement is <a href=""http://www.dcarlisle.demon.co.uk/htmlparse.xsl"" rel=""nofollow""><strong>the pure XSLT 2.0 Parser of HTML</strong></a> written by <a href=""http://dpcarlisle.blogspot.com/"" rel=""nofollow""><strong>David Carlisle</strong></a>.</p>

<p>Reading its code would be a great learning exercise for everyone of us.</p>

<p>From the description:</p>

<p>""<em>d:htmlparse(string)<br/>
&nbsp;d:htmlparse(string,namespace,html-mode)<br/><br/>
&nbsp;&nbsp;The one argument form is equivalent to)<br/>
&nbsp;&nbsp;d:htmlparse(string,'<a href=""http://ww.w3.org/1999/xhtml"" rel=""nofollow"">http://ww.w3.org/1999/xhtml</a>',true()))<br/><br/>
&nbsp;&nbsp;Parses the string as HTML and/or XML using some inbuilt heuristics to)<br/>
&nbsp;&nbsp;control implied opening and closing of elements.<br/><br/>
&nbsp;&nbsp;It doesn't have full knowledge of HTML DTD but does have full list of<br/>
&nbsp;&nbsp;empty elements and full list of entity definitions. HTML entities, and<br/>
&nbsp;&nbsp;decimal and hex character references are all accepted. Note html-entities<br/>
&nbsp;&nbsp;are recognised even if html-mode=false().<br/><br/>
&nbsp;&nbsp;Element names are lowercased (if html-mode is true()) and placed into the<br/>
&nbsp;&nbsp;namespace specified by the namespace parameter (which may be """" to denote<br/>
&nbsp;&nbsp;no-namespace unless the input has explict namespace declarations, in<br/>
&nbsp;&nbsp;which case these will be honoured.<br/><br/>
&nbsp;&nbsp;Attribute names are lowercased if html-mode=true()</em>""</p>

<p>Read a more detailed description <a href=""http://www.dcarlisle.demon.co.uk/htmlparse.xsl"" rel=""nofollow""><strong>here</strong></a>.</p>

<p>Hope this helped.</p>

<p>Cheers,</p>

<p>Dimitre Novatchev.</p>
"
572,285990,2,22,python,Parse HTML via XPath,"<p>In .Net, I found this great library, <a href=""http://www.codeplex.com/htmlagilitypack"">HtmlAgilityPack</a> that allows you  to easily parse non-well-formed HTML using XPath.  I've used this for a couple years in my .Net sites, but I've had to settle for more painful libraries for my Python, Ruby and other projects.  Is anyone aware of similar libraries for other languages?</p>
","<p>For Ruby, I highly recommend Hpricot that Jb Evain pointed out. If you're looking for a faster libxml-based competitor, Nokogiri (see <a href=""http://tenderlovemaking.com/2008/10/30/nokogiri-is-released/"" rel=""nofollow"">http://tenderlovemaking.com/2008/10/30/nokogiri-is-released/</a>) is pretty good too (it supports both XPath and CSS searches like Hpricot but is faster). There's a basic <a href=""http://github.com/tenderlove/nokogiri/wikis"" rel=""nofollow"">wiki</a> and some <a href=""http://gist.github.com/22176"" rel=""nofollow"">benchmarks</a>.</p>
"
573,285990,1,22,python,Parse HTML via XPath,"<p>In .Net, I found this great library, <a href=""http://www.codeplex.com/htmlagilitypack"">HtmlAgilityPack</a> that allows you  to easily parse non-well-formed HTML using XPath.  I've used this for a couple years in my .Net sites, but I've had to settle for more painful libraries for my Python, Ruby and other projects.  Is anyone aware of similar libraries for other languages?</p>
","<p>There is a free C implementation for XML called libxml2 which has some api bits for XPath which I have used with great success which you can specify HTML as the document being loaded.  This had worked for me for some less than perfect HTML documents..  </p>

<p>For the most part, XPath is most useful when the inbound HTML is properly coded and can be read 'like an xml document'.  You may want to consider using a utility that is specific to this purpose for cleaning up HTML documents.  Here is one example: <a href=""http://tidy.sourceforge.net/"" rel=""nofollow"">http://tidy.sourceforge.net/</a></p>

<p>As far as these XPath tools go- you will likely find that most implementations are actually based on pre-existing C or C++ libraries such as libxml2.</p>
"
574,285990,7,22,python,Parse HTML via XPath,"<p>In .Net, I found this great library, <a href=""http://www.codeplex.com/htmlagilitypack"">HtmlAgilityPack</a> that allows you  to easily parse non-well-formed HTML using XPath.  I've used this for a couple years in my .Net sites, but I've had to settle for more painful libraries for my Python, Ruby and other projects.  Is anyone aware of similar libraries for other languages?</p>
","<p>In python, <a href=""http://pypi.python.org/pypi/elementtidy/1.0-20050212"">ElementTidy</a> parses tag soup and produces an element tree, which allows querying using XPath:</p>

<pre><code>&gt;&gt;&gt; from elementtidy.TidyHTMLTreeBuilder import TidyHTMLTreeBuilder as TB
&gt;&gt;&gt; tb = TB()
&gt;&gt;&gt; tb.feed(""&lt;p&gt;Hello world"")
&gt;&gt;&gt; e= tb.close()
&gt;&gt;&gt; e.find("".//{http://www.w3.org/1999/xhtml}p"")
&lt;Element {http://www.w3.org/1999/xhtml}p at 264eb8&gt;
</code></pre>
"
569,285990,6,22,python,Parse HTML via XPath,"<p>In .Net, I found this great library, <a href=""http://www.codeplex.com/htmlagilitypack"">HtmlAgilityPack</a> that allows you  to easily parse non-well-formed HTML using XPath.  I've used this for a couple years in my .Net sites, but I've had to settle for more painful libraries for my Python, Ruby and other projects.  Is anyone aware of similar libraries for other languages?</p>
","<p><a href=""http://www.crummy.com/software/BeautifulSoup/"" rel=""nofollow"">BeautifulSoup</a> is a good Python library for dealing with messy HTML in clean ways.</p>
"
1012,498630,1,22,python,Is Django a good choice for a security critical application?,"<p>Is Django a good choice for a security critical application?</p>

<p>I am asking this because most of the online banking software is built using Java. Is there any real reason for this?</p>
","<p>You should not rely the security of the application on the framework. even though Django does come in with a pretty good number of measures against classical security issues, it can not guarantee that your application will be secure, you need much more than a programming Framework to get a security critical application.</p>

<p>I'd say yes, Django is a good choice as long as you know its powers and limitations and are aware of the security flaws of <strong>every</strong> application.</p>
"
963,471550,2,22,python,Customizing an Admin form in Django while also using autodiscover,"<p>I want to modify a few tiny details of Django's built-in <code>django.contrib.auth</code> module.  Specifically, I want a different form that makes username an email field (and email an alternate email address.   (I'd rather not modify <code>auth</code> any more than necessary -- a simple form change <em>seems</em> to be all that's needed.)</p>

<p>When I use <code>autodiscover</code> with a customized <code>ModelAdmin</code> for <code>auth</code> I wind up conflicting with <code>auth</code>'s own admin interface and get an ""already registered"" error.</p>

<p>It looks like I have to create my own admin site, enumerating all of my Models.  It's only 18 classes, but it seems like a DRY problem -- every change requires both adding to the Model <strong>and</strong> adding to the customized admin site.</p>

<p>Or, should I write my own version of ""<code>autodiscover</code> with exclusions"" to essentially import all the <code>admin</code> modules <strong>except</strong> <code>auth</code>?</p>
","<p>I think it might be easier to do this with a custom auth backend and thus remove the need for a customized ModelAdmin.</p>

<p>I did something similar with this snippet:
<a href=""http://www.djangosnippets.org/snippets/74/"" rel=""nofollow"">http://www.djangosnippets.org/snippets/74/</a></p>
"
1013,498630,8,22,python,Is Django a good choice for a security critical application?,"<p>Is Django a good choice for a security critical application?</p>

<p>I am asking this because most of the online banking software is built using Java. Is there any real reason for this?</p>
","<p>The reasons for building banking apps in Java are not related to security, at least IMHO. They are related to:</p>

<ol>
<li>Java is the COBOL of the 21st century, so there is a lot of legacy code that would have to be rewritten and that takes time. Basically banking apps are old apps, they were built in java some ten years ago and nobody wants to throw all the old code away (which BTW is almost always a bad decision),</li>
<li>some people believe that a static typed language is somewhat ""safer"" than the dynamic typed language. This is, IMHO, not true (take for instance collections prior to Java 5).</li>
</ol>
"
1011,498630,0,22,python,Is Django a good choice for a security critical application?,"<p>Is Django a good choice for a security critical application?</p>

<p>I am asking this because most of the online banking software is built using Java. Is there any real reason for this?</p>
","<p>Are you referring to the fact that the <em>complete</em> application is built in Java, or just the part you see in your browser? If the latter, the reason is probably because in the context of webpages, Java applets can be downloaded and run.</p>
"
45,43290,32,22,python,How to generate urls in django,"<p>In Django's template language, you can use <code>{% url [viewname] [args] %}</code> to generate a URL to a specific view with parameters. How can you programatically do the same in Python code?</p>

<p>What I need is to create a list of menu items where each item has name, URL, and an active flag  (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.</p>
","<p>If you need to use something similar to the <code>{% url %}</code> template tag in your code, Django provides the <code>django.core.urlresolvers.reverse()</code>. The <code>reverse</code> function has the following signature:</p>

<pre><code>reverse(viewname, urlconf=None, args=None, kwargs=None)
</code></pre>

<p><a href=""https://docs.djangoproject.com/en/dev/ref/urlresolvers/"">https://docs.djangoproject.com/en/dev/ref/urlresolvers/</a></p>
"
962,471550,43,22,python,Customizing an Admin form in Django while also using autodiscover,"<p>I want to modify a few tiny details of Django's built-in <code>django.contrib.auth</code> module.  Specifically, I want a different form that makes username an email field (and email an alternate email address.   (I'd rather not modify <code>auth</code> any more than necessary -- a simple form change <em>seems</em> to be all that's needed.)</p>

<p>When I use <code>autodiscover</code> with a customized <code>ModelAdmin</code> for <code>auth</code> I wind up conflicting with <code>auth</code>'s own admin interface and get an ""already registered"" error.</p>

<p>It looks like I have to create my own admin site, enumerating all of my Models.  It's only 18 classes, but it seems like a DRY problem -- every change requires both adding to the Model <strong>and</strong> adding to the customized admin site.</p>

<p>Or, should I write my own version of ""<code>autodiscover</code> with exclusions"" to essentially import all the <code>admin</code> modules <strong>except</strong> <code>auth</code>?</p>
","<p>None of the above.  Just use admin.site.unregister().  Here's how I recently added filtering Users on is_active in the admin (<strong>n.b.</strong> is_active filtering is now on the User model by default in Django core; still works here as an example), all DRY as can be:</p>

<pre><code>from django.contrib import admin
from django.contrib.auth.admin import UserAdmin
from django.contrib.auth.models import User

class MyUserAdmin(UserAdmin):
    list_filter = UserAdmin.list_filter + ('is_active',)

admin.site.unregister(User)
admin.site.register(User, MyUserAdmin)
</code></pre>
"
46,43290,8,22,python,How to generate urls in django,"<p>In Django's template language, you can use <code>{% url [viewname] [args] %}</code> to generate a URL to a specific view with parameters. How can you programatically do the same in Python code?</p>

<p>What I need is to create a list of menu items where each item has name, URL, and an active flag  (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.</p>
","<p>I'm using two different approaches in my <code>models.py</code>. The first is the <code>permalink</code> decorator:</p>

<pre><code>from django.db.models import permalink

def get_absolute_url(self): 
    """"""Construct the absolute URL for this Item.""""""
    return ('project.app.views.view_name', [str(self.id)])
get_absolute_url = permalink(get_absolute_url)
</code></pre>

<p>You can also call <code>reverse</code> directly:</p>

<pre><code>from django.core.urlresolvers import reverse

def get_absolute_url(self): 
    """"""Construct the absolute URL for this Item.""""""
    return reverse('project.app.views.view_name', None, [str(self.id)])
</code></pre>
"
1014,498630,4,22,python,Is Django a good choice for a security critical application?,"<p>Is Django a good choice for a security critical application?</p>

<p>I am asking this because most of the online banking software is built using Java. Is there any real reason for this?</p>
","<p>I find your connection between Java and banking wrong ended.</p>

<p>Most Banking Software has terrible security. And much banking software is written in Java. Does ths mean Java makes it more difficult to write secure software than other languages?</p>

<p>Probably it's not Java's fault that there is so little quality security (and safety) wise in Banking software. Actually, like the other posters mention, the choice of your Language usually has very little consequences for your security - unless you select one of the few languages where only hotshot coders can write secure code in (C and PHP come to mind).</p>

<p>Many huge E-Commerce sites are written in Python, Ruby and Perl using various frameworks. And I would argue that the security requirements for merchants are much higher than the requirements of the banking industry. That is because merchants have to provide security and good user experience, while banking customers are willing to put up with unusable interfaces SecureID tokens and whatever.</p>

<p>So yes: Django is up to the task.</p>
"
47,43290,4,22,python,How to generate urls in django,"<p>In Django's template language, you can use <code>{% url [viewname] [args] %}</code> to generate a URL to a specific view with parameters. How can you programatically do the same in Python code?</p>

<p>What I need is to create a list of menu items where each item has name, URL, and an active flag  (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.</p>
","<p>Be aware that using <code>reverse()</code> requires that your urlconf module is 100% error free and can be processed - iow no <code>ViewDoesNotExist</code> errors or so, or you get the dreaded <code>NoReverseMatch</code> exception (errors in templates usually fail silently resulting in <code>None</code>).</p>
"
1009,498630,17,22,python,Is Django a good choice for a security critical application?,"<p>Is Django a good choice for a security critical application?</p>

<p>I am asking this because most of the online banking software is built using Java. Is there any real reason for this?</p>
","<p>Probably the reason behind Java is not in the in the security. I think Java is more used in large development companies and banks usually resort to them for their development needs (which probably are not only related to the web site but creep deeper in the backend).</p>

<p>So, I see no security reasons, mostly cultural ones.</p>
"
1010,498630,30,22,python,Is Django a good choice for a security critical application?,"<p>Is Django a good choice for a security critical application?</p>

<p>I am asking this because most of the online banking software is built using Java. Is there any real reason for this?</p>
","<p>Actually, the security in Java and Python is the same.  Digest-only password handling, cookies that timeout rapidly, careful deletion of sessions, multi-factor authentication.  None of this is unique to a Java framework or a Python framework like Django.</p>

<p>Django, indeed, has a security backend architecture that allows you to add your own LDAP (or AD) connection, possibly changing the digest technique used.  </p>

<p>Django has a Profile model where you can keep additional authentication factors.</p>

<p>Django offers a few standard decorators for view function authorization checking.  Since Python is so flexible, you can trivially write your own decorator functions to layer in different or additional authentication checking.</p>

<p>Security is a number of first-class features in Django.</p>
"
1056,524930,1,21,python,"NumPy, PIL adding an image","<p>I'm trying to add two images together using NumPy and PIL. The way I would do this in <a href=""http://en.wikipedia.org/wiki/MATLAB"">MATLAB</a> would be something like:</p>

<pre><code>&gt;&gt; M1 = imread('_1.jpg');
&gt;&gt; M2 = imread('_2.jpg');
&gt;&gt; resM = M1 + M2;
&gt;&gt; imwrite(resM, 'res.jpg');
</code></pre>

<p>I get something like this:</p>

<p><img src=""http://www.deadlink.cc/matlab.jpg"" alt=""alt text""></p>

<p>Using a compositing program and adding the images the MATLAB result seems to be right.</p>

<p>In Python I'm trying to do the same thing like this:</p>

<pre><code>from PIL import Image
from numpy import *

im1 = Image.open('/Users/rem7/Desktop/_1.jpg')
im2 = Image.open('/Users/rem7/Desktop/_2.jpg')

im1arr = asarray(im1)
im2arr = asarray(im2)

addition = im1arr + im2arr

resultImage = Image.fromarray(addition)
resultImage.save('/Users/rem7/Desktop/a.jpg')
</code></pre>

<p>and I get something like this:</p>

<p><img src=""http://www.deadlink.cc/python.jpg"" alt=""alt text""></p>

<p>Why am I getting all those funky colors? I also tried using <code>ImageMath.eval(""a+b"", a=im1, b=im2)</code>, but I get an error about RGB unsupported.</p>

<p>I also saw that there is an <code>Image.blend()</code> but that requires an alpha.</p>

<p>What's the best way to achieve what I'm looking for?</p>

<p>Source Images (images have been removed):</p>

<p><img src=""http://www.deadlink.cc/_1.jpg"" alt=""alt text"">
<img src=""http://www.deadlink.cc/_2.jpg"" alt=""alt text""></p>

<p>Humm, OK, well I added the source images using the add image icon and they show up when I'm editing the post, but for some reason the images don't show up in the post. </p>

<p>(images have been removed) 2013 05 09</p>
","<p>To clamp numpy array values:</p>

<pre><code>&gt;&gt;&gt; c = a + b
&gt;&gt;&gt; c[c &gt; 256] = 256
</code></pre>
"
1057,524930,27,21,python,"NumPy, PIL adding an image","<p>I'm trying to add two images together using NumPy and PIL. The way I would do this in <a href=""http://en.wikipedia.org/wiki/MATLAB"">MATLAB</a> would be something like:</p>

<pre><code>&gt;&gt; M1 = imread('_1.jpg');
&gt;&gt; M2 = imread('_2.jpg');
&gt;&gt; resM = M1 + M2;
&gt;&gt; imwrite(resM, 'res.jpg');
</code></pre>

<p>I get something like this:</p>

<p><img src=""http://www.deadlink.cc/matlab.jpg"" alt=""alt text""></p>

<p>Using a compositing program and adding the images the MATLAB result seems to be right.</p>

<p>In Python I'm trying to do the same thing like this:</p>

<pre><code>from PIL import Image
from numpy import *

im1 = Image.open('/Users/rem7/Desktop/_1.jpg')
im2 = Image.open('/Users/rem7/Desktop/_2.jpg')

im1arr = asarray(im1)
im2arr = asarray(im2)

addition = im1arr + im2arr

resultImage = Image.fromarray(addition)
resultImage.save('/Users/rem7/Desktop/a.jpg')
</code></pre>

<p>and I get something like this:</p>

<p><img src=""http://www.deadlink.cc/python.jpg"" alt=""alt text""></p>

<p>Why am I getting all those funky colors? I also tried using <code>ImageMath.eval(""a+b"", a=im1, b=im2)</code>, but I get an error about RGB unsupported.</p>

<p>I also saw that there is an <code>Image.blend()</code> but that requires an alpha.</p>

<p>What's the best way to achieve what I'm looking for?</p>

<p>Source Images (images have been removed):</p>

<p><img src=""http://www.deadlink.cc/_1.jpg"" alt=""alt text"">
<img src=""http://www.deadlink.cc/_2.jpg"" alt=""alt text""></p>

<p>Humm, OK, well I added the source images using the add image icon and they show up when I'm editing the post, but for some reason the images don't show up in the post. </p>

<p>(images have been removed) 2013 05 09</p>
","<p>As everyone suggested already, the weird colors you're observing are overflow. And as you point out in the <a href=""http://stackoverflow.com/questions/524930/numpy-pil-adding-an-image/524943#524943"">comment of schnaader's answer</a> you <strong>still get overflow</strong> if you add your images like this:</p>

<pre><code>addition=(im1arr+im2arr)/2
</code></pre>

<p>The reason for this overflow is that your NumPy arrays (<em>im1arr</em>  <em>im2arr</em>) are of the <strong>uint8</strong> type (i.e. 8-bit). This means each element of the array can only hold values up to 255, so when your sum exceeds 255, it loops back around 0:</p>

<pre><code>&gt;&gt;&gt;array([255,10,100],dtype='uint8') +  array([1,10,160],dtype='uint8')
array([ 0, 20,  4], dtype=uint8)
</code></pre>

<p>To avoid overflow, your arrays should be able to contain values beyond 255. You need to <strong>convert them to floats</strong> for instance, perform the blending operation and <strong>convert the result back to uint8</strong>:</p>

<pre><code>im1arrF = im1arr.astype('float')
im2arrF = im2arr.astype('float')
additionF = (im1arrF+im2arrF)/2
addition = additionF.astype('uint8')
</code></pre>

<p>You <strong>should not</strong> do this:</p>

<pre><code>addition = im1arr/2 + im2arr/2
</code></pre>

<p>as you lose information, by squashing the dynamic of the image (you effectively make the images 7-bit) before you perform the blending information.</p>

<p><strong>MATLAB note</strong>: the reason you don't see this problem in MATLAB, is probably because MATLAB takes care of the overflow implicitly in one of its functions.</p>
"
1055,524930,16,21,python,"NumPy, PIL adding an image","<p>I'm trying to add two images together using NumPy and PIL. The way I would do this in <a href=""http://en.wikipedia.org/wiki/MATLAB"">MATLAB</a> would be something like:</p>

<pre><code>&gt;&gt; M1 = imread('_1.jpg');
&gt;&gt; M2 = imread('_2.jpg');
&gt;&gt; resM = M1 + M2;
&gt;&gt; imwrite(resM, 'res.jpg');
</code></pre>

<p>I get something like this:</p>

<p><img src=""http://www.deadlink.cc/matlab.jpg"" alt=""alt text""></p>

<p>Using a compositing program and adding the images the MATLAB result seems to be right.</p>

<p>In Python I'm trying to do the same thing like this:</p>

<pre><code>from PIL import Image
from numpy import *

im1 = Image.open('/Users/rem7/Desktop/_1.jpg')
im2 = Image.open('/Users/rem7/Desktop/_2.jpg')

im1arr = asarray(im1)
im2arr = asarray(im2)

addition = im1arr + im2arr

resultImage = Image.fromarray(addition)
resultImage.save('/Users/rem7/Desktop/a.jpg')
</code></pre>

<p>and I get something like this:</p>

<p><img src=""http://www.deadlink.cc/python.jpg"" alt=""alt text""></p>

<p>Why am I getting all those funky colors? I also tried using <code>ImageMath.eval(""a+b"", a=im1, b=im2)</code>, but I get an error about RGB unsupported.</p>

<p>I also saw that there is an <code>Image.blend()</code> but that requires an alpha.</p>

<p>What's the best way to achieve what I'm looking for?</p>

<p>Source Images (images have been removed):</p>

<p><img src=""http://www.deadlink.cc/_1.jpg"" alt=""alt text"">
<img src=""http://www.deadlink.cc/_2.jpg"" alt=""alt text""></p>

<p>Humm, OK, well I added the source images using the add image icon and they show up when I'm editing the post, but for some reason the images don't show up in the post. </p>

<p>(images have been removed) 2013 05 09</p>
","<p>Using PIL's blend() with an alpha value of 0.5 would be equivalent to (im1arr + im2arr)/2.   Blend does not require that the images have alpha layers.</p>

<p>Try this:</p>

<pre><code>from PIL import Image
im1 = Image.open('/Users/rem7/Desktop/_1.jpg')
im2 = Image.open('/Users/rem7/Desktop/_2.jpg')
Image.blend(im1,im2,0.5).save('/Users/rem7/Desktop/a.jpg')
</code></pre>
"
951,467920,22,21,python,In what situation should the built-in 'operator' module be used in python?,"<p>I'm speaking of this module:
<a href=""http://docs.python.org/library/operator.html"">http://docs.python.org/library/operator.html</a></p>

<p>From the article:</p>

<blockquote>
  <p>The operator module exports a set of
  functions implemented in C
  corresponding to the intrinsic
  operators of Python. For example,
  operator.add(x, y) is equivalent to
  the expression x+y. The function names
  are those used for special class
  methods; variants without leading and
  trailing __ are also provided for
  convenience.</p>
</blockquote>

<p>I'm not sure I understand the benefit or purpose of this module.</p>
","<p>Possibly the most popular usage is operator.itemgetter.  Given a list <code>lst</code> of tuples, you can sort by the ith element by: <code>lst.sort(key=operator.itemgetter(i))</code></p>

<p>Certainly, you could do the same thing without operator by defining your own key function, but the operator module makes it slightly neater.</p>

<p>As to the rest, python allows a functional style of programming, and so it can come up -- for instance, Greg's reduce example.</p>

<p>You might argue: ""Why do I need <code>operator.add</code> when I can just do: <code>add = lambda x, y: x+y</code>?"" The answers are:</p>

<ol>
<li><code>operator.add</code> is (I think) slightly faster.</li>
<li>It makes the code easier to understand for you, or another person later, looking at it.  They don't need to look for the definition of add, because they know what the operator module does.</li>
</ol>
"
950,467920,16,21,python,In what situation should the built-in 'operator' module be used in python?,"<p>I'm speaking of this module:
<a href=""http://docs.python.org/library/operator.html"">http://docs.python.org/library/operator.html</a></p>

<p>From the article:</p>

<blockquote>
  <p>The operator module exports a set of
  functions implemented in C
  corresponding to the intrinsic
  operators of Python. For example,
  operator.add(x, y) is equivalent to
  the expression x+y. The function names
  are those used for special class
  methods; variants without leading and
  trailing __ are also provided for
  convenience.</p>
</blockquote>

<p>I'm not sure I understand the benefit or purpose of this module.</p>
","<p>One example is in the use of the <code>reduce()</code> function:</p>

<pre><code>&gt;&gt;&gt; import operator
&gt;&gt;&gt; a = [2, 3, 4, 5]
&gt;&gt;&gt; reduce(lambda x, y: x + y, a)
14
&gt;&gt;&gt; reduce(operator.add, a)
14
</code></pre>
"
1053,524930,2,21,python,"NumPy, PIL adding an image","<p>I'm trying to add two images together using NumPy and PIL. The way I would do this in <a href=""http://en.wikipedia.org/wiki/MATLAB"">MATLAB</a> would be something like:</p>

<pre><code>&gt;&gt; M1 = imread('_1.jpg');
&gt;&gt; M2 = imread('_2.jpg');
&gt;&gt; resM = M1 + M2;
&gt;&gt; imwrite(resM, 'res.jpg');
</code></pre>

<p>I get something like this:</p>

<p><img src=""http://www.deadlink.cc/matlab.jpg"" alt=""alt text""></p>

<p>Using a compositing program and adding the images the MATLAB result seems to be right.</p>

<p>In Python I'm trying to do the same thing like this:</p>

<pre><code>from PIL import Image
from numpy import *

im1 = Image.open('/Users/rem7/Desktop/_1.jpg')
im2 = Image.open('/Users/rem7/Desktop/_2.jpg')

im1arr = asarray(im1)
im2arr = asarray(im2)

addition = im1arr + im2arr

resultImage = Image.fromarray(addition)
resultImage.save('/Users/rem7/Desktop/a.jpg')
</code></pre>

<p>and I get something like this:</p>

<p><img src=""http://www.deadlink.cc/python.jpg"" alt=""alt text""></p>

<p>Why am I getting all those funky colors? I also tried using <code>ImageMath.eval(""a+b"", a=im1, b=im2)</code>, but I get an error about RGB unsupported.</p>

<p>I also saw that there is an <code>Image.blend()</code> but that requires an alpha.</p>

<p>What's the best way to achieve what I'm looking for?</p>

<p>Source Images (images have been removed):</p>

<p><img src=""http://www.deadlink.cc/_1.jpg"" alt=""alt text"">
<img src=""http://www.deadlink.cc/_2.jpg"" alt=""alt text""></p>

<p>Humm, OK, well I added the source images using the add image icon and they show up when I'm editing the post, but for some reason the images don't show up in the post. </p>

<p>(images have been removed) 2013 05 09</p>
","<p>It seems the code you posted just sums up the values and values bigger than 256 are overflowing. You want something like ""(a + b) / 2"" or ""min(a + b, 256)"". The latter seems to be the way that your Matlab example does it.</p>
"
1054,524930,0,21,python,"NumPy, PIL adding an image","<p>I'm trying to add two images together using NumPy and PIL. The way I would do this in <a href=""http://en.wikipedia.org/wiki/MATLAB"">MATLAB</a> would be something like:</p>

<pre><code>&gt;&gt; M1 = imread('_1.jpg');
&gt;&gt; M2 = imread('_2.jpg');
&gt;&gt; resM = M1 + M2;
&gt;&gt; imwrite(resM, 'res.jpg');
</code></pre>

<p>I get something like this:</p>

<p><img src=""http://www.deadlink.cc/matlab.jpg"" alt=""alt text""></p>

<p>Using a compositing program and adding the images the MATLAB result seems to be right.</p>

<p>In Python I'm trying to do the same thing like this:</p>

<pre><code>from PIL import Image
from numpy import *

im1 = Image.open('/Users/rem7/Desktop/_1.jpg')
im2 = Image.open('/Users/rem7/Desktop/_2.jpg')

im1arr = asarray(im1)
im2arr = asarray(im2)

addition = im1arr + im2arr

resultImage = Image.fromarray(addition)
resultImage.save('/Users/rem7/Desktop/a.jpg')
</code></pre>

<p>and I get something like this:</p>

<p><img src=""http://www.deadlink.cc/python.jpg"" alt=""alt text""></p>

<p>Why am I getting all those funky colors? I also tried using <code>ImageMath.eval(""a+b"", a=im1, b=im2)</code>, but I get an error about RGB unsupported.</p>

<p>I also saw that there is an <code>Image.blend()</code> but that requires an alpha.</p>

<p>What's the best way to achieve what I'm looking for?</p>

<p>Source Images (images have been removed):</p>

<p><img src=""http://www.deadlink.cc/_1.jpg"" alt=""alt text"">
<img src=""http://www.deadlink.cc/_2.jpg"" alt=""alt text""></p>

<p>Humm, OK, well I added the source images using the add image icon and they show up when I'm editing the post, but for some reason the images don't show up in the post. </p>

<p>(images have been removed) 2013 05 09</p>
","<p>Your sample images are not showing up form me so I am going to do a bit of guessing.</p>

<p>I can't remember exactly how the numpy to pil conversion works but there are two likely cases. I am 95% sure it is 1 but am giving 2 just in case I am wrong.
 1) 1 im1Arr is a MxN array of integers (ARGB) and when you add im1arr and im2arr together you are overflowing from one channel into the next if the components b1+b2>255. I am guessing matlab represents their images as MxNx3 arrays so each color channel is separate. You can solve this by splitting the PIL image channels and then making numpy arrays</p>

<p>2) 1 im1Arr is a MxNx3 array of bytes and when you add im1arr and im2arr together you are wrapping the component around.  </p>

<p>You are also going to have to rescale the range back to between 0-255 before displaying. Your choices are divide by 2, scale by 255/array.max() or do a clip. I don't know what matlab does</p>
"
731,373370,29,20,python,"How do I get the UTC time of ""midnight"" for a given timezone?","<p>The best I can come up with for now is this monstrosity:</p>

<pre><code>&gt;&gt;&gt; datetime.utcnow() \
...   .replace(tzinfo=pytz.UTC) \
...   .astimezone(pytz.timezone(""Australia/Melbourne"")) \
...   .replace(hour=0,minute=0,second=0,microsecond=0) \
...   .astimezone(pytz.UTC) \
...   .replace(tzinfo=None)
datetime.datetime(2008, 12, 16, 13, 0)
</code></pre>

<p>I.e., in English, get the current time (in UTC), convert it to some other timezone, set the time to midnight, then convert back to UTC.</p>

<p>I'm not just using now() or localtime() as that would use the server's timezone, not the user's timezone.</p>

<p>I can't help feeling I'm missing something, any ideas?</p>
","<p>I think you can shave off a few method calls if you do it like this:</p>

<pre><code>&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; datetime.now(pytz.timezone(""Australia/Melbourne"")) \
            .replace(hour=0, minute=0, second=0, microsecond=0) \
            .astimezone(pytz.utc)
</code></pre>

<p>BUTâ¦ there is a bigger problem than aesthetics in your code: it will give the wrong result on the day of the switch to or from Daylight Saving Time.</p>

<p>The reason for this is that neither the datetime constructors nor <code>replace()</code> take DST changes into account.</p>

<p>For example:</p>

<pre><code>&gt;&gt;&gt; now = datetime(2012, 4, 1, 5, 0, 0, 0, tzinfo=pytz.timezone(""Australia/Melbourne""))
&gt;&gt;&gt; print now
2012-04-01 05:00:00+10:00
&gt;&gt;&gt; print now.replace(hour=0)
2012-04-01 00:00:00+10:00 # wrong! midnight was at 2012-04-01 00:00:00+11:00
&gt;&gt;&gt; print datetime(2012, 3, 1, 0, 0, 0, 0, tzinfo=tz)
2012-03-01 00:00:00+10:00 # wrong again!
</code></pre>

<p>However, the documentation for <code>tz.localize()</code> states:</p>

<blockquote>
  <p>This method should be used to construct localtimes, rather
  than passing a tzinfo argument to a datetime constructor.</p>
</blockquote>

<p>Thus, your problem is solved like so:</p>

<pre><code>&gt;&gt;&gt; import pytz
&gt;&gt;&gt; from datetime import datetime, date, time

&gt;&gt;&gt; tz = pytz.timezone(""Australia/Melbourne"")
&gt;&gt;&gt; the_date = date(2012, 4, 1) # use date.today() here

&gt;&gt;&gt; midnight_without_tzinfo = datetime.combine(the_date, time())
&gt;&gt;&gt; print midnight_without_tzinfo
2012-04-01 00:00:00

&gt;&gt;&gt; midnight_with_tzinfo = tz.localize(midnight_without_tzinfo)
&gt;&gt;&gt; print midnight_with_tzinfo
2012-04-01 00:00:00+11:00

&gt;&gt;&gt; print midnight_with_tzinfo.astimezone(pytz.utc)
2012-03-31 13:00:00+00:00
</code></pre>

<p>No guarantees for dates before 1582, though.</p>
"
729,373370,0,20,python,"How do I get the UTC time of ""midnight"" for a given timezone?","<p>The best I can come up with for now is this monstrosity:</p>

<pre><code>&gt;&gt;&gt; datetime.utcnow() \
...   .replace(tzinfo=pytz.UTC) \
...   .astimezone(pytz.timezone(""Australia/Melbourne"")) \
...   .replace(hour=0,minute=0,second=0,microsecond=0) \
...   .astimezone(pytz.UTC) \
...   .replace(tzinfo=None)
datetime.datetime(2008, 12, 16, 13, 0)
</code></pre>

<p>I.e., in English, get the current time (in UTC), convert it to some other timezone, set the time to midnight, then convert back to UTC.</p>

<p>I'm not just using now() or localtime() as that would use the server's timezone, not the user's timezone.</p>

<p>I can't help feeling I'm missing something, any ideas?</p>
","<p>Setting the TZ environment variable modifies what timezone Python's date and time functions work with.</p>

<pre><code>&gt;&gt;&gt; time.gmtime()
(2008, 12, 17, 1, 16, 46, 2, 352, 0)
&gt;&gt;&gt; time.localtime()
(2008, 12, 16, 20, 16, 47, 1, 351, 0)
&gt;&gt;&gt; os.environ['TZ']='Australia/Melbourne'
&gt;&gt;&gt; time.localtime()
(2008, 12, 17, 12, 16, 53, 2, 352, 1)
</code></pre>
"
730,373370,0,20,python,"How do I get the UTC time of ""midnight"" for a given timezone?","<p>The best I can come up with for now is this monstrosity:</p>

<pre><code>&gt;&gt;&gt; datetime.utcnow() \
...   .replace(tzinfo=pytz.UTC) \
...   .astimezone(pytz.timezone(""Australia/Melbourne"")) \
...   .replace(hour=0,minute=0,second=0,microsecond=0) \
...   .astimezone(pytz.UTC) \
...   .replace(tzinfo=None)
datetime.datetime(2008, 12, 16, 13, 0)
</code></pre>

<p>I.e., in English, get the current time (in UTC), convert it to some other timezone, set the time to midnight, then convert back to UTC.</p>

<p>I'm not just using now() or localtime() as that would use the server's timezone, not the user's timezone.</p>

<p>I can't help feeling I'm missing something, any ideas?</p>
","<p>Each time zone has a number, eg US/Central = -6. This is defined as the offset in hours from UTC. Since 0000 is midnight, you can simply use this offset to find the time in any time zone when it is midnight UTC. To access that, I believe you can use <pre> time.timezone</pre></p>

<p>According to <a href=""http://docs.python.org/library/time.html"" rel=""nofollow"">The Python Docs</a>, time.timezone actually gives the negative value of this number:</p>

<blockquote>
  <blockquote>
    <p>time.timezone</p>
    
    <blockquote>
      <p>The offset of the local (non-DST) timezone, in seconds west of UTC (negative in most of Western Europe, positive in the US, zero in the UK).</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>So you would simply use that number for the time in hours if it's positive (i.e., if it's midnight in Chicago (which has a +6 timezone value), then it's 6000 = 6am UTC).</p>

<p>If the number is negative, subtract from 24. For example, Berlin would give -1, so 24 - 1 => 2300 = 11pm.</p>
"
308,169070,16,19,python,Python - How do I write a decorator that restores the cwd?,"<p>How do I write a decorator that restores the current working directory to what it was before the decorated function was called?  In other words, if I use the decorator on a function that does an os.chdir(), the cwd will not be changed after the function is called.</p>
","<p>The given answers fail to take into account that the wrapped function may raise an exception. In that case, the directory will never be restored. The code below adds exception handling to the previous answers.</p>

<p>as a decorator:</p>

<pre><code>def preserve_cwd(function):
    @functools.wraps(function)
    def decorator(*args, **kwargs):
        cwd = os.getcwd()
        try:
            return function(*args, **kwargs)
        finally:
            os.chdir(cwd)
    return decorator
</code></pre>

<p>and as a context manager:</p>

<pre><code>@contextlib.contextmanager
def remember_cwd():
    curdir = os.getcwd()
    try:
        yield
    finally:
        os.chdir(curdir)
</code></pre>
"
307,169070,27,19,python,Python - How do I write a decorator that restores the cwd?,"<p>How do I write a decorator that restores the current working directory to what it was before the decorated function was called?  In other words, if I use the decorator on a function that does an os.chdir(), the cwd will not be changed after the function is called.</p>
","<p>The answer for a decorator has been given; it works at the function definition stage as requested.</p>

<p>With Python 2.5+, you also have an option to do that at the function <em>call</em> stage using a context manager:</p>

<pre><code>from __future__ import with_statement # needed for 2.5 â¤ Python &lt; 2.6
import contextlib, os

@contextlib.contextmanager
def remember_cwd():
    curdir= os.getcwd()
    try: yield
    finally: os.chdir(curdir)
</code></pre>

<p>which can be used if needed at the function call time as:</p>

<pre><code>print ""getcwd before:"", os.getcwd()
with remember_cwd():
    walk_around_the_filesystem()
print ""getcwd after:"", os.getcwd()
</code></pre>

<p>It's a nice option to have.</p>

<p>EDIT: I added error handling as suggested by codeape. Since my answer has been voted up, it's fair to offer a complete answer, all other issues aside.</p>
"
306,169070,3,19,python,Python - How do I write a decorator that restores the cwd?,"<p>How do I write a decorator that restores the current working directory to what it was before the decorated function was called?  In other words, if I use the decorator on a function that does an os.chdir(), the cwd will not be changed after the function is called.</p>
","<pre><code>def preserve_cwd(function):
   def decorator(*args, **kwargs):
      cwd = os.getcwd()
      result = function(*args, **kwargs)
      os.chdir(cwd)
      return result
   return decorator
</code></pre>

<p>Here's how it's used:</p>

<pre><code>@preserve_cwd
def test():
  print 'was:',os.getcwd()
  os.chdir('/')
  print 'now:',os.getcwd()

&gt;&gt;&gt; print os.getcwd()
/Users/dspitzer
&gt;&gt;&gt; test()
was: /Users/dspitzer
now: /
&gt;&gt;&gt; print os.getcwd()
/Users/dspitzer
</code></pre>
"
957,471000,1,18,python,Jython and python modules,"<p>I've just started using the <code>PythonInterpreter</code> from within my Java classes, and it works great! However, if I try to include python modules (<code>re</code>, <code>HTMLParser</code>, etc.), I'm receiving the following exception (for <code>re</code>):</p>

<pre>
Exception in thread ""main"" Traceback (innermost last):
  File """", line 1, in ?
ImportError: no module named re
</pre>

<p>How could I make the classes from the jython jar ""see"" the modules python has available?</p>
","<p>Check your jython sys.path . Make sure that the library you want to load are in this path.
Look at <a href=""http://www.jython.org/cgi-bin/faqw.py?req=show&amp;file=faq02.003.htp"" rel=""nofollow"">jython faq</a> for more details.</p>
"
958,471000,14,18,python,Jython and python modules,"<p>I've just started using the <code>PythonInterpreter</code> from within my Java classes, and it works great! However, if I try to include python modules (<code>re</code>, <code>HTMLParser</code>, etc.), I'm receiving the following exception (for <code>re</code>):</p>

<pre>
Exception in thread ""main"" Traceback (innermost last):
  File """", line 1, in ?
ImportError: no module named re
</pre>

<p>How could I make the classes from the jython jar ""see"" the modules python has available?</p>
","<p>You embed jython and you will use some Python-Modules somewere:</p>

<p>if you want to set the path (sys.path) in your Java-Code :</p>

<pre><code>public void init() {
        interp = new PythonInterpreter(null, new PySystemState());

        PySystemState sys = Py.getSystemState();
        sys.path.append(new PyString(rootPath));
        sys.path.append(new PyString(modulesDir));
    }
</code></pre>

<p>Py is in org.python.core.</p>

<p>rootPath and modulesDir is where YOU want !</p>

<p>let rootPath point where you located the standard-jython-lib</p>

<p>Have a look at src/org/python/util/PyServlet.java in the Jython-Source-Code for example</p>
"
4,11060,0,18,python,How should I unit test a code-generator?,"<p>This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions.</p>

<p>I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices.  When I developed this code I did it using TDD, but I've found my tests to be brittle as hell.  Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations.</p>

<p>The problem is I dread going in to modify the code at all.  That and the fact that the unit tests themselves are a: complex, and b: brittle.</p>

<p>So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way.  Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to.</p>

<p>Has anyone got any experiences of something similar to this they would care to share?</p>
","<p>Just wanted to point out that you can still achieve fine-grained testing while verifying the results: you can test individual chunks of code by nesting them inside some setup and verification code:</p>

<pre><code>int x = 0;
GENERATED_CODE
assert(x == 100);
</code></pre>

<p>Provided you have your generated code assembled from smaller chunks, and the chunks do not change frequently, you can exercise more conditions and test a little better, and hopefully avoid having all your tests break when you change specifics of one chunk.</p>
"
1,11060,0,18,python,How should I unit test a code-generator?,"<p>This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions.</p>

<p>I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices.  When I developed this code I did it using TDD, but I've found my tests to be brittle as hell.  Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations.</p>

<p>The problem is I dread going in to modify the code at all.  That and the fact that the unit tests themselves are a: complex, and b: brittle.</p>

<p>So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way.  Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to.</p>

<p>Has anyone got any experiences of something similar to this they would care to share?</p>
","<p>Yes, results are the ONLY thing that matters. The real chore is writing a framework that allows your generated code to run independently... spend your time there.</p>
"
3,11060,4,18,python,How should I unit test a code-generator?,"<p>This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions.</p>

<p>I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices.  When I developed this code I did it using TDD, but I've found my tests to be brittle as hell.  Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations.</p>

<p>The problem is I dread going in to modify the code at all.  That and the fact that the unit tests themselves are a: complex, and b: brittle.</p>

<p>So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way.  Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to.</p>

<p>Has anyone got any experiences of something similar to this they would care to share?</p>
","<p>Recall that ""unit testing"" is only one kind of testing.  You should be able to unit test the <strong>internal</strong> pieces of your code generator.  What you're really looking at here is system level testing (a.k.a. regression testing).  It's not just semantics... there are different mindsets, approaches, expectations, etc.  It's certainly more work, but you probably need to bite the bullet and set up an end-to-end regression test suite: fixed C++ files -> SWIG interfaces -> python modules -> known output.  You really want to check the known input (fixed C++ code) against expected output (what comes out of the final Python program).  Checking the code generator results directly would be like diffing object files...</p>
"
2,11060,0,18,python,How should I unit test a code-generator?,"<p>This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions.</p>

<p>I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices.  When I developed this code I did it using TDD, but I've found my tests to be brittle as hell.  Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations.</p>

<p>The problem is I dread going in to modify the code at all.  That and the fact that the unit tests themselves are a: complex, and b: brittle.</p>

<p>So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way.  Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to.</p>

<p>Has anyone got any experiences of something similar to this they would care to share?</p>
","<p>If you are running on *nux you might consider dumping the unittest framework in favor of a bash script or makefile. on windows you might consider building a shell app/function that runs the generator and then uses the code (as another process) and unittest that.</p>

<p>A third option would be to generate the code and then build an app from it that includes nothing but a unittest. Again you would need a shell script or whatnot to run this for each input. As to how to encode the expected behavior, it occurs to me that it could be done in much the same way as you would for the C++ code just using the generated interface rather than the C++ one.</p>
"
956,471000,7,18,python,Jython and python modules,"<p>I've just started using the <code>PythonInterpreter</code> from within my Java classes, and it works great! However, if I try to include python modules (<code>re</code>, <code>HTMLParser</code>, etc.), I'm receiving the following exception (for <code>re</code>):</p>

<pre>
Exception in thread ""main"" Traceback (innermost last):
  File """", line 1, in ?
ImportError: no module named re
</pre>

<p>How could I make the classes from the jython jar ""see"" the modules python has available?</p>
","<p>According to the <a href=""http://www.jython.org/Project/userfaq.html#jython-modules"" rel=""nofollow"">FAQ</a>:</p>

<blockquote>
  <h2>4.1   What parts of the Python library are supported?</h2>
  
  <p>The good news is that Jython now supports a large majority of the standard Python library. The bad news is that this has moved so rapidly, it's hard to keep the documentation up to date.</p>
  
  <p>Built-in modules (e.g. those that are written in C for CPython) are a different story. These would have to be ported to Java, or implemented with a JNI bridge in order to be used by Jython. Some built-in modules have been ported to JPython, most notably cStringIO, cPickle, struct, and binascii. It is unlikely that JNI modules will be included in Jython proper though.</p>
  
  <p>If you want to use a standard Python module, just try importing it. If that works, you're probably all set. You can also do a dir() on the modules to check the list of functions it implements.</p>
  
  <p>If there is some standard Python module that you have a real need for that doesn't work with Jython yet, please send us mail.</p>
</blockquote>

<p>In other words, you <em>can</em> directly use Python modules from Jython, unless you're trying to use built-in modules, in which case you're stuck with whatever has been ported to Jython.</p>
"
0,11060,8,18,python,How should I unit test a code-generator?,"<p>This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions.</p>

<p>I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices.  When I developed this code I did it using TDD, but I've found my tests to be brittle as hell.  Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations.</p>

<p>The problem is I dread going in to modify the code at all.  That and the fact that the unit tests themselves are a: complex, and b: brittle.</p>

<p>So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way.  Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to.</p>

<p>Has anyone got any experiences of something similar to this they would care to share?</p>
","<p>I started writing up a summary of my experience with my own code generator, then went back and re-read your question and found you had already touched upon the same issues yourself, focus on the execution results instead of the code layout/look.</p>

<p>Problem is, this is hard to test, the generated code might not be suited to actually run in the environment of the unit test system, and how do you encode the expected results?</p>

<p>I've found that you need to break down the code generator into smaller pieces and unit test those. Unit testing a full code generator is more like integration testing than unit testing if you ask me.</p>
"
348,175240,41,18,python,How do I convert a file's format from Unicode to ASCII using Python?,"<p>I use a 3rd party tool that outputs a file in Unicode format.  However, I prefer it to be in ASCII. The tool does not have settings to change the file format.</p>

<p>What is the best way to convert the entire file format using Python?</p>
","<p>You can convert the file easily enough just using the <code>unicode</code> function, but you'll run into problems with Unicode characters without a straight ASCII equivalent.</p>

<p><a href=""http://www.peterbe.com/plog/unicode-to-ascii"">This blog</a> recommends the <code><a href=""http://www.python.org/doc/2.5.2/lib/module-unicodedata.html"">unicodedata </a></code> module, which seems to take care of roughly converting characters without direct corresponding ASCII values, e.g.</p>

<pre><code>&gt;&gt;&gt; title = u""KlÃ¼ft skrÃ¤ms infÃ¶r pÃ¥ fÃ©dÃ©ral Ã©lectoral groÃe""
</code></pre>

<p>is typically converted to </p>

<pre><code>Klft skrms infr p fdral lectoral groe
</code></pre>

<p>which is pretty wrong. However, using the <code>unicodedata</code> module, the result can be much closer to the original text:</p>

<pre><code>&gt;&gt;&gt; import unicodedata
&gt;&gt;&gt; unicodedata.normalize('NFKD', title).encode('ascii','ignore')
'Kluft skrams infor pa federal electoral groe'
</code></pre>
"
349,175240,2,18,python,How do I convert a file's format from Unicode to ASCII using Python?,"<p>I use a 3rd party tool that outputs a file in Unicode format.  However, I prefer it to be in ASCII. The tool does not have settings to change the file format.</p>

<p>What is the best way to convert the entire file format using Python?</p>
","<p>Here's some simple (and stupid) code to do encoding translation.  I'm assuming (but you shouldn't) that the input file is in UTF-16 (Windows calls this simply 'Unicode').</p>

<pre><code>input_codec = 'UTF-16'
output_codec = 'ASCII'

unicode_file = open('filename')
unicode_data = unicode_file.read().decode(input_codec)
ascii_file = open('new filename', 'w')
ascii_file.write(unicode_data.write(unicode_data.encode(output_codec)))
</code></pre>

<p>Note that this will not work if there are any characters in the Unicode file that are not also ASCII characters.  You can do the following to turn unrecognized characters into '?'s:</p>

<pre><code>ascii_file.write(unicode_data.write(unicode_data.encode(output_codec, 'replace')))
</code></pre>

<p>Check out <a href=""http://docs.python.org/library/stdtypes.html#str.encode"" rel=""nofollow"">the docs</a> for more simple choices.  If you need to do anything more sophisticated, you may wish to check out <a href=""http://code.activestate.com/recipes/251871/"" rel=""nofollow"">The UNICODE Hammer</a> at the Python Cookbook.</p>
"
350,175240,0,18,python,How do I convert a file's format from Unicode to ASCII using Python?,"<p>I use a 3rd party tool that outputs a file in Unicode format.  However, I prefer it to be in ASCII. The tool does not have settings to change the file format.</p>

<p>What is the best way to convert the entire file format using Python?</p>
","<p>It's important to note that there is no 'Unicode' file format.  Unicode can be encoded to bytes in several different ways.  Most commonly UTF-8 or UTF-16.  You'll need to know which one your 3rd-party tool is outputting.  Once you know that, converting between different encodings is pretty easy:</p>

<pre><code>in_file = open(""myfile.txt"", ""rb"")
out_file = open(""mynewfile.txt"", ""wb"")

in_byte_string = in_file.read()
unicode_string = bytestring.decode('UTF-16')
out_byte_string = unicode_string.encode('ASCII')

out_file.write(out_byte_string)
out_file.close()
</code></pre>

<p>As noted in the other replies, you're probably going to want to supply an error handler to the encode method.  Using 'replace' as the error handler is simple, but will mangle your text if it contains characters that cannot be represented in ASCII.</p>
"
346,175240,11,18,python,How do I convert a file's format from Unicode to ASCII using Python?,"<p>I use a 3rd party tool that outputs a file in Unicode format.  However, I prefer it to be in ASCII. The tool does not have settings to change the file format.</p>

<p>What is the best way to convert the entire file format using Python?</p>
","<p><em>I think this is a deeper issue than you realize</em>. Simply changing the file from Unicode into ASCII is easy, however, getting all of the Unicode characters to translate into reasonable ASCII counterparts (many letters are not available in both encodings) is another.</p>

<p>This Python Unicode tutorial may give you a better idea of what happens to Unicode strings that are translated to ASCII: <a href=""http://www.reportlab.com/i18n/python_unicode_tutorial.html"" rel=""nofollow"">http://www.reportlab.com/i18n/python_unicode_tutorial.html</a></p>

<p><strong>Here's a useful quote from the site:</strong></p>

<blockquote>
  <p>Python 1.6 also gets a ""unicode""
  built-in function, to which you can
  specify the encoding:</p>
</blockquote>

<pre><code>&gt; &gt;&gt;&gt; unicode('hello') u'hello'
&gt; &gt;&gt;&gt; unicode('hello', 'ascii') u'hello'
&gt; &gt;&gt;&gt; unicode('hello', 'iso-8859-1') u'hello'
&gt; &gt;&gt;&gt;
</code></pre>

<blockquote>
  <p>All three of these return the same
  thing, since the characters in 'Hello'
  are common to all three encodings.</p>
  
  <p>Now let's encode something with a
  European accent, which is outside of
  ASCII. What you see at a console may
  depend on your operating system
  locale; Windows lets me type in
  ISO-Latin-1.</p>
</blockquote>

<pre><code>&gt; &gt;&gt;&gt; a = unicode('AndrÃ©','latin-1')
&gt; &gt;&gt;&gt; a u'Andr\202'
</code></pre>

<blockquote>
  <p>If you can't type an acute letter e,
  you can enter the string 'Andr\202',
  which is unambiguous.</p>
  
  <p>Unicode supports all the common
  operations such as iteration and
  splitting. We won't run over them
  here.</p>
</blockquote>
"
347,175240,2,18,python,How do I convert a file's format from Unicode to ASCII using Python?,"<p>I use a 3rd party tool that outputs a file in Unicode format.  However, I prefer it to be in ASCII. The tool does not have settings to change the file format.</p>

<p>What is the best way to convert the entire file format using Python?</p>
","<p>Like this:</p>

<pre><code>uc = open(filename).read().decode('utf8')
ascii = uc.decode('ascii')
</code></pre>

<p>Note, however, that this will <strong>fail</strong> with a <code>UnicodeDecodeError</code> exception if there are any characters that can't be converted to ASCII.</p>

<p>EDIT: As Pete Karl just pointed out, there is no one-to-one mapping from Unicode to ASCII.  So some characters simply can't be converted in an information-preserving way.  Moreover, standard ASCII is more or less a subset of UTF-8, so you don't really even need to do any decoding.</p>
"
40,39960,13,17,python,javascript locals()?,"<p>In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals().  Is there some equivalent way of doing this in javascript?  For instance, I would like to do something like the following:</p>

<pre><code>var foo = function(){ alert('foo'); };
var bar = function(){ alert('bar'); };

var s = 'foo';
locals()[s](); // alerts 'foo'
</code></pre>

<p>Is this at all possible, or should I just be using a local object for the lookup?</p>
","<ul>
<li><p>locals() - No. </p></li>
<li><p>globals() - Yes.</p></li>
</ul>

<p><code>window</code> is a reference to the global scope, like <code>globals()</code> in python.</p>

<pre><code>globals()[""foo""]
</code></pre>

<p>is the same as:</p>

<pre><code>window[""foo""]
</code></pre>
"
688,356090,-1,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>Try converting the exponent to a floating number, as the default behaviour of / in Python is integer division</p>

<p>n**(1/float(3))</p>
"
37,39960,3,17,python,javascript locals()?,"<p>In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals().  Is there some equivalent way of doing this in javascript?  For instance, I would like to do something like the following:</p>

<pre><code>var foo = function(){ alert('foo'); };
var bar = function(){ alert('bar'); };

var s = 'foo';
locals()[s](); // alerts 'foo'
</code></pre>

<p>Is this at all possible, or should I just be using a local object for the lookup?</p>
","<p>I seem to remember Brendan Eich commented on this in a recent podcast; if i recall correctly, it's not being considered, as it adds unreasonable restrictions to optimization. He compared it to the <code>arguments</code> local in that, while useful for varargs, its very existence removes the ability to guess at what a function will touch just by looking at its definition. </p>

<p>BTW: i believe JS <em>did</em> have support for accessing locals through the arguments local at one time - <a href=""http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Functions/arguments"" rel=""nofollow"">a quick search</a> shows this has been deprecated though.</p>
"
38,39960,0,17,python,javascript locals()?,"<p>In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals().  Is there some equivalent way of doing this in javascript?  For instance, I would like to do something like the following:</p>

<pre><code>var foo = function(){ alert('foo'); };
var bar = function(){ alert('bar'); };

var s = 'foo';
locals()[s](); // alerts 'foo'
</code></pre>

<p>Is this at all possible, or should I just be using a local object for the lookup?</p>
","<p>@e-bartek, I think that window[functionName] won't work if you in some closure, and the function name is local to that closure.  For example:</p>

<pre><code>function foo() {
    var bar = function () {
        alert('hello world');
    };
    var s = 'bar';
    window[s](); // this won't work
}
</code></pre>

<p>In this case, s is 'bar', but the function 'bar' only exists inside the scope of the function 'foo'.  It is not defined in the window scope.</p>

<p>Of course, this doesn't really answer the original question, I just wanted to chime in on this response.  I don't believe there is a way to do what the original question asked.</p>
"
39,39960,0,17,python,javascript locals()?,"<p>In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals().  Is there some equivalent way of doing this in javascript?  For instance, I would like to do something like the following:</p>

<pre><code>var foo = function(){ alert('foo'); };
var bar = function(){ alert('bar'); };

var s = 'foo';
locals()[s](); // alerts 'foo'
</code></pre>

<p>Is this at all possible, or should I just be using a local object for the lookup?</p>
","<p>@pkaeding</p>

<p>Yes, you're right. <em>window[functionName]()</em> doesn't work in this case, but <em>eval</em> does. If I needed something like this, I'd create my own object to keep those functions together.</p>

<pre><code>var func = {};
func.bar = ...;
var s = ""bar"";
func[s]();
</code></pre>
"
13,34020,3,17,python,Are Python threads buggy?,"<p>A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether.  What can said about this rumor?</p>
","<p>As far as I know there are no real bugs, but the performance when threading in cPython is really bad (compared to most other threading implementations, but usually good enough if all most of the threads do is block) due to the <a href=""http://docs.python.org/api/threads.html"" rel=""nofollow"">GIL</a> (Global Interpreter Lock), so really it is implementation specific rather than language specific. Jython, for example, does not suffer from this due to using the Java thread model.</p>

<p>See <a href=""http://www.artima.com/weblogs/viewpost.jsp?thread=214235"" rel=""nofollow"">this</a> post on why it is not really feasible to remove the GIL from the cPython implementation, and <a href=""http://www.pyzine.com/Issue001/Section_Articles/article_ThreadingGlobalInterpreter.html"" rel=""nofollow"">this</a> for some practical elaboration and workarounds.</p>

<p>Do a quick google for <a href=""http://www.google.com/search?q=python+gil"" rel=""nofollow"">""Python GIL""</a> for more information.</p>
"
12,34020,-2,17,python,Are Python threads buggy?,"<p>A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether.  What can said about this rumor?</p>
","<p>I've used it in several applications and have never had nor heard of threading being anything other than 100% reliable, as long as you know its limits.  You can't spawn 1000 threads at the same time and expect your program to run properly on Windows, however you can easily write a worker pool and just feed it 1000 operations, and keep everything nice and under control.</p>
"
690,356090,14,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p><a href=""http://code.google.com/p/gmpy/"">Gmpy</a> is a C-coded Python extension module that wraps the GMP library to provide to Python code fast multiprecision arithmetic (integer, rational, and float), random number generation, advanced number-theoretical functions, and more.</p>

<p>Includes a <code>root</code> function:</p>

<blockquote>
  <p>x.root(n): returns a 2-element tuple (y,m), such that y is the
  (possibly truncated) n-th root of x; m, an ordinary Python int,
  is 1 if the root is exact (x==y**n), else 0.  n must be an ordinary
  Python int, >=0.</p>
</blockquote>

<p>For example, 20th root:</p>

<pre><code>&gt;&gt;&gt; import gmpy
&gt;&gt;&gt; i0=11968003966030964356885611480383408833172346450467339251 
&gt;&gt;&gt; m0=gmpy.mpz(i0)
&gt;&gt;&gt; m0
mpz(11968003966030964356885611480383408833172346450467339251L)
&gt;&gt;&gt; m0.root(20)
(mpz(567), 0)
</code></pre>
"
14,34020,43,17,python,Are Python threads buggy?,"<p>A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether.  What can said about this rumor?</p>
","<p>Python threads are good for <strong>concurrent I/O programming</strong>. Threads are swapped out of the CPU as soon as they block waiting for input from file, network, etc. This allows other Python threads to use the CPU while others wait. This would allow you to write a multi-threaded web server or web crawler, for example.</p>

<p>However, Python threads are serialized by the <a href=""http://en.wikipedia.org/wiki/Global_Interpreter_Lock"">GIL</a> when they enter interpreter core. This means that if two threads are crunching numbers, only one can run at any given moment. It also means that you can't take advantage of multi-core or multi-processor architectures.</p>

<p>There are solutions like running multiple Python interpreters concurrently, using a C based threading library. This is not for the faint of heart and the benefits might not be worth the trouble. Let's hope for an all Python solution in a future release.</p>
"
335,173290,17,17,python,python dictionary update method,"<p>I have a list string tag.</p>

<p>I am trying to initialize a dictionary with the key as the tag string and values as the array index.</p>

<pre><code>for i, ithTag in enumerate(tag):
    tagDict.update(ithTag=i)
</code></pre>

<p>The above returns me {'ithTag': 608}  <em>608 is the 608th index</em></p>

<p>My problem is that while the i is being interpreted as a variable, Python is treating the ""ithTag"" as a string instead of a variable.</p>

<p>I'm confused, it is kind of hard to google these kind of specific questions.  I hope I worded the title of this question correctly,</p>

<p>Thanks!</p>
","<p>If you want to be clever:</p>

<pre><code>tagDict.update(map(reversed, enumerate(tag)))
</code></pre>

<p>Thanks to Brian for the update. This is apparently ~5% faster than the iterative version.</p>

<p>(EDIT: Thanks saverio for pointing out my answer was incorrect (now fixed). Probably the most efficient/Pythonic way would be Torsten Marek's answer, slightly modified:</p>

<pre><code>tagDict.update((t, i) for (i,t) in enumerate(tag))
</code></pre>

<p>)</p>
"
336,173290,12,17,python,python dictionary update method,"<p>I have a list string tag.</p>

<p>I am trying to initialize a dictionary with the key as the tag string and values as the array index.</p>

<pre><code>for i, ithTag in enumerate(tag):
    tagDict.update(ithTag=i)
</code></pre>

<p>The above returns me {'ithTag': 608}  <em>608 is the 608th index</em></p>

<p>My problem is that while the i is being interpreted as a variable, Python is treating the ""ithTag"" as a string instead of a variable.</p>

<p>I'm confused, it is kind of hard to google these kind of specific questions.  I hope I worded the title of this question correctly,</p>

<p>Thanks!</p>
","<p>It's a one-liner:</p>

<pre><code>tagDict = dict((t, i) for i, t in enumerate(tag))
</code></pre>
"
689,356090,2,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>In older versions of Python, <code>1/3</code> is equal to 0.  In Python 3.0, <code>1/3</code> is equal to 0.33333333333 (and <code>1//3</code> is equal to 0).</p>

<p>So, either change your code to use <code>1/3.0</code> or switch to Python 3.0 .</p>
"
332,173290,44,17,python,python dictionary update method,"<p>I have a list string tag.</p>

<p>I am trying to initialize a dictionary with the key as the tag string and values as the array index.</p>

<pre><code>for i, ithTag in enumerate(tag):
    tagDict.update(ithTag=i)
</code></pre>

<p>The above returns me {'ithTag': 608}  <em>608 is the 608th index</em></p>

<p>My problem is that while the i is being interpreted as a variable, Python is treating the ""ithTag"" as a string instead of a variable.</p>

<p>I'm confused, it is kind of hard to google these kind of specific questions.  I hope I worded the title of this question correctly,</p>

<p>Thanks!</p>
","<p>You actually want to do this:</p>

<pre><code>for i, tag in enumerate(tag):
    tagDict[tag] = i
</code></pre>

<p>The .update() method is used for updating a dictionary using another dictionary, not for changing a single key/value pair.</p>
"
695,356090,4,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>You can make it run slightly faster by avoiding the while loops in favor of setting low to 10 ** (len(str(x)) / n) and high to low * 10.  Probably better is to replace the len(str(x)) with the bitwise length and using a bit shift.  Based on my tests, I estimate a 5% speedup from the first and a 25% speedup from the second.  If the ints are big enough, this might matter (and the speedups may vary).  Don't trust my code without testing it carefully.  I did some basic testing but may have missed an edge case.  Also, these speedups vary with the number chosen.</p>

<p>If the actual data you're using is much bigger than what you posted here, this change may be worthwhile.</p>

<pre><code>from timeit import Timer

def find_invpow(x,n):
    """"""Finds the integer component of the n'th root of x,
    an integer such that y ** n &lt;= x &lt; (y + 1) ** n.
    """"""
    high = 1
    while high ** n &lt; x:
        high *= 2
    low = high/2
    while low &lt; high:
        mid = (low + high) // 2
        if low &lt; mid and mid**n &lt; x:
            low = mid
        elif high &gt; mid and mid**n &gt; x:
            high = mid
        else:
            return mid
    return mid + 1

def find_invpowAlt(x,n):
    """"""Finds the integer component of the n'th root of x,
    an integer such that y ** n &lt;= x &lt; (y + 1) ** n.
    """"""
    low = 10 ** (len(str(x)) / n)
    high = low * 10

    while low &lt; high:
        mid = (low + high) // 2
        if low &lt; mid and mid**n &lt; x:
            low = mid
        elif high &gt; mid and mid**n &gt; x:
            high = mid
        else:
            return mid
    return mid + 1

x = 237734537465873465
n = 5
tests = 10000

print ""Norm"", Timer('find_invpow(x,n)', 'from __main__ import find_invpow, x,n').timeit(number=tests)
print ""Alt"", Timer('find_invpowAlt(x,n)', 'from __main__ import find_invpowAlt, x,n').timeit(number=tests)
</code></pre>

<p>Norm 0.626754999161</p>

<p>Alt 0.566340923309</p>
"
691,356090,16,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>If it's a REALLY big number. You could use a binary search.</p>

<pre><code>def find_invpow(x,n):
    """"""Finds the integer component of the n'th root of x,
    an integer such that y ** n &lt;= x &lt; (y + 1) ** n.
    """"""
    high = 1
    while high ** n &lt;= x:
        high *= 2
    low = high/2
    while low &lt; high:
        mid = (low + high) // 2
        if low &lt; mid and mid**n &lt; x:
            low = mid
        elif high &gt; mid and mid**n &gt; x:
            high = mid
        else:
            return mid
    return mid + 1
</code></pre>

<p>For example:</p>

<pre><code>&gt;&gt;&gt; x = 237734537465873465
&gt;&gt;&gt; n = 5
&gt;&gt;&gt; y = find_invpow(x,n)
&gt;&gt;&gt; y
2986
&gt;&gt;&gt; y**n &lt;= x &lt;= (y+1)**n
True
&gt;&gt;&gt;
&gt;&gt;&gt; x = 119680039660309643568856114803834088331723464504673392511960931441&gt;
&gt;&gt;&gt; n = 45
&gt;&gt;&gt; y = find_invpow(x,n)
&gt;&gt;&gt; y
227661383982863143360L
&gt;&gt;&gt; y**n &lt;= x &lt; (y+1)**n
True
&gt;&gt;&gt; find_invpow(y**n,n) == y
True
&gt;&gt;&gt;
</code></pre>
"
692,356090,-2,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>Well, if you're not particularly worried about precision, you could convert it to a sting, chop off some digits, use the exponent function, and then multiply the result by the root of how much you chopped off.</p>

<p>E.g. 32123 is about equal to 32 * 1000, the cubic root is about equak to cubic root of 32 * cubic root of 1000.  The latter can be calculated by dividing the number of 0s by 3.</p>

<p>This avoids the need for the use of extension modules.</p>
"
15,34020,7,17,python,Are Python threads buggy?,"<p>A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether.  What can said about this rumor?</p>
","<p>The GIL (Global Interpreter Lock) might be a problem, but the API is quite OK. Try out the excellent <code>processing</code> module, which implements the Threading API for separate processes. I am using that right now (albeit on OS X, have yet to do some testing on Windows) and am really impressed. The Queue class is really saving my bacon in terms of managing complexity!</p>

<p><strong>EDIT</strong>: it seemes the processing module is being included in the standard library as of version 2.6 (<code>import multiprocessing</code>). Joy!</p>
"
16,34020,13,17,python,Are Python threads buggy?,"<p>A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether.  What can said about this rumor?</p>
","<p>The standard implementation of Python (generally known as CPython as it is written in C) uses OS threads, but since there is the <a href=""http://en.wikipedia.org/wiki/Global_Interpreter_Lock"" rel=""nofollow"">Global Interpreter Lock</a>, only one thread at a time is allowed to run Python code.  But within those limitations, the threading libraries are robust and widely used.</p>

<p>If you want to be able to use multiple CPU cores, there are a few options.  One is to use multiple python interpreters concurrently, as mentioned by others.  Another option is to use a different implementation of Python that does not use a GIL.  The two main options are <a href=""http://en.wikipedia.org/wiki/Jython"" rel=""nofollow"">Jython</a> and <a href=""http://en.wikipedia.org/wiki/IronPython"" rel=""nofollow"">IronPython</a>.</p>

<p>Jython is written in Java, and is now fairly mature, though some incompatibilities remain.  For example, the web framework <a href=""http://zyasoft.com/pythoneering/2008/01/django-on-jython-minding-gap.html"" rel=""nofollow"">Django does not run perfectly yet</a>, but is getting closer all the time.  Jython is <a href=""http://mail.python.org/pipermail/python-list/2001-December/116555.html"" rel=""nofollow"">great for thread safety</a>, comes out <a href=""http://blogs.warwick.ac.uk/dwatkins/entry/benchmarking_parallel_python_1_2/"" rel=""nofollow"">better in benchmarks</a> and has a <a href=""http://cgwalters.livejournal.com/17956.html"" rel=""nofollow"">cheeky message for those wanting the GIL</a>.</p>

<p>IronPython uses the .NET framework and is written in C#.  Compatibility is reaching the stage where <a href=""http://www.infoq.com/news/2008/03/django-and-ironpython"" rel=""nofollow"">Django can run on IronPython</a> (at least as a demo) and there are <a href=""http://www.voidspace.org.uk/ironpython/threading.shtml"" rel=""nofollow"">guides to using threads in IronPython</a>.</p>
"
693,356090,3,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>Oh, for numbers <em>that</em> big, you would use the decimal module.</p>

<p>ns: your number as a string</p>

<pre><code>ns = ""11968003966030964356885611480383408833172346450467339251196093144141045683463085291115677488411620264826942334897996389485046262847265769280883237649461122479734279424416861834396522819159219215308460065265520143082728303864638821979329804885526557893649662037092457130509980883789368448042961108430809620626059287437887495827369474189818588006905358793385574832590121472680866521970802708379837148646191567765584039175249171110593159305029014037881475265618958103073425958633163441030267478942720703134493880117805010891574606323700178176718412858948243785754898788359757528163558061136758276299059029113119763557411729353915848889261125855717014320045292143759177464380434854573300054940683350937992500211758727939459249163046465047204851616590276724564411037216844005877918224201569391107769029955591465502737961776799311859881060956465198859727495735498887960494256488224613682478900505821893815926193600121890632""
from decimal import Decimal
d = Decimal(ns)
one_third = Decimal(""0.3333333333333333"")
print d ** one_third
</code></pre>

<p>and the answer is: 2.287391878618402702753613056E+305</p>

<p>TZ pointed out that this isn't accurate... and he's right.  Here's my test.</p>

<pre><code>from decimal import Decimal

def nth_root(num_decimal, n_integer):
    exponent = Decimal(""1.0"") / Decimal(n_integer)
    return num_decimal ** exponent

def test():
    ns = ""11968003966030964356885611480383408833172346450467339251196093144141045683463085291115677488411620264826942334897996389485046262847265769280883237649461122479734279424416861834396522819159219215308460065265520143082728303864638821979329804885526557893649662037092457130509980883789368448042961108430809620626059287437887495827369474189818588006905358793385574832590121472680866521970802708379837148646191567765584039175249171110593159305029014037881475265618958103073425958633163441030267478942720703134493880117805010891574606323700178176718412858948243785754898788359757528163558061136758276299059029113119763557411729353915848889261125855717014320045292143759177464380434854573300054940683350937992500211758727939459249163046465047204851616590276724564411037216844005877918224201569391107769029955591465502737961776799311859881060956465198859727495735498887960494256488224613682478900505821893815926193600121890632""
    nd = Decimal(ns)
    cube_root = nth_root(nd, 3)
    print (cube_root ** Decimal(""3.0"")) - nd

if __name__ == ""__main__"":
    test()
</code></pre>

<p>It's off by about 10**891</p>
"
107,79850,-2,17,python,How do you design data models for Bigtable/Datastore (GAE)?,"<p>Since the Google App Engine Datastore is based on <a href=""http://research.google.com/archive/bigtable.html"">Bigtable</a> and we know that's not a relational database, how do you design a <strong><em>database schema</em>/*data model*</strong> for applications that use this type of database system?</p>
","<p>As GAE builds on how data is managed in Django there is a lot of info on how to address similar questions in the Django documentation (for example see <a href=""http://www.djangobook.com/en/1.0/chapter05/"" rel=""nofollow"">here</a>, scroll down to 'Your first model').</p>

<p>In short you design you db model as a regular object model and let GAE sort out all of the object-relational mappings. </p>
"
36,39960,0,17,python,javascript locals()?,"<p>In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals().  Is there some equivalent way of doing this in javascript?  For instance, I would like to do something like the following:</p>

<pre><code>var foo = function(){ alert('foo'); };
var bar = function(){ alert('bar'); };

var s = 'foo';
locals()[s](); // alerts 'foo'
</code></pre>

<p>Is this at all possible, or should I just be using a local object for the lookup?</p>
","<p>AFAIK, no. If you just want to check the existence of a given variable, you can do it by testing for it, something like this:</p>

<pre><code>if (foo) foo();
</code></pre>
"
694,356090,2,17,python,How to compute the nth root of a very big integer,"<p>I need a way to compute the nth root of a long integer in Python. </p>

<p>I tried <code>pow(m, 1.0/n)</code>, but it doesn't work:</p>

<blockquote>
  <p>OverflowError: long int too large to convert to float</p>
</blockquote>

<p>Any ideas?</p>

<p>By long integer I mean REALLY long integers like:</p>

<blockquote>
  <p>11968003966030964356885611480383408833172346450467339251
  196093144141045683463085291115677488411620264826942334897996389
  485046262847265769280883237649461122479734279424416861834396522
  819159219215308460065265520143082728303864638821979329804885526
  557893649662037092457130509980883789368448042961108430809620626
  059287437887495827369474189818588006905358793385574832590121472
  680866521970802708379837148646191567765584039175249171110593159
  305029014037881475265618958103073425958633163441030267478942720
  703134493880117805010891574606323700178176718412858948243785754
  898788359757528163558061136758276299059029113119763557411729353
  915848889261125855717014320045292143759177464380434854573300054
  940683350937992500211758727939459249163046465047204851616590276
  724564411037216844005877918224201569391107769029955591465502737
  961776799311859881060956465198859727495735498887960494256488224
  613682478900505821893815926193600121890632</p>
</blockquote>
","<p>Possibly for your curiosity:</p>

<p><a href=""http://en.wikipedia.org/wiki/Hensel_Lifting"" rel=""nofollow"">http://en.wikipedia.org/wiki/Hensel_Lifting</a></p>

<p>This could be the technique that Maple would use to actually find the nth root of large numbers.</p>

<p>Pose the fact that <code>x^n - 11968003.... = 0 mod p</code>, and go from there...</p>
"
333,173290,2,17,python,python dictionary update method,"<p>I have a list string tag.</p>

<p>I am trying to initialize a dictionary with the key as the tag string and values as the array index.</p>

<pre><code>for i, ithTag in enumerate(tag):
    tagDict.update(ithTag=i)
</code></pre>

<p>The above returns me {'ithTag': 608}  <em>608 is the 608th index</em></p>

<p>My problem is that while the i is being interpreted as a variable, Python is treating the ""ithTag"" as a string instead of a variable.</p>

<p>I'm confused, it is kind of hard to google these kind of specific questions.  I hope I worded the title of this question correctly,</p>

<p>Thanks!</p>
","<p>I think this is what you want to do:</p>

<pre><code>d = {}
for i, tag in enumerate(ithTag):
   d[tag] = i
</code></pre>
"
109,79850,1,17,python,How do you design data models for Bigtable/Datastore (GAE)?,"<p>Since the Google App Engine Datastore is based on <a href=""http://research.google.com/archive/bigtable.html"">Bigtable</a> and we know that's not a relational database, how do you design a <strong><em>database schema</em>/*data model*</strong> for applications that use this type of database system?</p>
","<p>You can use www.web2py.com. You build the model and the application once and it works on GAE but also witl SQLite, MySQL, Posgres, Oracle, MSSQL, FireBird</p>
"
35,39960,4,17,python,javascript locals()?,"<p>In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals().  Is there some equivalent way of doing this in javascript?  For instance, I would like to do something like the following:</p>

<pre><code>var foo = function(){ alert('foo'); };
var bar = function(){ alert('bar'); };

var s = 'foo';
locals()[s](); // alerts 'foo'
</code></pre>

<p>Is this at all possible, or should I just be using a local object for the lookup?</p>
","<p>Well, I don't think that there is something like that in js. You can always use eval instead of locals(). Like this: </p>

<pre><code>eval(s+""()"");
</code></pre>

<p>You just have to know that actually function <em>foo</em> exists.</p>

<p><strong>Edit:</strong></p>

<p>Don't use eval:) Use:</p>

<pre><code>var functionName=""myFunctionName"";
window[functionName]();
</code></pre>
"
108,79850,18,17,python,How do you design data models for Bigtable/Datastore (GAE)?,"<p>Since the Google App Engine Datastore is based on <a href=""http://research.google.com/archive/bigtable.html"">Bigtable</a> and we know that's not a relational database, how do you design a <strong><em>database schema</em>/*data model*</strong> for applications that use this type of database system?</p>
","<p>Designing a bigtable schema is an open process, and basically requires you to think about:</p>

<ul>
<li>The access patterns you will be using and how often each will be used</li>
<li>The relationships between your types</li>
<li>What indices you are going to need</li>
<li>The write patterns you will be using (in order to effectively spread load)</li>
</ul>

<p>GAE's datastore automatically denormalizes your data. That is, each index contains a (mostly) complete copy of the data, and thus every index adds significantly to time taken to perform a write, and the storage space used.</p>

<p>If this were not the case, designing a Datastore schema would be a lot more work: You would have to think carefully about the primary key for each type, and consider the effect of your decision on the locality of data. For example, when rendering a blog post you would probably need to display the comments to go along with it, so each comment's key would probably begin with the associated post's key.</p>

<p>With Datastore, this is not such a big deal: The query you use will look something like ""Select * FROM Comment WHERE post_id = N."" (If you want to page the comments, you would also have a limit clause, and a possible suffix of "" AND comment_id > last_comment_id"".) Once you add such a query, Datastore will build the index for you, and your reads will be magically fast.</p>

<p>Something to keep in mind is that each additional index creates some additional cost: it is best if you can use as few access patterns as possible, since it will reduce the number of indices GAE will construct, and thus the total storage required by your data.</p>

<p>Reading over this answer, I find it a little vague. Maybe a hands-on design question would help to scope this down? :-)</p>
"
334,173290,2,17,python,python dictionary update method,"<p>I have a list string tag.</p>

<p>I am trying to initialize a dictionary with the key as the tag string and values as the array index.</p>

<pre><code>for i, ithTag in enumerate(tag):
    tagDict.update(ithTag=i)
</code></pre>

<p>The above returns me {'ithTag': 608}  <em>608 is the 608th index</em></p>

<p>My problem is that while the i is being interpreted as a variable, Python is treating the ""ithTag"" as a string instead of a variable.</p>

<p>I'm confused, it is kind of hard to google these kind of specific questions.  I hope I worded the title of this question correctly,</p>

<p>Thanks!</p>
","<p>Try</p>

<pre><code>tagDict[ithTag] = i
</code></pre>
"
490,249110,3,16,python,Django: Arbitrary number of unnamed urls.py parameters,"<p>I have a Django model with a large number of fields and 20000+ table rows.  To facilitate human readable URLs and the ability to break down the large list into arbitrary sublists, I would like to have a URL that looks like this:</p>

<pre><code>/browse/&lt;name1&gt;/&lt;value1&gt;/&lt;name2&gt;/&lt;value2&gt;/ .... etc ....
</code></pre>

<p>where 'name' maps to a model attribute and 'value' is the search criteria for that attribute.  Each ""name"" will be treated like a category to return subsets of the model instances where the categories match.</p>

<p>Now, this could be handled with GET parameters, but I prefer more readable URLs for both the user's sake and the search engines.  These URLs subsets will be embedded on each page that displays this model, so it seems worth the effort to make pretty URLs.</p>

<p>Ideally each name/value pair will be passed to the view function as a parameter named <code>name1</code>, <code>name2</code>, etc.  However, I don't believe it's possible to defined named patterns via a regex's matched text.  Am I wrong there?</p>

<p>So, it seems I need to do something like this:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/(?:([\w]+)/([\w]+)/)+$', 'app.views.view', name=""model_browse""),
)
</code></pre>

<p>It seems this should match any sets of two name/value pairs.  While it matches it successfully, it only passes the last name/value pair as parameters to the view function.  My guess is that each match is overwriting the previous match.  Under the guess that the containing (?:...)+ is causing it, I tried a simple repeating pattern instead:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/([\w]+/)+$', 'app.views.view', name=""model_browse""),
)
</code></pre>

<p>... and got the same problem, but this time <code>*args</code> only includes the last matched pattern.</p>

<p>Is this a limitation of Django's url dispatcher, and/or Python's regex support?  It seems either of these methods should work.  Is there a way to achieve this without hardcoding each possible model attribute in the URL as an optional (.*) pattern?</p>
","<p>I agree with Adam, but I think the pattern in urls.py should be:</p>

<pre><code>... r'^browse/(?P&lt;match&gt;.+)/$' ...
</code></pre>

<p>The '\w' will only match 'word' characters, but the '.' will match anything.</p>
"
491,249110,0,16,python,Django: Arbitrary number of unnamed urls.py parameters,"<p>I have a Django model with a large number of fields and 20000+ table rows.  To facilitate human readable URLs and the ability to break down the large list into arbitrary sublists, I would like to have a URL that looks like this:</p>

<pre><code>/browse/&lt;name1&gt;/&lt;value1&gt;/&lt;name2&gt;/&lt;value2&gt;/ .... etc ....
</code></pre>

<p>where 'name' maps to a model attribute and 'value' is the search criteria for that attribute.  Each ""name"" will be treated like a category to return subsets of the model instances where the categories match.</p>

<p>Now, this could be handled with GET parameters, but I prefer more readable URLs for both the user's sake and the search engines.  These URLs subsets will be embedded on each page that displays this model, so it seems worth the effort to make pretty URLs.</p>

<p>Ideally each name/value pair will be passed to the view function as a parameter named <code>name1</code>, <code>name2</code>, etc.  However, I don't believe it's possible to defined named patterns via a regex's matched text.  Am I wrong there?</p>

<p>So, it seems I need to do something like this:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/(?:([\w]+)/([\w]+)/)+$', 'app.views.view', name=""model_browse""),
)
</code></pre>

<p>It seems this should match any sets of two name/value pairs.  While it matches it successfully, it only passes the last name/value pair as parameters to the view function.  My guess is that each match is overwriting the previous match.  Under the guess that the containing (?:...)+ is causing it, I tried a simple repeating pattern instead:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/([\w]+/)+$', 'app.views.view', name=""model_browse""),
)
</code></pre>

<p>... and got the same problem, but this time <code>*args</code> only includes the last matched pattern.</p>

<p>Is this a limitation of Django's url dispatcher, and/or Python's regex support?  It seems either of these methods should work.  Is there a way to achieve this without hardcoding each possible model attribute in the URL as an optional (.*) pattern?</p>
","<p>Same answer came to me while reading the question.</p>

<p>I believe model_browse view is the best way to sort the query parameters and use it as a generic router.</p>
"
148,91810,10,16,python,Is there a pretty printer for python data?,"<p>Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.)
The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it.</p>

<p>Is there something that will take any python object and display it in a more rational manner. e.g.</p>

<pre><code>[0, 1,
    [a, b, c],
    2, 3, 4]
</code></pre>

<p>instead of:</p>

<pre><code>[0, 1, [a, b, c], 2, 3, 4]
</code></pre>

<p>I know that's not a very good example, but I think you get the idea.</p>
","<p>Somtimes <a href=""http://pyyaml.org/"">YAML</a> can be good for this.</p>

<pre><code>import yaml
a = [0, 1, ['a', 'b', 'c'], 2, 3, 4]
print yaml.dump(a)
</code></pre>

<p>Produces:</p>

<pre><code>- 0
- 1
- [a, b, c]
- 2
- 3
- 4
</code></pre>
"
489,249110,11,16,python,Django: Arbitrary number of unnamed urls.py parameters,"<p>I have a Django model with a large number of fields and 20000+ table rows.  To facilitate human readable URLs and the ability to break down the large list into arbitrary sublists, I would like to have a URL that looks like this:</p>

<pre><code>/browse/&lt;name1&gt;/&lt;value1&gt;/&lt;name2&gt;/&lt;value2&gt;/ .... etc ....
</code></pre>

<p>where 'name' maps to a model attribute and 'value' is the search criteria for that attribute.  Each ""name"" will be treated like a category to return subsets of the model instances where the categories match.</p>

<p>Now, this could be handled with GET parameters, but I prefer more readable URLs for both the user's sake and the search engines.  These URLs subsets will be embedded on each page that displays this model, so it seems worth the effort to make pretty URLs.</p>

<p>Ideally each name/value pair will be passed to the view function as a parameter named <code>name1</code>, <code>name2</code>, etc.  However, I don't believe it's possible to defined named patterns via a regex's matched text.  Am I wrong there?</p>

<p>So, it seems I need to do something like this:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/(?:([\w]+)/([\w]+)/)+$', 'app.views.view', name=""model_browse""),
)
</code></pre>

<p>It seems this should match any sets of two name/value pairs.  While it matches it successfully, it only passes the last name/value pair as parameters to the view function.  My guess is that each match is overwriting the previous match.  Under the guess that the containing (?:...)+ is causing it, I tried a simple repeating pattern instead:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/([\w]+/)+$', 'app.views.view', name=""model_browse""),
)
</code></pre>

<p>... and got the same problem, but this time <code>*args</code> only includes the last matched pattern.</p>

<p>Is this a limitation of Django's url dispatcher, and/or Python's regex support?  It seems either of these methods should work.  Is there a way to achieve this without hardcoding each possible model attribute in the URL as an optional (.*) pattern?</p>
","<p>A possibility that you might consider is matching the entire string of possible values within the url pattern portion and pull out the specific pieces within your view.  As an example:</p>

<pre><code>urlpatterns = patterns('',
    url(r'^browse/(?P&lt;match&gt;.+)/$', 'app.views.view', name='model_browse'),
)

def view(request, match):
    pieces = match.split('/')
    # even indexed pieces are the names, odd are values
    ...
</code></pre>

<p>No promises about the regexp I used, but I think you understand what I mean.</p>

<p>(Edited to try and fix the regexp.)</p>
"
160,92230,1,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>Search ""Alex Martelli"", ""Alex Martelli patterns"" and ""Thomas Wouters"" on Google video. There's plenty of interesting talks on andvanced Python, design patterns in Python, and so on.</p>
"
158,92230,2,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>I'll plug <a href=""http://homepage.mac.com/s_lott/books/python.html"" rel=""nofollow"">Building Skills in Python</a>.   Plus, if you want something more challenging, <a href=""http://homepage.mac.com/s_lott/books/oodesign.html"" rel=""nofollow"">Building Skills in OO Design</a> is a rather large and complex series of exercises.</p>
"
159,92230,2,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p><em>The Python Cookbook</em> is absolutely essential if you want to master idiomatic Python. Besides, that's the book that made me fall in love with the language.</p>
"
154,92230,5,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>Depending on exactly what you mean by ""gotten to grips with the basics"", I'd suggest reading through <a href=""http://www.diveintopython.net/"" rel=""nofollow"">Dive Into Python</a> and typing/executing all the chapter code, then get something like <a href=""http://www.amazon.co.uk/Programming-Collective-Intelligence-Building-Applications/dp/0596529325/"" rel=""nofollow"">Programming Collective Intelligence</a> and working through it - you'll learn python quite well, not to mention some quite excellent algorithms that'll come in handy to a web developer.</p>
"
157,92230,1,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>People tend to say something along the lines of ""The best way to learn is by doing"" but I've always found that unless you're specifically learning a language to contribute to some project it's difficult to actually find little problems to tackle to keep yourself going.</p>

<p>A good solution to this is <a href=""http://projecteuler.net/"" rel=""nofollow"">Project Euler</a>, which has a list of various programming\mathematics challenges ranging from simple  to quite brain-taxing. As an example, the first challenge is:</p>

<blockquote>
  <p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.</p>
</blockquote>

<p>And by problem #50 it's already getting a little tougher</p>

<blockquote>
  <p>Which prime, below one-million, can be written as the sum of the most consecutive primes</p>
</blockquote>

<p>There are 208 in total, but I think some new ones get added here and there.</p>

<p>While I already knew python fairly well before starting Project Euler, I found that I learned some cool tricks purely through using the language so much. Good luck!</p>
"
156,92230,1,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>Write a web app, likely in <a href=""http://www.djangoproject.com/"" rel=""nofollow"">Django</a> - the <a href=""http://docs.djangoproject.com/"" rel=""nofollow"">docs</a> will teach you a lot of good Python style.</p>

<p>Use some of the popular libraries like <a href=""http://pygments.org/"" rel=""nofollow"">Pygments</a> or the <a href=""http://www.feedparser.org/"" rel=""nofollow"">Universal Feed Parser</a>. Both of these make extremely useful functions, which are hard to get right, available in a well-documented API.</p>

<p>In general, I'd stay away from libs that aren't well documented -
you'll bang your head on the wall trying to reverse-engineer them -
and libraries that are wrappers around C libraries, if you don't have
any C experience. I worked on wxPython code when I was still learning
Python, which was my first language, and at the time it was little
more than a wrapper around wxWidgets. That code was easily the ugliest
I've ever written.</p>

<p>I didn't get that much out of Dive Into Python, except for the dynamic import chapter - that's not really well-documented elsewhere.</p>
"
155,92230,14,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>Well, there are great ressources for advanced Python programming :</p>

<ul>
<li>Dive Into Python (<a href=""http://www.diveintopython.net/"">read it for free</a>)</li>
<li>Online python cookbooks (e.g. <a href=""http://code.activestate.com/recipes/langs/python/"">here</a> and <a href=""http://the.taoofmac.com/space/Python/Grimoire"">there</a>)</li>
<li>O'Reilly's Python Cookbook (see amazon)</li>
<li>A funny riddle game : <a href=""http://www.pythonchallenge.com/"">Python Challenge</a> </li>
</ul>

<p>Here is a list of subjects you must master if you want to write ""Python"" on your resume :</p>

<ul>
<li><a href=""http://docs.python.org/tutorial/datastructures.html#list-comprehensions"">list comprehensions</a></li>
<li><a href=""http://stackoverflow.com/questions/231767/the-python-yield-keyword-explained/231855#231855"">iterators and generators</a></li>
<li><a href=""http://stackoverflow.com/questions/739654/understanding-python-decorators/1594484#1594484"">decorators</a></li>
</ul>

<p>They are what make Python such a cool language (with the standard library of course, that I keep discovering everyday).</p>
"
147,91810,3,16,python,Is there a pretty printer for python data?,"<p>Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.)
The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it.</p>

<p>Is there something that will take any python object and display it in a more rational manner. e.g.</p>

<pre><code>[0, 1,
    [a, b, c],
    2, 3, 4]
</code></pre>

<p>instead of:</p>

<pre><code>[0, 1, [a, b, c], 2, 3, 4]
</code></pre>

<p>I know that's not a very good example, but I think you get the idea.</p>
","<p>Another good option is to use <a href=""http://ipython.scipy.org/moin/"" rel=""nofollow"">IPython</a>, which is an interactive environment with a lot of extra features, including automatic pretty printing, tab-completion of methods, easy shell access, and a lot more.  It's also very easy to install.  </p>

<p><a href=""http://ipython.scipy.org/doc/manual/html/interactive/tutorial.html"" rel=""nofollow"">IPython tutorial</a></p>
"
153,92230,2,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>I honestly loved the book <a href=""http://rads.stackoverflow.com/amzn/click/0596009259"" rel=""nofollow"">Programming Python.</a> It has a large assortment of small projects, most of which can be completed in an evening at a leisurely pace.  They get you acquainted with most of the standard library and will likely hold your interest.  Most importantly these small projects are actually useful in a ""day to day"" sense.  The book pretty much only assumes you know and understand the bare essentials of Python as a language, rather than knowledge of it's huge API library.</p>

<p>I think you'll find it'll be well worth working through.</p>
"
146,91810,24,16,python,Is there a pretty printer for python data?,"<p>Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.)
The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it.</p>

<p>Is there something that will take any python object and display it in a more rational manner. e.g.</p>

<pre><code>[0, 1,
    [a, b, c],
    2, 3, 4]
</code></pre>

<p>instead of:</p>

<pre><code>[0, 1, [a, b, c], 2, 3, 4]
</code></pre>

<p>I know that's not a very good example, but I think you get the idea.</p>
","<pre><code>from pprint import pprint
a = [0, 1, ['a', 'b', 'c'], 2, 3, 4]
pprint(a)
</code></pre>

<p>Note that for a short list like my example, pprint will in fact print it all on one line. However, for more complex structures it does a pretty good job of pretty printing data.</p>
"
151,92230,1,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>I'd suggest writing a non-trivial webapp using either Django or Pylons, something that does some number crunching.
No better way to learn a new language than commiting yourself to a problem and learning as you go!</p>
"
149,91810,8,16,python,Is there a pretty printer for python data?,"<p>Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.)
The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it.</p>

<p>Is there something that will take any python object and display it in a more rational manner. e.g.</p>

<pre><code>[0, 1,
    [a, b, c],
    2, 3, 4]
</code></pre>

<p>instead of:</p>

<pre><code>[0, 1, [a, b, c], 2, 3, 4]
</code></pre>

<p>I know that's not a very good example, but I think you get the idea.</p>
","<p>In addition to <code>pprint.pprint</code>, <code>pprint.pformat</code> is really useful for making readable <code>__repr__</code>s. My complex <code>__repr__</code>s usually look like so:</p>

<pre><code>def __repr__(self):
    from pprint import pformat

    return ""&lt;ClassName %s&gt;"" % pformat({""attrs"":self.attrs,
                                       ""that_i"":self.that_i,
                                       ""care_about"":self.care_about})
</code></pre>
"
152,92230,3,16,python,"Python, beyond the basics","<p>I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.</p>
","<p>Something great to play around with, though not a project, is <a href=""http://pythonchallenge.com"" rel=""nofollow"">The Python Challenge</a>.  I've found it quite useful in improving my python skills, and it gives your brain a good workout at the same time.</p>
"
871,437160,6,16,python,IronPython Webframework,"<p>There seem to be many excellent web frameworks for Python.  Has anyone used any of these (Pylons, Web2Py, Django) with IronPython?</p>
","<p>Django <a href=""http://unbracketed.org/2008/mar/16/pycon-2008-django-now-plays-dark-side/"">has been run on IronPython</a> before, but as a proof-of-concept. I know the IronPython team are interested in Django support as a metric for Python-compatibility.</p>

<p>Somewhat related is the possibility to use <a href=""http://haacked.com/archive/2008/09/23/refreshing-asp.net-dynamic-language-support.aspx"">IronPython with ASP.NET and ASP.NET MVC</a>, which is probably more mature.</p>
"
911,452610,11,16,python,How do I create a list of Python lambdas (in a list comprehension/for loop)?,"<p>I want to create a list of lambda objects from a list of constants in Python; for instance:</p>

<pre><code>listOfNumbers = [1,2,3,4,5]
square = lambda x: x * x
listOfLambdas = [lambda: square(i) for i in listOfNumbers]
</code></pre>

<p>This will create a list of lambda objects, however, when I run them:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>I would expect that it would print</p>

<pre><code>1 4 9 16 25
</code></pre>

<p>Instead, it prints:</p>

<pre><code>25 25 25 25 25
</code></pre>

<p>It seems as though the lambdas have all been given the wrong parameter. Have I done something wrong, and is there a way to fix it? I'm in Python 2.4 I think.</p>

<p>EDIT: a bit more of trying things and such came up with this:</p>

<pre><code>listOfLambdas = []
for num in listOfNumbers:
    action = lambda: square(num)
    listOfLambdas.append(action)
    print action()
</code></pre>

<p>Prints the expected squares from 1 to 25, but then using the earlier print statement:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>still gives me all <code>25</code>s. How did the existing lambda objects change between those two print calls?</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/139819/why-results-of-map-and-list-comprehension-are-different"">Why results of map() and list comprehension are different?</a></p>
","<p>I'm guessing that the lambda you're creating in the list comprehension is bound to the variable i which eventually ends up at 5. Thus, when you evaluate the lambdas after the fact, they're all bound to 5 and end up calculating 25. The same thing is happening with num in your second example. When you evaluate the lambda inside the loop it's num hasn't changed so you get the right value. After the loop, num is 5...</p>

<p>I'm not quite sure what you're going for, so I'm not sure how to suggest a solution. How about this?</p>

<pre><code>def square(x): return lambda : x*x
listOfLambdas = [square(i) for i in [1,2,3,4,5]]
for f in listOfLambdas: print f()
</code></pre>

<p>This gives me the expected output:</p>

<pre><code>1
4
9
16
25
</code></pre>

<p>Another way to think of this is that a lambda ""captures"" its lexical environment at the point where it is created. So, if you give it <strong>num</strong> it doesn't actually resolve that value until its invoked. This is both confusing and powerful.</p>
"
444,226510,29,16,python,Django Forms - How to Use Prefix Parameter,"<p>Say I have a form like:</p>

<pre><code>class GeneralForm(forms.Form):
    field1 = forms.IntegerField(required=False)
    field2 = forms. IntegerField(required=False)
</code></pre>

<p>And I want to show it twice on a page within one form tag each time with a different prefix e.g.,:</p>

<pre><code>rest of page ...
&lt;form ..&gt;
GeneralForm(data,prefix=""form1"").as_table()
GeneralForm(data,prefix=""form2"").as_table()
&lt;input type=""submit"" /&gt;
&lt;/form&gt;
rest of page ...
</code></pre>

<p>When the user submits this, how do I get the submitted form back into two separate forms to do validation, and redisplay it?</p>

<p><a href=""http://docs.djangoproject.com/en/dev/ref/forms/api/#prefixes-for-forms"">This was the only documentation</a> I could find and it's peckish.</p>
","<p>You process each form as you normally would, ensuring that you create instances which have the same prefixes as those used to generate the form initially.</p>

<p>Here's a slightly awkward example using the form you've given, as I don't know what the exact use case is:</p>

<pre><code>def some_view(request):
    if request.method == 'POST':
        form1 = GeneralForm(request.POST, prefix='form1')
        form2 = GeneralForm(request.POST, prefix='form2')
        if all([form1.is_valid(), form2.is_valid()]):
            pass # Do stuff with the forms
    else:
        form1 = GeneralForm(prefix='form1')
        form2 = GeneralForm(prefix='form2')
    return render_to_response('some_template.html', {
        'form1': form1,
        'form2': form2,
    })
</code></pre>

<p>Here's some real-world sample code which demonstrates processing forms using the prefix:</p>

<p><a href=""http://collingrady.wordpress.com/2008/02/18/editing-multiple-objects-in-django-with-newforms/"">http://collingrady.wordpress.com/2008/02/18/editing-multiple-objects-in-django-with-newforms/</a></p>
"
912,452610,0,16,python,How do I create a list of Python lambdas (in a list comprehension/for loop)?,"<p>I want to create a list of lambda objects from a list of constants in Python; for instance:</p>

<pre><code>listOfNumbers = [1,2,3,4,5]
square = lambda x: x * x
listOfLambdas = [lambda: square(i) for i in listOfNumbers]
</code></pre>

<p>This will create a list of lambda objects, however, when I run them:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>I would expect that it would print</p>

<pre><code>1 4 9 16 25
</code></pre>

<p>Instead, it prints:</p>

<pre><code>25 25 25 25 25
</code></pre>

<p>It seems as though the lambdas have all been given the wrong parameter. Have I done something wrong, and is there a way to fix it? I'm in Python 2.4 I think.</p>

<p>EDIT: a bit more of trying things and such came up with this:</p>

<pre><code>listOfLambdas = []
for num in listOfNumbers:
    action = lambda: square(num)
    listOfLambdas.append(action)
    print action()
</code></pre>

<p>Prints the expected squares from 1 to 25, but then using the earlier print statement:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>still gives me all <code>25</code>s. How did the existing lambda objects change between those two print calls?</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/139819/why-results-of-map-and-list-comprehension-are-different"">Why results of map() and list comprehension are different?</a></p>
","<p>I sometimes find that defining actual classes for function objects makes it easier to understand what's going on:</p>

<pre><code>&gt;&gt;&gt; class square(object):
...   def __init__(self, val):
...     self.val = val
...   def __call__(self):
...     return self.val * self.val
...
&gt;&gt;&gt; l = [1,2,3,4,5]
&gt;&gt;&gt; funcs = [square(i) for i in l]
&gt;&gt;&gt; for f in funcs:
...   print f()
...
1
4
9
16
25
&gt;&gt;&gt;
</code></pre>

<p>Granted, it's a bit more verbose than using lambdas or closures, but I find this easier to understand when I'm trying to do non-obvious things with functions.</p>
"
913,452610,17,16,python,How do I create a list of Python lambdas (in a list comprehension/for loop)?,"<p>I want to create a list of lambda objects from a list of constants in Python; for instance:</p>

<pre><code>listOfNumbers = [1,2,3,4,5]
square = lambda x: x * x
listOfLambdas = [lambda: square(i) for i in listOfNumbers]
</code></pre>

<p>This will create a list of lambda objects, however, when I run them:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>I would expect that it would print</p>

<pre><code>1 4 9 16 25
</code></pre>

<p>Instead, it prints:</p>

<pre><code>25 25 25 25 25
</code></pre>

<p>It seems as though the lambdas have all been given the wrong parameter. Have I done something wrong, and is there a way to fix it? I'm in Python 2.4 I think.</p>

<p>EDIT: a bit more of trying things and such came up with this:</p>

<pre><code>listOfLambdas = []
for num in listOfNumbers:
    action = lambda: square(num)
    listOfLambdas.append(action)
    print action()
</code></pre>

<p>Prints the expected squares from 1 to 25, but then using the earlier print statement:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>still gives me all <code>25</code>s. How did the existing lambda objects change between those two print calls?</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/139819/why-results-of-map-and-list-comprehension-are-different"">Why results of map() and list comprehension are different?</a></p>
","<p>You have:</p>

<pre><code>listOfLambdas = [lambda: i*i for i in range(6)]

for f in listOfLambdas:
    print f()
</code></pre>

<p>Output:</p>

<pre><code>25
25
25
25
25
25
</code></pre>

<p>You need currying!  Aside from being delicious, use this default value ""hack"".</p>

<pre><code>listOfLambdas = [lambda i=i: i*i for i in range(6)]

for f in listOfLambdas:
    print f()
</code></pre>

<p>Output:</p>

<pre><code>0
1
4
9
16
25
</code></pre>

<p>Note the <code>i=i</code>.  That's where the magic happens.  </p>
"
915,452610,3,16,python,How do I create a list of Python lambdas (in a list comprehension/for loop)?,"<p>I want to create a list of lambda objects from a list of constants in Python; for instance:</p>

<pre><code>listOfNumbers = [1,2,3,4,5]
square = lambda x: x * x
listOfLambdas = [lambda: square(i) for i in listOfNumbers]
</code></pre>

<p>This will create a list of lambda objects, however, when I run them:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>I would expect that it would print</p>

<pre><code>1 4 9 16 25
</code></pre>

<p>Instead, it prints:</p>

<pre><code>25 25 25 25 25
</code></pre>

<p>It seems as though the lambdas have all been given the wrong parameter. Have I done something wrong, and is there a way to fix it? I'm in Python 2.4 I think.</p>

<p>EDIT: a bit more of trying things and such came up with this:</p>

<pre><code>listOfLambdas = []
for num in listOfNumbers:
    action = lambda: square(num)
    listOfLambdas.append(action)
    print action()
</code></pre>

<p>Prints the expected squares from 1 to 25, but then using the earlier print statement:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>still gives me all <code>25</code>s. How did the existing lambda objects change between those two print calls?</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/139819/why-results-of-map-and-list-comprehension-are-different"">Why results of map() and list comprehension are different?</a></p>
","<p>When function statements are executed they are bound to their (lexically) enclosing scope.</p>

<p>In your snippet, the lambdas are bound to the global scope, because <code>for</code> suites are not executed as an independently scoped unit in Python. At the end of the <code>for</code> loop, the <code>num</code> is bound in the enclosing scope. Demo:</p>

<pre><code>for num in range(1, 6):
    pass
assert num == 5 # num is now bound in the enclosing scope
</code></pre>

<p>So when you bind identifiers in the <code>for</code> loop you're actually manipulating the enclosing scope.</p>

<pre><code>for num in range(1, 6):
    spam = 12
assert num == 5 # num is now bound in the enclosing scope
assert spam == 12 # spam is also bound in the enclosing scope
</code></pre>

<p>Same deal for list comprehensions:</p>

<pre><code>[num for num in range(1, 6)]
assert num == 5
</code></pre>

<p>Mind blowing, I know. Anywho, with our newfound knowledge, we can determine that the lambdas you are creating are referring to the (single) <code>num</code> identifier bound in the enclosing scope. That should make this make more sense:</p>

<pre><code>functions = []
for number in range(1, 6):
    def fun():
        return number
    functions.append(fun)
assert all(fun() == 5 for fun in functions)
assert all(fun() is number for fun in functions)
</code></pre>

<p>And here's the coolest part that demonstrates it even more:</p>

<pre><code># Same as above -- commented out for emphasis.
#functions = []
#for number in range(1, 6):
#    def fun():
#        return number
#    functions.append(fun)
#assert all(fun() == 5 for fun in functions)
#assert all(fun() is number for fun in functions)
number = 6 # Rebind 6 in the scope and see how it affects the results.
assert all(fun() == 6 for fun in functions)
</code></pre>

<p>So the solution to this, of course, is to make a new enclosing scope for each <code>number</code> you want to bind. In Python, you can create new enclosing scopes with modules, classes, and functions. It's common to use a function just to create new enclosing scope for another function.</p>

<p>In Python, a <em>closure</em> is a function that <strong>returns another function</strong>. Kind of like a function constructor. Check out <code>get_fun</code> in the following example:</p>

<pre><code>def get_fun(value):
    """""":return: A function that returns :param:`value`.""""""
    def fun(): # Bound to get_fun's scope
        return value
    return fun

functions = []
for number in range(1, 6):
    functions.append(get_fun(number))
assert [fun() for fun in functions] == range(1, 6)
</code></pre>

<p>Since <code>get_fun</code> is a function, it gets to have its own internal scope. Every time you call <code>get_fun</code> with a value, a little table is created to keep track of bindings within it; i.e. it says, ""Within this scope, the <code>value</code> identifier points to the thing that was passed."" That scope goes away at the end of the function execution, unless there's a reason for it to hang around.</p>

<p>If you're returning a function from within a scope, that's a good reason for parts of the ""scope table"" to hang around -- that function you're returning could reference things from that scope table when you call it later on. For that reason, when <code>fun</code> is created within <code>get_fun</code> Python tells <code>fun</code> about <code>get_fun</code>'s scope table, which <code>fun</code> keeps handy for when it's needed.</p>

<p>You can read more about the details and technical terminology (which I softened a bit) in the <a href=""http://docs.python.org/reference/executionmodel.html"" rel=""nofollow"">Python docs on the execution model</a>. You can also look at the parts of the enclosing scope that a function refers to with <code>print fun.__closure__</code>. In the above, we see the reference to the <code>value</code>, which happens to be an int:</p>

<pre><code># Same as before, commented out for emphasis.
#functions = []
#for number in range(1, 6):
#    functions.append(get_fun(number))
#assert [fun() for fun in functions] == range(1, 6)
print functions[0].__closure__
# Produces: (&lt;cell at 0x8dc30: int object at 0x1004188&gt;,)
</code></pre>
"
445,226510,5,16,python,Django Forms - How to Use Prefix Parameter,"<p>Say I have a form like:</p>

<pre><code>class GeneralForm(forms.Form):
    field1 = forms.IntegerField(required=False)
    field2 = forms. IntegerField(required=False)
</code></pre>

<p>And I want to show it twice on a page within one form tag each time with a different prefix e.g.,:</p>

<pre><code>rest of page ...
&lt;form ..&gt;
GeneralForm(data,prefix=""form1"").as_table()
GeneralForm(data,prefix=""form2"").as_table()
&lt;input type=""submit"" /&gt;
&lt;/form&gt;
rest of page ...
</code></pre>

<p>When the user submits this, how do I get the submitted form back into two separate forms to do validation, and redisplay it?</p>

<p><a href=""http://docs.djangoproject.com/en/dev/ref/forms/api/#prefixes-for-forms"">This was the only documentation</a> I could find and it's peckish.</p>
","<p>Even better, I think <a href=""http://docs.djangoproject.com/en/dev/topics/forms/formsets/"">formsets</a> is exactly what you're looking for. </p>

<pre><code>class GeneralForm(forms.Form):
    field1 = forms.IntegerField(required=False)
    field2 = forms. IntegerField(required=False)

from django.forms.formsets import formset_factory

# GeneralSet is a formset with 2 occurrences of GeneralForm 
# ( as a formset allows the user to add new items, this enforces
#   2 fixed items, no less, no more )
GeneralSet = formset_factory(GeneralForm, extra=2, max_num=2)

# example view

def someview(request):
    general_set = GeneralSet(request.POST)
    if general_set.is_valid():
        for form in general_set.forms:
            # do something with data
    return render_to_response(""template.html"", {'form': general_set}, RequestContext(request))
</code></pre>

<p>You can even have a formset automatically generated from a model with <a href=""http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#id1"">modelformset_factory</a> , which are used by the automated django admin. FormSet handle even more stuff than simple forms, like adding, removing and sorting items.</p>
"
872,437160,6,16,python,IronPython Webframework,"<p>There seem to be many excellent web frameworks for Python.  Has anyone used any of these (Pylons, Web2Py, Django) with IronPython?</p>
","<p>You may want to read <a href=""http://groups.google.com/group/web2py/browse_thread/thread/857f9d7bc5c25822/278c5a8e209c83e5?lnk=gst&amp;q=ironpython#278c5a8e209c83e5"">this</a></p>

<p>Basically web2py code runs unmodified and out of the box but with IronPython but</p>

<ul>
<li>no CSV module (so no database IO)</li>
<li>no third party database drivers (not even SQLite, so no databases at all)</li>
<li>no built-in web server (unless you cripple it by removing signals and logging)</li>
</ul>

<p>This is because csv, signals, logging and sqlite are not present in IronPython.
An you can see from the thread above there is work underway to find ways around.</p>

<p>web2py also runs unmodified on Jython 2.5 beta, without any known limitation, except for a bug with regular expressions in Jython that makes it choke on some templates (re.compile(...).finditer goes in a loop). We are working to find a way around for this as well.</p>
"
914,452610,2,16,python,How do I create a list of Python lambdas (in a list comprehension/for loop)?,"<p>I want to create a list of lambda objects from a list of constants in Python; for instance:</p>

<pre><code>listOfNumbers = [1,2,3,4,5]
square = lambda x: x * x
listOfLambdas = [lambda: square(i) for i in listOfNumbers]
</code></pre>

<p>This will create a list of lambda objects, however, when I run them:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>I would expect that it would print</p>

<pre><code>1 4 9 16 25
</code></pre>

<p>Instead, it prints:</p>

<pre><code>25 25 25 25 25
</code></pre>

<p>It seems as though the lambdas have all been given the wrong parameter. Have I done something wrong, and is there a way to fix it? I'm in Python 2.4 I think.</p>

<p>EDIT: a bit more of trying things and such came up with this:</p>

<pre><code>listOfLambdas = []
for num in listOfNumbers:
    action = lambda: square(num)
    listOfLambdas.append(action)
    print action()
</code></pre>

<p>Prints the expected squares from 1 to 25, but then using the earlier print statement:</p>

<pre><code>for f in listOfLambdas:
    print f(),
</code></pre>

<p>still gives me all <code>25</code>s. How did the existing lambda objects change between those two print calls?</p>

<p>Related question: <a href=""http://stackoverflow.com/questions/139819/why-results-of-map-and-list-comprehension-are-different"">Why results of map() and list comprehension are different?</a></p>
","<pre><code>listOfLambdas = [lambda i=i: square(i) for i in listOfNumbers]
</code></pre>

<p>Or</p>

<pre><code>listOfLambdas = map(lambda i: lambda: square(i), listOfNumbers)
</code></pre>
"
827,411810,0,15,python,How do I retrieve a Django model class dynamically?,"<p>Without having the full module path of a Django model, is it possible to do something like:</p>

<pre><code>model = 'User' [in Django namespace]
model.objects.all()
</code></pre>

<p>...as opposed to:</p>

<pre><code>User.objects.all().
</code></pre>

<p>EDIT: I am trying to make this call based on command-line input. Is it possible to avoid the import statement, e.g., </p>

<pre><code>model = django.authx.models.User
</code></pre>

<p>Without Django returning the error:</p>

<pre><code>""global name django is not defined.""
</code></pre>
","<p>Classes are ""first class"" objects in Python, meaning they can be passed around and manipulated just like all other objects.</p>

<p>Models are classes -- you can tell from the fact that you create new models using class statements:</p>

<pre><code>class Person(models.Model):
    last_name = models.CharField(max_length=64)

class AnthropomorphicBear(models.Model):
    last_name = models.CharField(max_length=64)
</code></pre>

<p>Both the <code>Person</code> and <code>AnthropomorphicBear</code> identifiers are bound to Django classes, so you can pass them around. This can useful if you want to create helper functions that work at the model level (and share a common interface):</p>

<pre><code>def print_obj_by_last_name(model, last_name):
    model_name = model.__name__
    matches = model.objects.filter(last_name=last_name).all()
    print('{0}: {1!r}'.format(model_name, matches))
</code></pre>

<p>So <code>print_obj_by_last_name</code> will work with either the <code>Person</code> or <code>AnthropomorphicBear</code> models. Just pass the model in like so:</p>

<pre><code>print_obj_by_last_name(model=Person, last_name='Dole')
print_obj_by_last_name(model=AnthropomorphicBear, last_name='Fozzy')
</code></pre>
"
717,367560,10,15,python,How much input validation should I be doing on my python functions/methods?,"<p>I'm interested in how much up front validation people do in the Python they write.</p>

<p>Here are a few examples of simple functions:</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""

def isPalindrome(inputStr):
    """"""Tests to see if inputStr is the same backwards and forwards.""""""

def sum(nums):
    """"""Same as the built-in sum()... computes the sum of all the numbers passed in.""""""
</code></pre>

<p>How thoroughly do you check the input values before beginning computation, and how do you do your checking? Do you throw some kind of proprietary exception if input is faulty (BadInputException defined in the same module, for example)? Do you just start your calculation and figure it will throw an exception at some point if bad data was passed in (""asd"" to factorial, for example)?</p>

<p>When the passed in value is supposed to be a container do you check not only the container but all the values inside it?</p>

<p>What about situations like factorial, where what's passed in might be convertible to an int (e.g. a float) but you might lose precision when doing so?</p>
","<p>I <code>assert</code> what's absolutely essential.</p>

<p>Important: What's <em>absolutely</em> essential.  Some people over-test things.</p>

<pre><code>def factorial(num):
    assert int(num)
    assert num &gt; 0
</code></pre>

<p>Isn't completely correct.  long is also a legal possibility.</p>

<pre><code>def factorial(num):
    assert type(num) in ( int, long )
    assert num &gt; 0
</code></pre>

<p>Is better, but still not perfect.  Many Python types (like rational numbers, or number-like objects) can also work in a good factorial function.  It's hard to assert that an object has basic integer-like properties without being too specific and eliminating future unthought-of classes from consideration.</p>

<p>I never define unique exceptions for individual functions.  I define a unique exception for a significant module or package.  Usually, however, just an <code>Error</code> class or something similar.  That way the application says <code>except somelibrary.Error,e:</code> which is about all you need to know.  Fine-grained exceptions get fussy and silly.</p>

<p>I've never done this, but I can see places where it might be necessary. </p>

<pre><code>assert all( type(i) in (int,long) for i in someList ) 
</code></pre>

<p>Generally, however, the ordinary Python built-in type checks work fine. They find almost all of the exceptional situations that matter almost all the time.   When something isn't the right type, Python raises a TypeError that always points at the right line of code.</p>

<p>BTW.  I only add asserts at design time if I'm absolutely certain the function will be abused.  I sometimes add assertions later when I have a unit test that fails in an obscure way.</p>
"
580,291740,0,15,python,How do I split a huge text file in python,"<p>I have a huge text file (~1GB) and sadly the text editor I use won't read such a large file.  However, if I can just split it into two or three parts I'll be fine, so, as an exercise I wanted to write a program in python to do it.  </p>

<p>What I think I want the program to do is to find the size of a file, divide that number into parts, and for each part, read up to that point in chunks, writing to a <em>filename</em>.nnn output file, then read up-to the next line-break and write that, then close the output file, etc.  Obviously the last output file just copies to the end of the input file.</p>

<p>Can you help me with the key filesystem related parts: filesize, reading and writing in chunks and reading to a line-break?</p>

<p>I'll be writing this code test-first, so there's no need to give me a complete answer, unless its a one-liner ;-)</p>
","<p>Or, a python version of wc and split:</p>

<pre><code>lines = 0
for l in open(filename): lines += 1
</code></pre>

<p>Then some code to read the first lines/3 into one file, the next lines/3 into another , etc.</p>
"
825,411810,32,15,python,How do I retrieve a Django model class dynamically?,"<p>Without having the full module path of a Django model, is it possible to do something like:</p>

<pre><code>model = 'User' [in Django namespace]
model.objects.all()
</code></pre>

<p>...as opposed to:</p>

<pre><code>User.objects.all().
</code></pre>

<p>EDIT: I am trying to make this call based on command-line input. Is it possible to avoid the import statement, e.g., </p>

<pre><code>model = django.authx.models.User
</code></pre>

<p>Without Django returning the error:</p>

<pre><code>""global name django is not defined.""
</code></pre>
","<p>I think you're looking for this:</p>

<pre><code>from django.db.models.loading import get_model
model = get_model('app_name', 'model_name')
</code></pre>

<p>There are other methods, of course, but this is the way I'd handle it if you don't know what models file you need to import into your namespace.  (Note there's really no way to safely get a model without first knowing what app it belongs to.  Look at the source code to loading.py if you want to test your luck at iterating over all the apps' models.)</p>

<p><strong>Update:</strong> According to Django's <a href=""https://docs.djangoproject.com/en/dev/internals/deprecation/#deprecation-removed-in-1-9"" rel=""nofollow"">deprecation timeline</a>, <code>django.db.models.loading</code> has been deprecated in Django 1.7 and will be removed in Django 1.9. As pointed out in <a href=""http://stackoverflow.com/a/28380435/996114"">Alasdair's answer</a>, a new API for dynamically loading models was added to Django 1.7.</p>
"
826,411810,1,15,python,How do I retrieve a Django model class dynamically?,"<p>Without having the full module path of a Django model, is it possible to do something like:</p>

<pre><code>model = 'User' [in Django namespace]
model.objects.all()
</code></pre>

<p>...as opposed to:</p>

<pre><code>User.objects.all().
</code></pre>

<p>EDIT: I am trying to make this call based on command-line input. Is it possible to avoid the import statement, e.g., </p>

<pre><code>model = django.authx.models.User
</code></pre>

<p>Without Django returning the error:</p>

<pre><code>""global name django is not defined.""
</code></pre>
","<blockquote>
  <p>model = django.authx.models.User</p>
  
  <p>? Django returns an error, ""global
  name django is not defined.""</p>
</blockquote>

<p>Django does not return the error.  Python does.</p>

<p>First, you MUST import the model.  You must import it with</p>

<pre><code>from django.authx.models import User
</code></pre>

<p>Second, if you get an error that <code>django</code> is not defined, then Django is not installed correctly.  You must have Django on your <code>PYTHONPATH</code> or installed in your Python lib/site-packages.</p>

<p>To install Django correctly, see <a href=""http://docs.djangoproject.com/en/dev/intro/install/#intro-install"" rel=""nofollow"">http://docs.djangoproject.com/en/dev/intro/install/#intro-install</a></p>
"
579,291740,3,15,python,How do I split a huge text file in python,"<p>I have a huge text file (~1GB) and sadly the text editor I use won't read such a large file.  However, if I can just split it into two or three parts I'll be fine, so, as an exercise I wanted to write a program in python to do it.  </p>

<p>What I think I want the program to do is to find the size of a file, divide that number into parts, and for each part, read up to that point in chunks, writing to a <em>filename</em>.nnn output file, then read up-to the next line-break and write that, then close the output file, etc.  Obviously the last output file just copies to the end of the input file.</p>

<p>Can you help me with the key filesystem related parts: filesize, reading and writing in chunks and reading to a line-break?</p>

<p>I'll be writing this code test-first, so there's no need to give me a complete answer, unless its a one-liner ;-)</p>
","<p>You can use <code>wc</code> and <code>split</code> (see the respective manpages) to get the desired effect.  In <code>bash</code>:</p>

<pre><code>split -dl$((`wc -l 'filename'|sed 's/ .*$//'` / 3 + 1)) filename filename-chunk.
</code></pre>

<p>produces 3 parts of the same linecount (with a rounding error in the last, of course), named <code>filename-chunk.00</code> to <code>filename-chunk.02</code>.</p>
"
578,291740,13,15,python,How do I split a huge text file in python,"<p>I have a huge text file (~1GB) and sadly the text editor I use won't read such a large file.  However, if I can just split it into two or three parts I'll be fine, so, as an exercise I wanted to write a program in python to do it.  </p>

<p>What I think I want the program to do is to find the size of a file, divide that number into parts, and for each part, read up to that point in chunks, writing to a <em>filename</em>.nnn output file, then read up-to the next line-break and write that, then close the output file, etc.  Obviously the last output file just copies to the end of the input file.</p>

<p>Can you help me with the key filesystem related parts: filesize, reading and writing in chunks and reading to a line-break?</p>

<p>I'll be writing this code test-first, so there's no need to give me a complete answer, unless its a one-liner ;-)</p>
","<p>Check out <code>os.stat()</code> for file size and <code>file.readlines([sizehint])</code>. Those two functions should be all you need for the reading part, and hopefully you know how to do the writing :)</p>
"
824,411810,-2,15,python,How do I retrieve a Django model class dynamically?,"<p>Without having the full module path of a Django model, is it possible to do something like:</p>

<pre><code>model = 'User' [in Django namespace]
model.objects.all()
</code></pre>

<p>...as opposed to:</p>

<pre><code>User.objects.all().
</code></pre>

<p>EDIT: I am trying to make this call based on command-line input. Is it possible to avoid the import statement, e.g., </p>

<pre><code>model = django.authx.models.User
</code></pre>

<p>Without Django returning the error:</p>

<pre><code>""global name django is not defined.""
</code></pre>
","<p>If you have the model name passed as a string I guess one way could be</p>

<pre><code>modelname = ""User""
model = globals()[modelname]
</code></pre>

<p>But mucking about with globals() might be a bit dangerous in some contexts. So handle with care :)</p>
"
715,367560,2,15,python,How much input validation should I be doing on my python functions/methods?,"<p>I'm interested in how much up front validation people do in the Python they write.</p>

<p>Here are a few examples of simple functions:</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""

def isPalindrome(inputStr):
    """"""Tests to see if inputStr is the same backwards and forwards.""""""

def sum(nums):
    """"""Same as the built-in sum()... computes the sum of all the numbers passed in.""""""
</code></pre>

<p>How thoroughly do you check the input values before beginning computation, and how do you do your checking? Do you throw some kind of proprietary exception if input is faulty (BadInputException defined in the same module, for example)? Do you just start your calculation and figure it will throw an exception at some point if bad data was passed in (""asd"" to factorial, for example)?</p>

<p>When the passed in value is supposed to be a container do you check not only the container but all the values inside it?</p>

<p>What about situations like factorial, where what's passed in might be convertible to an int (e.g. a float) but you might lose precision when doing so?</p>
","<p>It rather depends on what I'm writing, and how the output gets there. Python doesn't have the public/private protections of other OO-languages. Instead there are conventions. For example, external code should only call object methods that are not prefixed by an underscore.</p>

<p>Therefore, if I'm writing a module, I'd validate anything that is not generated from my own code, i.e. any calls to publicly-accessible methods/functions. Sometimes, if I know the validation is expensive, I make it togglable with a kwarg:</p>

<pre><code>def publicly_accessible_function(arg1, validate=False):
  if validate:
    do_validation(arg1)
   do_work
</code></pre>

<p>Internal methods can do validation via the <a href=""http://docs.python.org/reference/simple_stmts.html#assert"" rel=""nofollow"">assert</a> statement, which can be disabled altogether when the code goes out of development and into production.</p>
"
581,291740,3,15,python,How do I split a huge text file in python,"<p>I have a huge text file (~1GB) and sadly the text editor I use won't read such a large file.  However, if I can just split it into two or three parts I'll be fine, so, as an exercise I wanted to write a program in python to do it.  </p>

<p>What I think I want the program to do is to find the size of a file, divide that number into parts, and for each part, read up to that point in chunks, writing to a <em>filename</em>.nnn output file, then read up-to the next line-break and write that, then close the output file, etc.  Obviously the last output file just copies to the end of the input file.</p>

<p>Can you help me with the key filesystem related parts: filesize, reading and writing in chunks and reading to a line-break?</p>

<p>I'll be writing this code test-first, so there's no need to give me a complete answer, unless its a one-liner ;-)</p>
","<p>I've written the program and it seems to work fine.  So thanks to Kamil Kisiel for getting me started.<br />
(Note that FileSizeParts() is a function not shown here)<br />
Later I may get round to doing a version that does a binary read to see if its any quicker.</p>

<pre><code>def Split(inputFile,numParts,outputName):
    fileSize=os.stat(inputFile).st_size
    parts=FileSizeParts(fileSize,numParts)
    openInputFile = open(inputFile, 'r')
    outPart=1
    for part in parts:
        if openInputFile.tell()&lt;fileSize:
            fullOutputName=outputName+os.extsep+str(outPart)
            outPart+=1
            openOutputFile=open(fullOutputName,'w')
            openOutputFile.writelines(openInputFile.readlines(part))
            openOutputFile.close()
    openInputFile.close()
    return outPart-1
</code></pre>
"
718,367560,6,15,python,How much input validation should I be doing on my python functions/methods?,"<p>I'm interested in how much up front validation people do in the Python they write.</p>

<p>Here are a few examples of simple functions:</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""

def isPalindrome(inputStr):
    """"""Tests to see if inputStr is the same backwards and forwards.""""""

def sum(nums):
    """"""Same as the built-in sum()... computes the sum of all the numbers passed in.""""""
</code></pre>

<p>How thoroughly do you check the input values before beginning computation, and how do you do your checking? Do you throw some kind of proprietary exception if input is faulty (BadInputException defined in the same module, for example)? Do you just start your calculation and figure it will throw an exception at some point if bad data was passed in (""asd"" to factorial, for example)?</p>

<p>When the passed in value is supposed to be a container do you check not only the container but all the values inside it?</p>

<p>What about situations like factorial, where what's passed in might be convertible to an int (e.g. a float) but you might lose precision when doing so?</p>
","<p>For calculations like sum, factorial etc, pythons built-in type checks will do fine. The calculations will end upp calling <strong>add</strong>, <strong>mul</strong> etc for the types, and if they break, they will throw the correct exception anyway. By enforcing your own checks, you may invalidate otherwise working input.</p>
"
716,367560,5,15,python,How much input validation should I be doing on my python functions/methods?,"<p>I'm interested in how much up front validation people do in the Python they write.</p>

<p>Here are a few examples of simple functions:</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""

def isPalindrome(inputStr):
    """"""Tests to see if inputStr is the same backwards and forwards.""""""

def sum(nums):
    """"""Same as the built-in sum()... computes the sum of all the numbers passed in.""""""
</code></pre>

<p>How thoroughly do you check the input values before beginning computation, and how do you do your checking? Do you throw some kind of proprietary exception if input is faulty (BadInputException defined in the same module, for example)? Do you just start your calculation and figure it will throw an exception at some point if bad data was passed in (""asd"" to factorial, for example)?</p>

<p>When the passed in value is supposed to be a container do you check not only the container but all the values inside it?</p>

<p>What about situations like factorial, where what's passed in might be convertible to an int (e.g. a float) but you might lose precision when doing so?</p>
","<p>I'm trying to write docstring stating what type of parameter is expected and accepted, and I'm not checking it explicitly in my functions. </p>

<p>If someone wants to use my function with any other type its his responsibility to check if his type emulates one I accept well enough. Maybe your factorial can be used with some custom long-like type to obtain something you wouldn't think of? Or maybe your sum can be used to concatenate strings? Why should you disallow it by type checking? It's not C, anyway.</p>
"
1089,533300,12,15,python,What does 'self' refer to in a @classmethod?,"<p>I thought I was starting to get a grip on ""the Python way"" of programming. Methods of a class accept self as the first parameter to refer to the instance of the class whose context the method is being called in. The @classmethod decorator refers to a method whose functionality is associated with the class, but which doesn't reference a specific instance.</p>

<p>So, what does the first parameter of a @classmethod (canonically 'self') refer to if the method is meant to be called without an instance reference?</p>
","<p>The first parameter of a classmethod is named <code>cls</code> by convention and refers to the  the class object <em>on which the method it was invoked</em>.</p>

<pre><code>&gt;&gt;&gt; class A(object):
...     @classmethod
...     def m(cls):
...         print cls is A
...         print issubclass(cls, A)

&gt;&gt;&gt; class B(A): pass
&gt;&gt;&gt; a = A()
&gt;&gt;&gt; a.m()
True
True
&gt;&gt;&gt; b = B()
&gt;&gt;&gt; b.m()
False 
True
</code></pre>
"
719,367560,1,15,python,How much input validation should I be doing on my python functions/methods?,"<p>I'm interested in how much up front validation people do in the Python they write.</p>

<p>Here are a few examples of simple functions:</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""

def isPalindrome(inputStr):
    """"""Tests to see if inputStr is the same backwards and forwards.""""""

def sum(nums):
    """"""Same as the built-in sum()... computes the sum of all the numbers passed in.""""""
</code></pre>

<p>How thoroughly do you check the input values before beginning computation, and how do you do your checking? Do you throw some kind of proprietary exception if input is faulty (BadInputException defined in the same module, for example)? Do you just start your calculation and figure it will throw an exception at some point if bad data was passed in (""asd"" to factorial, for example)?</p>

<p>When the passed in value is supposed to be a container do you check not only the container but all the values inside it?</p>

<p>What about situations like factorial, where what's passed in might be convertible to an int (e.g. a float) but you might lose precision when doing so?</p>
","<p>I almost never enforce any kind of a check, unless I think there's a possibility that someone might think they can pass some X which would produce completely crazy results.</p>

<p>The other time I check is when I accept several types for an argument, for example a function that takes a list, might accept an arbitrary object and just wrap it in a list (if it's not already a list). So in that case I check for the type -not to enforce anything- just because I want the function to be flexible in how it's used.</p>
"
1087,533300,32,15,python,What does 'self' refer to in a @classmethod?,"<p>I thought I was starting to get a grip on ""the Python way"" of programming. Methods of a class accept self as the first parameter to refer to the instance of the class whose context the method is being called in. The @classmethod decorator refers to a method whose functionality is associated with the class, but which doesn't reference a specific instance.</p>

<p>So, what does the first parameter of a @classmethod (canonically 'self') refer to if the method is meant to be called without an instance reference?</p>
","<p><a href=""http://docs.python.org/library/functions.html#classmethod"">class itself</a>:</p>

<blockquote>
  <p>A class method receives the class as implicit first argument, just like an instance method receives the instance.</p>
</blockquote>

<pre><code>class C:
    @classmethod
    def f(cls):
        print(cls.__name__, type(cls))

&gt;&gt;&gt; C.f()
C &lt;class 'type'&gt;
</code></pre>

<p>and it's <code>cls</code> canonically, btw</p>
"
1088,533300,1,15,python,What does 'self' refer to in a @classmethod?,"<p>I thought I was starting to get a grip on ""the Python way"" of programming. Methods of a class accept self as the first parameter to refer to the instance of the class whose context the method is being called in. The @classmethod decorator refers to a method whose functionality is associated with the class, but which doesn't reference a specific instance.</p>

<p>So, what does the first parameter of a @classmethod (canonically 'self') refer to if the method is meant to be called without an instance reference?</p>
","<p>The class object gets passed as the first parameter.  For example:</p>

<pre><code>class Foo(object):
    @classmethod
    def bar(self):
        return self()
</code></pre>

<p>Would return an instance of the Foo class.</p>

<p><strong>EDIT</strong>:</p>

<p>Note that the last line would be self() not self.  self would return the class itself, while self() returns an instance.</p>
"
471,241250,15,15,python,Single Table Inheritance in Django,"<p>Is there explicit support for Single Table Inheritance in Django? Last I heard, the feature was still under development and debate. </p>

<p>Are there libraries/hacks I can use in the meantime to capture the basic behavior? I have a hierarchy that mixes different objects. The canonical example of a corporation structure with an Employee class, subclasses for types of employees, and a manager_id (parent_id) would be a good approximation of the problem I am solving. </p>

<p>In my case, I would like to represent the idea that an employee can manage other employees while being managed by a different employee. There are not separate classes for Manager and Worker, which makes this hard to spread across tables. Sub-classes would represent types of employees-programmers, accountants, sales, etc and would be independent of who supervises who (OK, I guess it's no longer a typical corporation in some respect). </p>
","<p>There are currently two forms of inheritance in Django - MTI (model table inheritance) and ABC (abstract base classes).</p>

<p>I wrote a <a href=""http://web.archive.org/web/20090227074910/http://thisweekindjango.com/articles/2008/jun/17/abstract-base-classes-vs-model-tab/"" rel=""nofollow"">tutorial</a> on what's going on under the hood.</p>

<p>You can also reference the official docs on <a href=""http://docs.djangoproject.com/en/dev/topics/db/models/#model-inheritance"" rel=""nofollow"">model inheritance</a>.</p>
"
714,367560,4,15,python,How much input validation should I be doing on my python functions/methods?,"<p>I'm interested in how much up front validation people do in the Python they write.</p>

<p>Here are a few examples of simple functions:</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""

def isPalindrome(inputStr):
    """"""Tests to see if inputStr is the same backwards and forwards.""""""

def sum(nums):
    """"""Same as the built-in sum()... computes the sum of all the numbers passed in.""""""
</code></pre>

<p>How thoroughly do you check the input values before beginning computation, and how do you do your checking? Do you throw some kind of proprietary exception if input is faulty (BadInputException defined in the same module, for example)? Do you just start your calculation and figure it will throw an exception at some point if bad data was passed in (""asd"" to factorial, for example)?</p>

<p>When the passed in value is supposed to be a container do you check not only the container but all the values inside it?</p>

<p>What about situations like factorial, where what's passed in might be convertible to an int (e.g. a float) but you might lose precision when doing so?</p>
","<p>I basically try to convert the variable to what it should be and pass up or throw the appropriate exception if that fails.</p>

<pre><code>def factorial(num):
    """"""Computes the factorial of num.""""""
    try:
        num = int(num)
    except ValueError, e:
        print e
    else:
        ...
</code></pre>
"
823,411810,3,15,python,How do I retrieve a Django model class dynamically?,"<p>Without having the full module path of a Django model, is it possible to do something like:</p>

<pre><code>model = 'User' [in Django namespace]
model.objects.all()
</code></pre>

<p>...as opposed to:</p>

<pre><code>User.objects.all().
</code></pre>

<p>EDIT: I am trying to make this call based on command-line input. Is it possible to avoid the import statement, e.g., </p>

<pre><code>model = django.authx.models.User
</code></pre>

<p>Without Django returning the error:</p>

<pre><code>""global name django is not defined.""
</code></pre>
","<pre><code>from django.authx.models import User
model = User
model.objects.all()
</code></pre>
"
986,488670,5,14,python,calculate exponential moving average in python,"<p>I have a range of dates and a measurement on each of those dates.  I'd like to calculate an exponential moving average for each of the dates.  Does anybody know how to do this?</p>

<p>I'm new to python.  It doesn't appear that averages are built into the standard python library, which strikes me as a little odd.  Maybe I'm not looking in the right place.</p>

<p>So, given the following code, how could I calculate the moving weighted average of IQ points for calendar dates?</p>

<pre><code>from datetime import date
days = [date(2008,1,1), date(2008,1,2), date(2008,1,7)]
IQ = [110, 105, 90]
</code></pre>

<p>(there's probably a better way to structure the data, any advice would be appreciated)</p>
","<p>My python is a little bit rusty (anyone can feel free to edit this code to make corrections, if I've messed up the syntax somehow), but here goes....</p>

<pre><code>def movingAverageExponential(values, alpha, epsilon = 0):

   if not 0 &lt; alpha &lt; 1:
      raise ValueError(""out of range, alpha='%s'"" % alpha)

   if not 0 &lt;= epsilon &lt; alpha:
      raise ValueError(""out of range, epsilon='%s'"" % epsilon)

   result = [None] * len(values)

   for i in range(len(result)):
       currentWeight = 1.0

       numerator     = 0
       denominator   = 0
       for value in values[i::-1]:
           numerator     += value * currentWeight
           denominator   += currentWeight

           currentWeight *= alpha
           if currentWeight &lt; epsilon: 
              break

       result[i] = numerator / denominator

   return result
</code></pre>

<p>This function moves backward, from the end of the list to the beginning, calculating the exponential moving average for each value by working backward until the weight coefficient for an element is less than the given epsilon.</p>

<p>At the end of the function, it reverses the values before returning the list (so that they're in the correct order for the caller).</p>

<p>(SIDE NOTE: if I was using a language other than python, I'd create a full-size empty array first and then fill it backwards-order, so that I wouldn't have to reverse it at the end. But I don't think you can declare a big empty array in python. And in python lists, appending is much less expensive than prepending, which is why I built the list in reverse order. Please correct me if I'm wrong.)</p>

<p>The 'alpha' argument is the decay factor on each iteration. For example, if you used an alpha of 0.5, then today's moving average value would be composed of the following weighted values:</p>

<pre><code>today:        1.0
yesterday:    0.5
2 days ago:   0.25
3 days ago:   0.125
...etc...
</code></pre>

<p>Of course, if you've got a huge array of values, the values from ten or fifteen days ago won't contribute very much to today's weighted average. The 'epsilon' argument lets you set a cutoff point, below which you will cease to care about old values (since their contribution to today's value will be insignificant).</p>

<p>You'd invoke the function something like this:</p>

<pre><code>result = movingAverageExponential(values, 0.75, 0.0001)
</code></pre>
"
985,488670,8,14,python,calculate exponential moving average in python,"<p>I have a range of dates and a measurement on each of those dates.  I'd like to calculate an exponential moving average for each of the dates.  Does anybody know how to do this?</p>

<p>I'm new to python.  It doesn't appear that averages are built into the standard python library, which strikes me as a little odd.  Maybe I'm not looking in the right place.</p>

<p>So, given the following code, how could I calculate the moving weighted average of IQ points for calendar dates?</p>

<pre><code>from datetime import date
days = [date(2008,1,1), date(2008,1,2), date(2008,1,7)]
IQ = [110, 105, 90]
</code></pre>

<p>(there's probably a better way to structure the data, any advice would be appreciated)</p>
","<p>I did a bit of googling and I found the following sample code (http://osdir.com/ml/python.matplotlib.general/2005-04/msg00044.html):</p>

<pre><code>def ema(s, n):
    """"""
    returns an n period exponential moving average for
    the time series s

    s is a list ordered from oldest (index 0) to most
    recent (index -1)
    n is an integer

    returns a numeric array of the exponential
    moving average
    """"""
    s = array(s)
    ema = []
    j = 1

    #get n sma first and calculate the next n period ema
    sma = sum(s[:n]) / n
    multiplier = 2 / float(1 + n)
    ema.append(sma)

    #EMA(current) = ( (Price(current) - EMA(prev) ) x Multiplier) + EMA(prev)
    ema.append(( (s[n] - sma) * multiplier) + sma)

    #now calculate the rest of the values
    for i in s[n+1:]:
        tmp = ( (i - ema[j]) * multiplier) + ema[j]
        j = j + 1
        ema.append(tmp)

    return ema
</code></pre>
"
987,488670,15,14,python,calculate exponential moving average in python,"<p>I have a range of dates and a measurement on each of those dates.  I'd like to calculate an exponential moving average for each of the dates.  Does anybody know how to do this?</p>

<p>I'm new to python.  It doesn't appear that averages are built into the standard python library, which strikes me as a little odd.  Maybe I'm not looking in the right place.</p>

<p>So, given the following code, how could I calculate the moving weighted average of IQ points for calendar dates?</p>

<pre><code>from datetime import date
days = [date(2008,1,1), date(2008,1,2), date(2008,1,7)]
IQ = [110, 105, 90]
</code></pre>

<p>(there's probably a better way to structure the data, any advice would be appreciated)</p>
","<p>EDIT:
It seems that <a href=""http://www.scipy.org/scipy/scikits/browser/trunk/timeseries/scikits/timeseries/lib/moving_funcs.py""><code>mov_average_expw()</code></a> function from <a href=""http://pytseries.sourceforge.net/lib/moving_funcs.html"">scikits.timeseries.lib.moving_funcs</a> submodule from <a href=""http://scikits.appspot.com/"">SciKits</a> (add-on toolkits that complement <a href=""http://scipy.org/"">SciPy</a>) better suits the wording of your question.  </p>

<p><hr /></p>

<p>To calculate an <a href=""http://en.wikipedia.org/wiki/Exponential_smoothing"">exponential smoothing</a> of your data with a smoothing factor <code>alpha</code> (it is <code>(1 - alpha)</code> in Wikipedia's terms):</p>

<pre><code>&gt;&gt;&gt; alpha = 0.5
&gt;&gt;&gt; assert 0 &lt; alpha &lt;= 1.0
&gt;&gt;&gt; av = sum(alpha**n.days * iq 
...     for n, iq in map(lambda (day, iq), today=max(days): (today-day, iq), 
...         sorted(zip(days, IQ), key=lambda p: p[0], reverse=True)))
95.0
</code></pre>

<p>The above is not pretty, so let's refactor it a bit:</p>

<pre><code>from collections import namedtuple
from operator    import itemgetter

def smooth(iq_data, alpha=1, today=None):
    """"""Perform exponential smoothing with factor `alpha`.

    Time period is a day.
    Each time period the value of `iq` drops `alpha` times.
    The most recent data is the most valuable one.
    """"""
    assert 0 &lt; alpha &lt;= 1

    if alpha == 1: # no smoothing
        return sum(map(itemgetter(1), iq_data))

    if today is None:
        today = max(map(itemgetter(0), iq_data))

    return sum(alpha**((today - date).days) * iq for date, iq in iq_data)

IQData = namedtuple(""IQData"", ""date iq"")

if __name__ == ""__main__"":
    from datetime import date

    days = [date(2008,1,1), date(2008,1,2), date(2008,1,7)]
    IQ = [110, 105, 90]
    iqdata = list(map(IQData, days, IQ))
    print(""\n"".join(map(str, iqdata)))

    print(smooth(iqdata, alpha=0.5))
</code></pre>

<p>Example:</p>

<pre><code>$ python26 smooth.py
IQData(date=datetime.date(2008, 1, 1), iq=110)
IQData(date=datetime.date(2008, 1, 2), iq=105)
IQData(date=datetime.date(2008, 1, 7), iq=90)
95.0
</code></pre>
"
554,269060,9,14,python,Is there a Python library function which attempts to guess the character-encoding of some bytes?,"<p>I'm writing some mail-processing software in Python that is encountering strange bytes in header fields.  I suspect this is just malformed mail; the message itself claims to be us-ascii, so I don't think there is a true encoding, but I'd like to get out a unicode string approximating the original one without throwing a <code>UnicodeDecodeError </code>.</p>

<p>So, I'm looking for a function that takes a <code>str</code> and optionally some hints and does its darndest to give me back a <code>unicode</code>.  I could write one of course, but if such a function exists its author has probably thought a bit deeper about the best way to go about this.</p>

<p>I also know that Python's design prefers explicit to implicit and that the standard library is designed to avoid implicit magic in decoding text. I just want to explicitly say ""go ahead and guess"".</p>
","<p>As far as I can tell, the standard library doesn't have a function, though it's not too difficult to write one as suggested above.  I think the real thing I was looking for was a way to decode a string and guarantee that it wouldn't throw an exception.  The errors parameter to string.decode does that.</p>

<pre><code>def decode(s, encodings=('ascii', 'utf8', 'latin1')):
    for encoding in encodings:
    	try:
    		return s.decode(encoding)
    	except UnicodeDecodeError:
    		pass
    return s.decode('ascii', 'ignore')
</code></pre>
"
552,269060,15,14,python,Is there a Python library function which attempts to guess the character-encoding of some bytes?,"<p>I'm writing some mail-processing software in Python that is encountering strange bytes in header fields.  I suspect this is just malformed mail; the message itself claims to be us-ascii, so I don't think there is a true encoding, but I'd like to get out a unicode string approximating the original one without throwing a <code>UnicodeDecodeError </code>.</p>

<p>So, I'm looking for a function that takes a <code>str</code> and optionally some hints and does its darndest to give me back a <code>unicode</code>.  I could write one of course, but if such a function exists its author has probably thought a bit deeper about the best way to go about this.</p>

<p>I also know that Python's design prefers explicit to implicit and that the standard library is designed to avoid implicit magic in decoding text. I just want to explicitly say ""go ahead and guess"".</p>
","<p>+1 for the <a href=""http://web.archive.org/web/20110709171259/http://chardet.feedparser.org/docs/faq.html"">chardet</a> module (suggested by <a href=""http://stackoverflow.com/questions/269060/is-there-a-python-library-function-which-attempts-to-guess-the-character-encoding/269105#269105""><code>@insin</code></a>).</p>

<p>It is not in the standard library, but you can easily install it with the following command:</p>

<pre><code>$ pip install chardet
</code></pre>

<p><a href=""http://web.archive.org/web/20111003070626/http://chardet.feedparser.org/"">Example</a>:</p>

<pre><code>&gt;&gt;&gt; import chardet
&gt;&gt;&gt; import urllib
&gt;&gt;&gt; detect = lambda url: chardet.detect(urllib.urlopen(url).read())
&gt;&gt;&gt; detect('http://stackoverflow.com')
{'confidence': 0.85663169917190185, 'encoding': 'ISO-8859-2'}    
&gt;&gt;&gt; detect('http://stackoverflow.com/questions/269060/is-there-a-python-lib')
{'confidence': 0.98999999999999999, 'encoding': 'utf-8'}
</code></pre>

<p>See <a href=""http://guide.python-distribute.org/installation.html#installing-pip"">Installing Pip</a> if you don't have one.</p>
"
551,269060,19,14,python,Is there a Python library function which attempts to guess the character-encoding of some bytes?,"<p>I'm writing some mail-processing software in Python that is encountering strange bytes in header fields.  I suspect this is just malformed mail; the message itself claims to be us-ascii, so I don't think there is a true encoding, but I'd like to get out a unicode string approximating the original one without throwing a <code>UnicodeDecodeError </code>.</p>

<p>So, I'm looking for a function that takes a <code>str</code> and optionally some hints and does its darndest to give me back a <code>unicode</code>.  I could write one of course, but if such a function exists its author has probably thought a bit deeper about the best way to go about this.</p>

<p>I also know that Python's design prefers explicit to implicit and that the standard library is designed to avoid implicit magic in decoding text. I just want to explicitly say ""go ahead and guess"".</p>
","<p>You may be interested in <a href=""http://pypi.python.org/pypi/chardet"">Universal Encoding Detector</a>.</p>
"
708,366720,10,14,python,How to organize python test in a way that I can run all tests in a single command?,"<p>Currently my code is organized in the following tree structure:</p>

<pre><code>src/
    module1.py
    module2.py
    test_module1.py
    test_module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
        test_moduleA.py
        test_moduleB.py
</code></pre>

<p>Where the <code>module*.py</code> files contains the source code and the <code>test_module*.py</code> contains the <code>TestCase</code>s for the relevant module.</p>

<p>With the following comands I can run the tests contained in a single file, for example:</p>

<pre><code>$ cd src
$ nosetests test_filesystem.py
..................
----------------------------------------------------------------------
Ran 18 tests in 0.390s

OK
</code></pre>

<p>How can I run all tests? I tried with <code>nosetests -m 'test_.*'</code> but it doesn't work.</p>

<pre><code>$cd src
$ nosetests -m 'test_.*'

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK
</code></pre>

<p>Thanks</p>
","<p>Whether you seperate or mix tests and modules is probably a matter of taste, although I would strongly advocate for keeping them apart (setup reasons, code stats etc).</p>

<p>When you're using nosetests, make sure that all directories with tests are real packages:</p>

<pre><code>src/
    module1.py
    module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
tests/
    __init__.py
    test_module1.py
    test_module2.py
    subpackage1/
        __init__.py
        test_moduleA.py
        test_moduleB.py
</code></pre>

<p>This way, you can just run <code>nosetests</code> in the toplevel directory and all tests will be found. You need to make sure that <code>src/</code> is on the <code>PYTHONPATH</code>, however, otherwise all the tests will fail due to missing imports.</p>
"
709,366720,4,14,python,How to organize python test in a way that I can run all tests in a single command?,"<p>Currently my code is organized in the following tree structure:</p>

<pre><code>src/
    module1.py
    module2.py
    test_module1.py
    test_module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
        test_moduleA.py
        test_moduleB.py
</code></pre>

<p>Where the <code>module*.py</code> files contains the source code and the <code>test_module*.py</code> contains the <code>TestCase</code>s for the relevant module.</p>

<p>With the following comands I can run the tests contained in a single file, for example:</p>

<pre><code>$ cd src
$ nosetests test_filesystem.py
..................
----------------------------------------------------------------------
Ran 18 tests in 0.390s

OK
</code></pre>

<p>How can I run all tests? I tried with <code>nosetests -m 'test_.*'</code> but it doesn't work.</p>

<pre><code>$cd src
$ nosetests -m 'test_.*'

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK
</code></pre>

<p>Thanks</p>
","<p>I don't know about nosetests, but you can achieve that with the standard unittest module. You just need to create a <code>test_all.py</code> file under your root directory, then import all your test modules. In your case:</p>

<pre><code>import unittest
import test_module1
import test_module2
import subpackage1
if __name__ == ""__main__"":
    allsuites = unittest.TestSuite([test_module1.suite(), \
                                test_module2.suite(), \
                                subpackage1.test_moduleA.suite(), \
                                subpackage1.test_moduleB.suite()])
</code></pre>

<p>each module should provide the following function (example with a module with two unit tests: <code>Class1</code> and <code>Class2</code>):</p>

<pre><code>def suite():
    """""" This defines all the tests of a module""""""
    suite = unittest.TestSuite()
    suite.addTest(unittest.makeSuite(Class1))
    suite.addTest(unittest.makeSuite(Class2))
    return suite
if __name__ == '__main__':
   unittest.TextTestRunner(verbosity=2).run(suite())
</code></pre>
"
984,488670,4,14,python,calculate exponential moving average in python,"<p>I have a range of dates and a measurement on each of those dates.  I'd like to calculate an exponential moving average for each of the dates.  Does anybody know how to do this?</p>

<p>I'm new to python.  It doesn't appear that averages are built into the standard python library, which strikes me as a little odd.  Maybe I'm not looking in the right place.</p>

<p>So, given the following code, how could I calculate the moving weighted average of IQ points for calendar dates?</p>

<pre><code>from datetime import date
days = [date(2008,1,1), date(2008,1,2), date(2008,1,7)]
IQ = [110, 105, 90]
</code></pre>

<p>(there's probably a better way to structure the data, any advice would be appreciated)</p>
","<p>I don't know Python, but for the averaging part, do you mean an exponentially decaying low-pass filter of the form</p>

<pre><code>y_new = y_old + (input - y_old)*alpha
</code></pre>

<p>where alpha = dt/tau, dt = the timestep of the filter, tau = the time constant of the filter? (the variable-timestep form of this is as follows, just clip dt/tau to not be more than 1.0)</p>

<pre><code>y_new = y_old + (input - y_old)*dt/tau
</code></pre>

<p>If you want to filter something like a date, make sure you convert to a floating-point quantity like # of seconds since Jan 1 1970.</p>
"
710,366720,7,14,python,How to organize python test in a way that I can run all tests in a single command?,"<p>Currently my code is organized in the following tree structure:</p>

<pre><code>src/
    module1.py
    module2.py
    test_module1.py
    test_module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
        test_moduleA.py
        test_moduleB.py
</code></pre>

<p>Where the <code>module*.py</code> files contains the source code and the <code>test_module*.py</code> contains the <code>TestCase</code>s for the relevant module.</p>

<p>With the following comands I can run the tests contained in a single file, for example:</p>

<pre><code>$ cd src
$ nosetests test_filesystem.py
..................
----------------------------------------------------------------------
Ran 18 tests in 0.390s

OK
</code></pre>

<p>How can I run all tests? I tried with <code>nosetests -m 'test_.*'</code> but it doesn't work.</p>

<pre><code>$cd src
$ nosetests -m 'test_.*'

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK
</code></pre>

<p>Thanks</p>
","<p>If they all begin with <code>test</code> then just <code>nosetest</code> should work.  Nose automatically searches for any files beginning with 'test'.</p>
"
707,366720,0,14,python,How to organize python test in a way that I can run all tests in a single command?,"<p>Currently my code is organized in the following tree structure:</p>

<pre><code>src/
    module1.py
    module2.py
    test_module1.py
    test_module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
        test_moduleA.py
        test_moduleB.py
</code></pre>

<p>Where the <code>module*.py</code> files contains the source code and the <code>test_module*.py</code> contains the <code>TestCase</code>s for the relevant module.</p>

<p>With the following comands I can run the tests contained in a single file, for example:</p>

<pre><code>$ cd src
$ nosetests test_filesystem.py
..................
----------------------------------------------------------------------
Ran 18 tests in 0.390s

OK
</code></pre>

<p>How can I run all tests? I tried with <code>nosetests -m 'test_.*'</code> but it doesn't work.</p>

<pre><code>$cd src
$ nosetests -m 'test_.*'

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK
</code></pre>

<p>Thanks</p>
","<p>I'll give a <a href=""http://www.testoob.org"" rel=""nofollow"">Testoob</a> answer.</p>

<p>Running tests in a single file is like Nose:</p>

<pre><code>testoob test_foo.py
</code></pre>

<p>To run tests in many files you can create suites with the Testoob collectors (in each subpackage)</p>

<pre><code># src/subpackage?/__init__.py
def suite():
  import testoob
  return testoob.collecting.collect_from_files(""test_*.py"")
</code></pre>

<p>and</p>

<pre><code># src/alltests.py
test_modules = [
    'subpackage1.suite',
    'subpackage2.suite',
]

def suite():
    import unittest
    return unittest.TestLoader().loadTestsFromNames(test_modules)

if __name__ == ""__main__"":
    import testoob
    testoob.main(defaultTest=""suite"")
</code></pre>

<p>I haven't tried your specific scenario.</p>
"
706,366720,2,14,python,How to organize python test in a way that I can run all tests in a single command?,"<p>Currently my code is organized in the following tree structure:</p>

<pre><code>src/
    module1.py
    module2.py
    test_module1.py
    test_module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
        test_moduleA.py
        test_moduleB.py
</code></pre>

<p>Where the <code>module*.py</code> files contains the source code and the <code>test_module*.py</code> contains the <code>TestCase</code>s for the relevant module.</p>

<p>With the following comands I can run the tests contained in a single file, for example:</p>

<pre><code>$ cd src
$ nosetests test_filesystem.py
..................
----------------------------------------------------------------------
Ran 18 tests in 0.390s

OK
</code></pre>

<p>How can I run all tests? I tried with <code>nosetests -m 'test_.*'</code> but it doesn't work.</p>

<pre><code>$cd src
$ nosetests -m 'test_.*'

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK
</code></pre>

<p>Thanks</p>
","<p>This is probably a hotly-contested topic, but I would suggest that you separate your tests out from your modules.  Set up something like this...</p>

<p>Use <code>setup.py</code> to install these into the system path (or you may be able to modify environment variables to avoid the need for an ""install"" step).</p>

<pre><code>foo/
    module1.py
    module2.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
</code></pre>

<p>Now any python script anywhere can access those modules, instead of depending on finding them in the local directory.  Put your tests all off to the side like this:</p>

<pre><code>tests/
    test_module1.py
    test_module2.py
    test_subpackage1_moduleA,py
    test_subpackage2_moduleB.py
</code></pre>

<p>I'm not sure about your <code>nosetests</code> command, but now that your tests are all in the same directory, it becomes much easier to write a wrapper script that simply imports all of the other tests in the same directory.  Or if that's not possible, you can at least get away with a simple <code>bash</code> loop that gets your test files one by one:</p>

<pre><code>#!/bin/bash
cd tests/
for TEST_SCRIPT in test_*.py ; do
    nosetests -m $TEST_SCRIPT
done
</code></pre>
"
924,458340,3,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>You might consider <a href=""http://sphinx.pocoo.org/"" rel=""nofollow"">Sphinx</a>, a package that translates reStructuredText files into various output formats, including HTML, and LaTeX, for printable PDF.  It's licensed under BSD and is now the official Python documentation tool.</p>
"
853,426500,12,14,python,"How do I mock the Python method OptionParser.error(), which does a sys.exit()?","<p>I'm trying to unit test some code that looks like this:</p>

<pre><code>def main():
    parser = optparse.OptionParser(description='This tool is cool', prog='cool-tool')
    parser.add_option('--foo', action='store', help='The foo option is self-explanatory')
    options, arguments = parser.parse_args()
    if not options.foo:
        parser.error('--foo option is required')
    print ""Your foo is %s."" % options.foo
    return 0

if __name__ == '__main__':
   sys.exit(main())
</code></pre>

<p>With code that looks like this:</p>

<pre><code>@patch('optparse.OptionParser')
def test_main_with_missing_p4clientsdir_option(self, mock_optionparser):
    #
    # setup
    #
    optionparser_mock = Mock()
    mock_optionparser.return_value = optionparser_mock
    options_stub = Mock()
    options_stub.foo = None
    optionparser_mock.parse_args.return_value = (options_stub, sentinel.arguments)
    def parser_error_mock(message):
        self.assertEquals(message, '--foo option is required')
        sys.exit(2)
    optionparser_mock.error = parser_error_mock

    #
    # exercise &amp; verify
    #
    self.assertEquals(sut.main(), 2)
</code></pre>

<p>I'm using <a href=""http://www.voidspace.org.uk/python/mock.html"">Michael Foord's Mock</a>, and nose to run the tests.</p>

<p>When I run the test, I get:</p>

<pre><code>  File ""/Users/dspitzer/Programming/Python/test-optparse-error/tests/sut_tests.py"", line 27, in parser_error_mock
    sys.exit(2)
SystemExit: 2

----------------------------------------------------------------------
Ran 1 test in 0.012s

FAILED (errors=1)
</code></pre>

<p>The problem is that OptionParser.error does a sys.exit(2), and so main() naturally relies on that.  But nose or unittest detects the (expected) sys.exit(2) and fails the test.</p>

<p>I can make the test pass by adding ""return 2"" under the parser.error() call in main() and removing the sys.exit() call from parser_error_mock(), but I find it distasteful to modify the code under test to allow a test to pass.  Is there a better solution?</p>

<p><strong>Update</strong>: <a href=""http://stackoverflow.com/users/3002/df"">df</a>'s answer works, although the correct call is ""self.assertRaises(SystemExit, sut.main)"".</p>

<p>Which means the test passes whatever the number is in the sys.exit() in parser_error_mock(). Is there any way to test for the exit code?</p>

<p>BTW, the test is more robust if I add:</p>

<pre><code>self.assertEquals(optionparser_mock.method_calls, [('add_option', ('--foo',), {'action': 'store', 'help': 'The foo option is self-explanatory'}), ('parse_args', (), {})])
</code></pre>

<p>at the end.</p>

<p><strong>Update 2</strong>: I can test for the exit code by replacing ""self.assertRaises(SystemExit, sut.main)"" with:</p>

<pre><code>try:
    sut.main()
except SystemExit, e:
    self.assertEquals(type(e), type(SystemExit()))
    self.assertEquals(e.code, 2)
except Exception, e:
    self.fail('unexpected exception: %s' % e)
else:
    self.fail('SystemExit exception expected')
</code></pre>
","<p>Will this work instead of <code>assertEquals</code>?</p>

<pre><code>self.assertRaises(SystemExit, sut.main, 2)
</code></pre>

<p>This should catch the <code>SystemExit</code> exception and prevent the script from terminating.</p>
"
854,426500,0,14,python,"How do I mock the Python method OptionParser.error(), which does a sys.exit()?","<p>I'm trying to unit test some code that looks like this:</p>

<pre><code>def main():
    parser = optparse.OptionParser(description='This tool is cool', prog='cool-tool')
    parser.add_option('--foo', action='store', help='The foo option is self-explanatory')
    options, arguments = parser.parse_args()
    if not options.foo:
        parser.error('--foo option is required')
    print ""Your foo is %s."" % options.foo
    return 0

if __name__ == '__main__':
   sys.exit(main())
</code></pre>

<p>With code that looks like this:</p>

<pre><code>@patch('optparse.OptionParser')
def test_main_with_missing_p4clientsdir_option(self, mock_optionparser):
    #
    # setup
    #
    optionparser_mock = Mock()
    mock_optionparser.return_value = optionparser_mock
    options_stub = Mock()
    options_stub.foo = None
    optionparser_mock.parse_args.return_value = (options_stub, sentinel.arguments)
    def parser_error_mock(message):
        self.assertEquals(message, '--foo option is required')
        sys.exit(2)
    optionparser_mock.error = parser_error_mock

    #
    # exercise &amp; verify
    #
    self.assertEquals(sut.main(), 2)
</code></pre>

<p>I'm using <a href=""http://www.voidspace.org.uk/python/mock.html"">Michael Foord's Mock</a>, and nose to run the tests.</p>

<p>When I run the test, I get:</p>

<pre><code>  File ""/Users/dspitzer/Programming/Python/test-optparse-error/tests/sut_tests.py"", line 27, in parser_error_mock
    sys.exit(2)
SystemExit: 2

----------------------------------------------------------------------
Ran 1 test in 0.012s

FAILED (errors=1)
</code></pre>

<p>The problem is that OptionParser.error does a sys.exit(2), and so main() naturally relies on that.  But nose or unittest detects the (expected) sys.exit(2) and fails the test.</p>

<p>I can make the test pass by adding ""return 2"" under the parser.error() call in main() and removing the sys.exit() call from parser_error_mock(), but I find it distasteful to modify the code under test to allow a test to pass.  Is there a better solution?</p>

<p><strong>Update</strong>: <a href=""http://stackoverflow.com/users/3002/df"">df</a>'s answer works, although the correct call is ""self.assertRaises(SystemExit, sut.main)"".</p>

<p>Which means the test passes whatever the number is in the sys.exit() in parser_error_mock(). Is there any way to test for the exit code?</p>

<p>BTW, the test is more robust if I add:</p>

<pre><code>self.assertEquals(optionparser_mock.method_calls, [('add_option', ('--foo',), {'action': 'store', 'help': 'The foo option is self-explanatory'}), ('parse_args', (), {})])
</code></pre>

<p>at the end.</p>

<p><strong>Update 2</strong>: I can test for the exit code by replacing ""self.assertRaises(SystemExit, sut.main)"" with:</p>

<pre><code>try:
    sut.main()
except SystemExit, e:
    self.assertEquals(type(e), type(SystemExit()))
    self.assertEquals(e.code, 2)
except Exception, e:
    self.fail('unexpected exception: %s' % e)
else:
    self.fail('SystemExit exception expected')
</code></pre>
","<p>Probably this question contains some new information:</p>

<p><a href=""http://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit"">http://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit</a></p>
"
855,426500,1,14,python,"How do I mock the Python method OptionParser.error(), which does a sys.exit()?","<p>I'm trying to unit test some code that looks like this:</p>

<pre><code>def main():
    parser = optparse.OptionParser(description='This tool is cool', prog='cool-tool')
    parser.add_option('--foo', action='store', help='The foo option is self-explanatory')
    options, arguments = parser.parse_args()
    if not options.foo:
        parser.error('--foo option is required')
    print ""Your foo is %s."" % options.foo
    return 0

if __name__ == '__main__':
   sys.exit(main())
</code></pre>

<p>With code that looks like this:</p>

<pre><code>@patch('optparse.OptionParser')
def test_main_with_missing_p4clientsdir_option(self, mock_optionparser):
    #
    # setup
    #
    optionparser_mock = Mock()
    mock_optionparser.return_value = optionparser_mock
    options_stub = Mock()
    options_stub.foo = None
    optionparser_mock.parse_args.return_value = (options_stub, sentinel.arguments)
    def parser_error_mock(message):
        self.assertEquals(message, '--foo option is required')
        sys.exit(2)
    optionparser_mock.error = parser_error_mock

    #
    # exercise &amp; verify
    #
    self.assertEquals(sut.main(), 2)
</code></pre>

<p>I'm using <a href=""http://www.voidspace.org.uk/python/mock.html"">Michael Foord's Mock</a>, and nose to run the tests.</p>

<p>When I run the test, I get:</p>

<pre><code>  File ""/Users/dspitzer/Programming/Python/test-optparse-error/tests/sut_tests.py"", line 27, in parser_error_mock
    sys.exit(2)
SystemExit: 2

----------------------------------------------------------------------
Ran 1 test in 0.012s

FAILED (errors=1)
</code></pre>

<p>The problem is that OptionParser.error does a sys.exit(2), and so main() naturally relies on that.  But nose or unittest detects the (expected) sys.exit(2) and fails the test.</p>

<p>I can make the test pass by adding ""return 2"" under the parser.error() call in main() and removing the sys.exit() call from parser_error_mock(), but I find it distasteful to modify the code under test to allow a test to pass.  Is there a better solution?</p>

<p><strong>Update</strong>: <a href=""http://stackoverflow.com/users/3002/df"">df</a>'s answer works, although the correct call is ""self.assertRaises(SystemExit, sut.main)"".</p>

<p>Which means the test passes whatever the number is in the sys.exit() in parser_error_mock(). Is there any way to test for the exit code?</p>

<p>BTW, the test is more robust if I add:</p>

<pre><code>self.assertEquals(optionparser_mock.method_calls, [('add_option', ('--foo',), {'action': 'store', 'help': 'The foo option is self-explanatory'}), ('parse_args', (), {})])
</code></pre>

<p>at the end.</p>

<p><strong>Update 2</strong>: I can test for the exit code by replacing ""self.assertRaises(SystemExit, sut.main)"" with:</p>

<pre><code>try:
    sut.main()
except SystemExit, e:
    self.assertEquals(type(e), type(SystemExit()))
    self.assertEquals(e.code, 2)
except Exception, e:
    self.fail('unexpected exception: %s' % e)
else:
    self.fail('SystemExit exception expected')
</code></pre>
","<p>As noted in my updates to my question, I had to modify <a href=""http://stackoverflow.com/users/3002/df"">dF</a>'s answer to:</p>

<pre><code>self.assertRaises(SystemExit, sut.main)
</code></pre>

<p>...and I came up with a few longer snippet to test for the exit code.</p>

<p>[Note: I accepted my own answer, but I will delete this answer and accept <a href=""http://stackoverflow.com/users/3002/df"">dF</a>'s if he updates his.]</p>
"
649,330900,32,14,python,How to quickly parse a list of strings,"<p>If I want to split a list of words separated by a delimiter character, I can use</p>

<pre><code>&gt;&gt;&gt; 'abc,foo,bar'.split(',')
['abc', 'foo', 'bar']
</code></pre>

<p>But how to easily and quickly do the same thing if I also want to handle quoted-strings which can contain the delimiter character ?</p>

<pre><code>In: 'abc,""a string, with a comma"",""another, one""'
Out: ['abc', 'a string, with a comma', 'another, one']
</code></pre>

<p>Related question: <a href=""http://stackoverflow.com/questions/118096/how-can-i-parse-a-comma-delimited-string-into-a-list-caveat"">How can i parse a comma delimited string into a list (caveat)?</a></p>
","<pre><code>import csv

input = ['abc,""a string, with a comma"",""another, one""']
parser = csv.reader(input)

for fields in parser:
  for i,f in enumerate(fields):
    print i,f    # in Python 3 and up, print is a function; use: print(i,f)
</code></pre>

<p>Result:</p>

<pre>
0 abc
1 a string, with a comma
2 another, one
</pre>
"
648,330900,7,14,python,How to quickly parse a list of strings,"<p>If I want to split a list of words separated by a delimiter character, I can use</p>

<pre><code>&gt;&gt;&gt; 'abc,foo,bar'.split(',')
['abc', 'foo', 'bar']
</code></pre>

<p>But how to easily and quickly do the same thing if I also want to handle quoted-strings which can contain the delimiter character ?</p>

<pre><code>In: 'abc,""a string, with a comma"",""another, one""'
Out: ['abc', 'a string, with a comma', 'another, one']
</code></pre>

<p>Related question: <a href=""http://stackoverflow.com/questions/118096/how-can-i-parse-a-comma-delimited-string-into-a-list-caveat"">How can i parse a comma delimited string into a list (caveat)?</a></p>
","<p>The <a href=""http://www.python.org/doc/2.5.2/lib/module-csv.html"" rel=""nofollow"">CSV module</a> should be able to do that for you</p>
"
920,458340,14,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>There's LaTeX. Not sure if that falls into the ""as easy to use as html"" category, but it's not hard. </p>
"
921,458340,7,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>By <em>print</em> do you mean a printer? If so, check <a href=""http://www.reportlab.org/"" rel=""nofollow"">ReportLab</a>'s PDF tools.</p>

<pre><code>from reportlab.pdfgen import canvas
from reportlab.lib.units import cm
c = canvas.Canvas(""hello.pdf"")
c.drawString(9*cm, 22*cm, ""Hello World!"")
c.showPage()
c.save()
</code></pre>
"
922,458340,1,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>What's wrong with just using <a href=""http://doc.trolltech.com/4.3/printing.html"" rel=""nofollow"">Qt's native printing</a>?</p>
"
926,458340,24,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>I have been fighting with printed (or PDF) output from Python for 8 years now and so far I came across the following approaches (in order of personal preference):</p>

<ul>
<li>Using <a href=""http://www.jaspersoft.com/JasperSoft_JasperReports.html?utm_source=google&amp;utm_medium=cpc&amp;utm_content=JasperReports&amp;utm_campaign=JasperReportsSearchjasperreports"">JasperReports</a> via <a href=""https://github.com/hudora/pyJasper"">pyJasper</a> (written by me) or <a href=""http://blogs.23.nu/c0re/2008/07/antville-18473/"">JasperServer</a>. You can use the WYSIWYG design tool <a href=""http://www.jaspersoft.com/JasperSoft_iReport.html"">iReport</a> to define your layout. Your Python code will contact the Java based Jasper engine via HTTP and make it render a PDF (pyJasper handles that). We use that for a few thousand pages a day.</li>
<li>Use plain text output. You can't get any faster. We use that for a few hundred pages per day.</li>
<li>Use XSLT-FO. You also have to call a Java based rendering engine like FOB. Might result in performance issues but can be mitigated by having a long running Java server process  - same approach than with Jasper. We use that for a few hundred pages per day but writing XSLT-FO documents made my head hurt. Not used for new code.</li>
<li>Generate <a href=""http://www.latex-project.org/"">LaTeX</a> source and use a latex software package to render to PDF. Getting LaTeX to look like <strong>you</strong> like is quite difficult. But as long as you go with the provided LaTeX styles, you are fine. Not used in production at my shop.</li>
<li>PDF generation with the <a href=""http://www.reportlab.org/rl_toolkit.html"">ReportLab Toolkit</a>. Somewhat low level. Even more low level: <a href=""http://pypi.python.org/pypi/pyFPDF/"">FPDF</a>. We use FPDF-Ruby for a few hundred pages a day. Took a lot of fiddeling to get the layout we wanted.</li>
<li>Directly generate Postscript. Strange but you nearly can't get more in terms of speed and control. We used that to generate contact sheets with a few hundred thousand Jpegs per day. Takes fiddling but is fun.</li>
<li>use <a href=""http://www.troff.org/"">troff</a>/groff to generate Postscript/PDF. Very low level bute nice to do simple, high volume things. Never used it thus in production.</li>
</ul>

<p>For orders, invoices and the like I highly recommend JasperReports. The ability to use a visual editor to define the layout is a huge time saver.</p>
"
925,458340,1,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>Or if you're on a mac, you could check out <a href=""http://developer.apple.com/DOCUMENTATION/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_python/chapter_17_section_1.html"" rel=""nofollow"">quartz bindings for Python</a>, but it's obviously not GPL.</p>
"
923,458340,3,14,python,Is there a better layout language than HTML for printing?,"<p>I'm using Python and Qt 4.4 and I have to print some pages. Initially I thought I'd use HTML with CSS to produce those pages. But HTML has some limitations.</p>

<p>Now the question is: is there anything that's better than HTML but just (or almost) as easy to use? Additionally, it should be GPL-compatible.</p>

<p><strong>Edit:</strong></p>

<p><em>kdgregory &amp; Mark G:</em> The most obvious limitation is that I can't specify the printer margins. There is another problem: How do I add page numbers?</p>

<p><em>Jeremy French:</em> One thing I have to print is a list of all the products someone ordered which can spread over a few pages.</p>
","<p>XSL Formatting Objects (part of the <a href=""http://www.w3.org/Style/XSL/"" rel=""nofollow"">The Extensible Stylesheet Language Family (XSL)</a>) if you need <em>total</em> control over printed documents.</p>

<p>Then, you'll need a Formatting Objects processor, like <a href=""http://xmlgraphics.apache.org/fop/"" rel=""nofollow"">FOP</a> or <a href=""http://www.antennahouse.com/"" rel=""nofollow"">Antenna house</a>, to transform the XSL-FO document into PDF, or PostScript.</p>
"
553,269060,1,14,python,Is there a Python library function which attempts to guess the character-encoding of some bytes?,"<p>I'm writing some mail-processing software in Python that is encountering strange bytes in header fields.  I suspect this is just malformed mail; the message itself claims to be us-ascii, so I don't think there is a true encoding, but I'd like to get out a unicode string approximating the original one without throwing a <code>UnicodeDecodeError </code>.</p>

<p>So, I'm looking for a function that takes a <code>str</code> and optionally some hints and does its darndest to give me back a <code>unicode</code>.  I could write one of course, but if such a function exists its author has probably thought a bit deeper about the best way to go about this.</p>

<p>I also know that Python's design prefers explicit to implicit and that the standard library is designed to avoid implicit magic in decoding text. I just want to explicitly say ""go ahead and guess"".</p>
","<p>The best way to do this that I've found is to iteratively try decoding a prospective with each of the most common encodings inside of a try except block.</p>
"
79,60680,4,14,python,How do I write a python HTTP server to listen on multiple ports?,"<p>I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port?</p>

<p>What I'm doing now:</p>

<pre><code>class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):
  def doGET
  [...]

class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): 
    pass

server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler)
server.serve_forever()
</code></pre>
","<p>Not easily. You could have two ThreadingHTTPServer instances, write your own serve_forever() function (don't worry it's not a complicated function).</p>

<p>The existing function:</p>

<pre><code>def serve_forever(self, poll_interval=0.5):
    """"""Handle one request at a time until shutdown.

    Polls for shutdown every poll_interval seconds. Ignores
    self.timeout. If you need to do periodic tasks, do them in
    another thread.
    """"""
    self.__serving = True
    self.__is_shut_down.clear()
    while self.__serving:
        # XXX: Consider using another file descriptor or
        # connecting to the socket to wake this up instead of
        # polling. Polling reduces our responsiveness to a
        # shutdown request and wastes cpu at all other times.
        r, w, e = select.select([self], [], [], poll_interval)
        if r:
            self._handle_request_noblock()
    self.__is_shut_down.set()
</code></pre>

<p>So our replacement would be something like:</p>

<pre><code>def serve_forever(server1,server2):
    while True:
        r,w,e = select.select([server1,server2],[],[],0)
        if server1 in r:
            server1.handle_request()
        if server2 in r:
            server2.handle_request()
</code></pre>
"
78,60680,27,14,python,How do I write a python HTTP server to listen on multiple ports?,"<p>I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port?</p>

<p>What I'm doing now:</p>

<pre><code>class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):
  def doGET
  [...]

class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): 
    pass

server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler)
server.serve_forever()
</code></pre>
","<p>Sure; just start two different servers on two different ports in two different threads that each use the same handler.  Here's a complete, working example that I just wrote and tested.  If you run this code then you'll be able to get a Hello World webpage at both <a href=""http://localhost:1111/"">http://localhost:1111/</a> and <a href=""http://localhost:2222/"">http://localhost:2222/</a></p>

<pre><code>from threading import Thread
from SocketServer import ThreadingMixIn
from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler

class Handler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header(""Content-type"", ""text/plain"")
        self.end_headers()
        self.wfile.write(""Hello World!"")

class ThreadingHTTPServer(ThreadingMixIn, HTTPServer):
    pass

def serve_on_port(port):
    server = ThreadingHTTPServer((""localhost"",port), Handler)
    server.serve_forever()

Thread(target=serve_on_port, args=[1111]).start()
serve_on_port(2222)
</code></pre>
"
80,60680,6,14,python,How do I write a python HTTP server to listen on multiple ports?,"<p>I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port?</p>

<p>What I'm doing now:</p>

<pre><code>class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):
  def doGET
  [...]

class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): 
    pass

server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler)
server.serve_forever()
</code></pre>
","<p>I would say that threading for something this simple is overkill.  You're better off using some form of asynchronous programming.</p>

<p>Here is an example using <a href=""http://twistedmatrix.com/"">Twisted</a>:</p>

<pre><code>from twisted.internet import reactor
from twisted.web import resource, server

class MyResource(resource.Resource):
    isLeaf = True
    def render_GET(self, request):
        return 'gotten'

site = server.Site(MyResource())

reactor.listenTCP(8000, site)
reactor.listenTCP(8001, site)
reactor.run()
</code></pre>

<p>I also thinks it looks a lot cleaner to have each port be handled in the same way, instead of having the main thread handle one port and an additional thread handle the other.  Arguably that can be fixed in the thread example, but then you're using three threads.</p>
"
472,243060,21,14,python,How to set the PYTHONPATH in Emacs?,"<p>Emacs does not recognize my correct python path. I think it is a general problem with emacs not recognizing my environment variables. I have GNU Emacs 22.1.1 (i386-apple-darwin8.9.1, Carbon Version 1.6.0) of 2007-06-17 installed.</p>

<p>I have set the PYTHONPATH in my ~/.bashrc. Maybe I should set it somewhere else?</p>
","<p><code>.bashrc</code> only gets read when a shell starts; it won't affect Carbon Emacs. Instead, use <code>setenv</code> in your <code>.emacs</code>:</p>

<pre><code>(setenv ""PYTHONPATH"" ""PATH_STRING_HERE"")
</code></pre>

<p>You can set <code>PYTHONPATH</code> for the entire Mac OS session, by adding it to <code>~/.MacOSX/environment.plist</code> (more <a href=""http://developer.apple.com/documentation/MacOSX/Conceptual/BPRuntimeConfig/Articles/EnvironmentVars.html#//apple_ref/doc/uid/20002093-113982"">here</a>). You probably don't want to do this unless you have XCode (and its property list editor) installed.</p>

<p>(<a href=""http://procrastiblog.com/2007/07/09/changing-your-path-in-emacs-compilation-mode/"">Via Procrastiblog</a>)</p>
"
1032,517060,23,13,python,return eats exception,"<p>I found the following behavior at least <em>weird</em>:</p>

<pre><code>def errors():
    try:
        ErrorErrorError
    finally:
        return 10

print errors()
# prints: 10
# It should raise: NameError: name 'ErrorErrorError' is not defined
</code></pre>

<p>The exception disappears when you use <code>return</code> inside a <code>finally</code> clause. Is that a bug? Is that documented anywhere?</p>

<p>But the real question (and the answer I will mark as correct) is:<br>
What is the python developers' reason to allow that odd behavior?</p>
","<p>You asked about the Python developers' reasoning.  I can't speak for them, but no other behavior makes sense.  A function can either return a value, or it can raise an exception; it can't do both.  The purpose of a ""finally"" clause is to provide cleanup code that is ""guaranteed"" to be run, regardless of exceptions.  By putting a return statement in a finally clause, you have declared that you want to return a value, no matter what, regardless of exceptions.  If Python behaved as you are asking and raised the exception, it would be breaking the contract of the ""finally"" clause (because it would fail to return the value you told it to return).</p>
"
364,183480,6,13,python,Is this the best way to get unique version of filename w/ Python?,"<p>Still 'diving in' to Python, and want to make sure I'm not overlooking something. I wrote a script that extracts files from several zip files, and saves the extracted files together in one directory. To prevent duplicate filenames from being over-written, I wrote this little function - and I'm just wondering if there is a better way to do this?
Thanks!</p>

<pre><code>def unique_filename(file_name):
counter = 1
file_name_parts = os.path.splitext(file_name) # returns ('/path/file', '.ext')
while os.path.isfile(file_name): 
    file_name = file_name_parts[0] + '_' + str(counter) + file_name_parts[1]
    counter += 1
return file_name
</code></pre>

<p>I really <em>do</em> require the files to be in a single directory, and numbering duplicates is definitely acceptable in my case, so I'm not looking for a more robust method (tho' I suppose any pointers are welcome), but just to make sure that what this accomplishes is getting done the right way.</p>
","<p>Yes, this is a good strategy for readable but unique filenames.</p>

<p><strong>One important change</strong>: You should replace <code>os.path.isfile</code> with <code>os.path.lexists</code>!  As it is written right now, if there is a directory named /foo/bar.baz, your program will try to overwrite that with the new file (which won't work)... since <code>isfile</code> only checks for files and not directories.  <code>lexists</code> checks for directories, symlinks, etc... basically if there's any reason that filename could not be created.</p>

<p>EDIT: @Brian gave a better answer, which is more secure and robust in terms of race conditions.</p>
"
363,183480,2,13,python,Is this the best way to get unique version of filename w/ Python?,"<p>Still 'diving in' to Python, and want to make sure I'm not overlooking something. I wrote a script that extracts files from several zip files, and saves the extracted files together in one directory. To prevent duplicate filenames from being over-written, I wrote this little function - and I'm just wondering if there is a better way to do this?
Thanks!</p>

<pre><code>def unique_filename(file_name):
counter = 1
file_name_parts = os.path.splitext(file_name) # returns ('/path/file', '.ext')
while os.path.isfile(file_name): 
    file_name = file_name_parts[0] + '_' + str(counter) + file_name_parts[1]
    counter += 1
return file_name
</code></pre>

<p>I really <em>do</em> require the files to be in a single directory, and numbering duplicates is definitely acceptable in my case, so I'm not looking for a more robust method (tho' I suppose any pointers are welcome), but just to make sure that what this accomplishes is getting done the right way.</p>
","<p>Two small changes...</p>

<pre><code>base_name, ext = os.path.splitext(file_name)
</code></pre>

<p>You get two results with distinct meaning, give them distinct names.</p>

<pre><code>file_name = ""%s_%d%s"" % (base_name, str(counter), ext)
</code></pre>

<p>It isn't faster or significantly shorter.  But, when you want to change your file name pattern, the pattern is on one place, and slightly easier to work with.</p>
"
362,183480,1,13,python,Is this the best way to get unique version of filename w/ Python?,"<p>Still 'diving in' to Python, and want to make sure I'm not overlooking something. I wrote a script that extracts files from several zip files, and saves the extracted files together in one directory. To prevent duplicate filenames from being over-written, I wrote this little function - and I'm just wondering if there is a better way to do this?
Thanks!</p>

<pre><code>def unique_filename(file_name):
counter = 1
file_name_parts = os.path.splitext(file_name) # returns ('/path/file', '.ext')
while os.path.isfile(file_name): 
    file_name = file_name_parts[0] + '_' + str(counter) + file_name_parts[1]
    counter += 1
return file_name
</code></pre>

<p>I really <em>do</em> require the files to be in a single directory, and numbering duplicates is definitely acceptable in my case, so I'm not looking for a more robust method (tho' I suppose any pointers are welcome), but just to make sure that what this accomplishes is getting done the right way.</p>
","<p>If you want readable names this looks like a good solution.<br />
There are routines to return unique file names for eg. temp files but they produce long random looking names.</p>
"
805,405540,1,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>Erm, I am not sure as I a haven't used them at all in real life, but it could be used to simulate a nested data structure? See <a href=""http://www.cs.nott.ac.uk/~nhn/TFP2006/Papers/27-GhaniHamanaUustaluVene-CyclicStructuresAsNestedDatatypes.pdf"" rel=""nofollow"">this</a> link</p>
"
806,405540,0,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>One example would be a linked list where the last item points the first. This would allow you to create a fixed number of items but always be able to get a next item.</p>
"
808,405540,0,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>when doing lattice simulations cyclic/toroidal boundary conditions are often used.  usually a simple <code>lattice[i%L]</code> would suffice, but i suppose one could create the lattice to be cyclic.</p>
"
809,405540,1,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>A nested structure could be used in a test case for a garbage collector.</p>
"
810,405540,6,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>I recently created a cyclic data structure to represent the eight cardinal and ordinal directions. Its useful for each direction to know its neighbors. For instance, Direction.North knows that Direction.NorthEast and Direction.NorthWest are its neighbors. </p>

<p>This is cyclic because each neighor knows its neighbors until it goes full swing around (the ""->"" represents clockwise):</p>

<p>North -> NorthEast -> East -> SouthEast -> South -> SouthWest -> West -> NorthWest -> North -> ...</p>

<p>Notice we came back to North.</p>

<p>That allows me to do stuff like this (in C#):</p>

<pre><code>public class Direction
{
    ...
    public IEnumerable&lt;Direction&gt; WithTwoNeighbors
    {
        get {
           yield return this;
           yield return this.CounterClockwise;
           yield return this.Clockwise;
        }
    }
}
...
public void TryToMove (Direction dir)
{
    dir = dir.WithTwoNeighbors.Where (d =&gt; CanMove (d)).First ()
    Move (dir);
}
</code></pre>

<p>This turned out to be quite handy and made a lot of things much less complicated.</p>
"
811,405540,0,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>Suppose you have limited storage, and data constantly accumulates. In many real life cases, you don't mind getting rid of old data, but you don't want to move data. You can use a cyclic vector; implemented using a vector v of size N with two special indices: begin and end, which initiate on 0.</p>

<p>Insertion of ""new"" data now goes like this:</p>

<pre><code>v[end] = a;
end = (end+1) % N;
if (begin == end)
  begin = (begin+1) % N;
</code></pre>

<p>You can insert ""old"" data and erase ""old"" or ""new"" data in a similar way.
Scanning the vector goes like this</p>

<pre><code>for (i=begin; i != end; i = (i+1) % N) {
 // do stuff
}
</code></pre>
"
1031,517060,5,13,python,return eats exception,"<p>I found the following behavior at least <em>weird</em>:</p>

<pre><code>def errors():
    try:
        ErrorErrorError
    finally:
        return 10

print errors()
# prints: 10
# It should raise: NameError: name 'ErrorErrorError' is not defined
</code></pre>

<p>The exception disappears when you use <code>return</code> inside a <code>finally</code> clause. Is that a bug? Is that documented anywhere?</p>

<p>But the real question (and the answer I will mark as correct) is:<br>
What is the python developers' reason to allow that odd behavior?</p>
","<p>Here is an interesting comparison for return in finally block, among -  Java/C#/Python/JavaScript:
<a href=""http://www.gettingclever.com/2008/07/return-from-finally.html"" rel=""nofollow"">http://www.gettingclever.com/2008/07/return-from-finally.html</a></p>
"
163,92620,0,13,python,Python sockets suddenly timing out?,"<p>I came back today to an old script I had for logging into Gmail via SSL. The script worked fine last time I ran it (several months ago) but now it dies immediately with:</p>

<pre><code>&lt;urlopen error The read operation timed out&gt;
</code></pre>

<p>If I set the timeout (no matter how long), it dies even more immediately with:</p>

<pre><code>&lt;urlopen error The connect operation timed out&gt;
</code></pre>

<p>The latter is reproducible with:</p>

<pre><code>import socket
socket.setdefaulttimeout(30000)
sock = socket.socket()
sock.connect(('www.google.com', 443))
ssl = socket.ssl(sock)
</code></pre>

<p>returning:</p>

<pre><code>socket.sslerror: The connect operation timed out
</code></pre>

<p>but I can't seem to reproduce the former and, after much stepping thru the code, I have no clue what's causing any of this.</p>
","<p>The first thing I would check is whether you need to connect via an HTTP proxy (in which case direct connections bypassing the proxy will likely time out). Run Wireshark and see what happens.</p>
"
28,34570,0,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I learned most of my initial pythonese from this super-handy quick reference:</p>

<p><a href=""http://rgruet.free.fr/PQR2.3.html"" rel=""nofollow"">http://rgruet.free.fr/PQR2.3.html</a></p>
"
1030,517060,40,13,python,return eats exception,"<p>I found the following behavior at least <em>weird</em>:</p>

<pre><code>def errors():
    try:
        ErrorErrorError
    finally:
        return 10

print errors()
# prints: 10
# It should raise: NameError: name 'ErrorErrorError' is not defined
</code></pre>

<p>The exception disappears when you use <code>return</code> inside a <code>finally</code> clause. Is that a bug? Is that documented anywhere?</p>

<p>But the real question (and the answer I will mark as correct) is:<br>
What is the python developers' reason to allow that odd behavior?</p>
","<blockquote>
  <p>The exception disappears when you use <code>return</code> inside a <code>finally</code> clause. .. Is that documented anywhere?</p>
</blockquote>

<p><a href=""http://docs.python.org/reference/compound_stmts.html#the-try-statement"" rel=""nofollow"">It is:</a></p>

<blockquote>
  <p>If finally is present, it specifies a âcleanupâ handler. The try clause is executed, including any except and else clauses. If an exception occurs in any of the clauses and is not handled, the exception is temporarily saved. The finally clause is executed. If there is a saved exception, it is re-raised at the end of the finally clause. <strong>If the finally clause raises another exception or executes a return or break statement, the saved exception is lost.</strong></p>
</blockquote>
"
1029,517060,4,13,python,return eats exception,"<p>I found the following behavior at least <em>weird</em>:</p>

<pre><code>def errors():
    try:
        ErrorErrorError
    finally:
        return 10

print errors()
# prints: 10
# It should raise: NameError: name 'ErrorErrorError' is not defined
</code></pre>

<p>The exception disappears when you use <code>return</code> inside a <code>finally</code> clause. Is that a bug? Is that documented anywhere?</p>

<p>But the real question (and the answer I will mark as correct) is:<br>
What is the python developers' reason to allow that odd behavior?</p>
","<p>Returning from a finally is <strong>not</strong> a good idea. I know C# specifically forbids doing this.</p>
"
162,92620,1,13,python,Python sockets suddenly timing out?,"<p>I came back today to an old script I had for logging into Gmail via SSL. The script worked fine last time I ran it (several months ago) but now it dies immediately with:</p>

<pre><code>&lt;urlopen error The read operation timed out&gt;
</code></pre>

<p>If I set the timeout (no matter how long), it dies even more immediately with:</p>

<pre><code>&lt;urlopen error The connect operation timed out&gt;
</code></pre>

<p>The latter is reproducible with:</p>

<pre><code>import socket
socket.setdefaulttimeout(30000)
sock = socket.socket()
sock.connect(('www.google.com', 443))
ssl = socket.ssl(sock)
</code></pre>

<p>returning:</p>

<pre><code>socket.sslerror: The connect operation timed out
</code></pre>

<p>but I can't seem to reproduce the former and, after much stepping thru the code, I have no clue what's causing any of this.</p>
","<pre><code>import socket
socket.setdefaulttimeout(30000)
sock = socket.socket()
sock.connect(('www.google.com', 443))
ssl = socket.ssl(sock)
ssl.server()
--&gt; '/C=US/ST=California/L=Mountain View/O=Google Inc/CN=www.google.com'
</code></pre>

<p>It works just fine. I can't reproduce your error.</p>
"
161,92620,0,13,python,Python sockets suddenly timing out?,"<p>I came back today to an old script I had for logging into Gmail via SSL. The script worked fine last time I ran it (several months ago) but now it dies immediately with:</p>

<pre><code>&lt;urlopen error The read operation timed out&gt;
</code></pre>

<p>If I set the timeout (no matter how long), it dies even more immediately with:</p>

<pre><code>&lt;urlopen error The connect operation timed out&gt;
</code></pre>

<p>The latter is reproducible with:</p>

<pre><code>import socket
socket.setdefaulttimeout(30000)
sock = socket.socket()
sock.connect(('www.google.com', 443))
ssl = socket.ssl(sock)
</code></pre>

<p>returning:</p>

<pre><code>socket.sslerror: The connect operation timed out
</code></pre>

<p>but I can't seem to reproduce the former and, after much stepping thru the code, I have no clue what's causing any of this.</p>
","<p>www.google.com is not accessible by HTTPS.  It redirects to insecure HTTP.  To get to mail, you should be going go https://mail.google.com</p>
"
878,441130,2,13,python,"Using ""with"" statement for CSV files in Python","<p>Is it possible to use the <code>with</code> statement directly with CSV files? It seems natural to be able to do something like this:</p>

<pre><code>import csv
with csv.reader(open(""myfile.csv"")) as reader:
    # do things with reader
</code></pre>

<p>But csv.reader doesn't provide the <code>__enter__</code> and <code>__exit__</code> methods, so this doesn't work. I can however do it in two steps:</p>

<pre><code>import csv
with open(""myfile.csv"") as f:
    reader = csv.reader(f)
    # do things with reader
</code></pre>

<p>Is this second way the ideal way to do it? Why wouldn't they make csv.reader directly compatible with the with statement?</p>
","<p>The problem is csv.reader doesn't really manage a context.  It can accept any iterable, not just a file.  Therefore it doesn't call close on its input (incidentally if it did you could use contextlib.closing).  So it's not obvious what context support for csv.reader would actually do.</p>
"
877,441130,0,13,python,"Using ""with"" statement for CSV files in Python","<p>Is it possible to use the <code>with</code> statement directly with CSV files? It seems natural to be able to do something like this:</p>

<pre><code>import csv
with csv.reader(open(""myfile.csv"")) as reader:
    # do things with reader
</code></pre>

<p>But csv.reader doesn't provide the <code>__enter__</code> and <code>__exit__</code> methods, so this doesn't work. I can however do it in two steps:</p>

<pre><code>import csv
with open(""myfile.csv"") as f:
    reader = csv.reader(f)
    # do things with reader
</code></pre>

<p>Is this second way the ideal way to do it? Why wouldn't they make csv.reader directly compatible with the with statement?</p>
","<p>It's easy to create what you want using a generator function:</p>

<pre><code>
import csv
from contextlib import contextmanager

@contextmanager
def opencsv(path):
   yield csv.reader(open(path))

with opencsv(""myfile.csv"") as reader:
   # do stuff with your csvreader
</code></pre>
"
876,441130,18,13,python,"Using ""with"" statement for CSV files in Python","<p>Is it possible to use the <code>with</code> statement directly with CSV files? It seems natural to be able to do something like this:</p>

<pre><code>import csv
with csv.reader(open(""myfile.csv"")) as reader:
    # do things with reader
</code></pre>

<p>But csv.reader doesn't provide the <code>__enter__</code> and <code>__exit__</code> methods, so this doesn't work. I can however do it in two steps:</p>

<pre><code>import csv
with open(""myfile.csv"") as f:
    reader = csv.reader(f)
    # do things with reader
</code></pre>

<p>Is this second way the ideal way to do it? Why wouldn't they make csv.reader directly compatible with the with statement?</p>
","<p>The primary use of <code>with</code> statement is an exception-safe cleanup of an object used in the statement. <code>with</code> makes sure that files are closed, locks are released, contexts are restored, etc.</p>

<p>Does <a href=""http://docs.python.org/library/csv.html#csv.reader"">csv.reader</a> have things to cleanup in case of exception?</p>

<p>I'd go with:</p>

<pre><code>with open(""myfile.csv"") as f:
    for row in csv.reader(f):
        # process row
</code></pre>

<p>You don't need to submit the patch to use <code>csv.reader</code> and <code>with</code> statement together.</p>

<pre><code>import contextlib
</code></pre>

<p>Help on function contextmanager in module <a href=""http://docs.python.org/library/contextlib.html"">contextlib</a>:</p>

<pre><code>contextmanager(func)
    @contextmanager decorator.
</code></pre>

<p>Typical usage:</p>

<pre><code>    @contextmanager
    def some_generator(&lt;arguments&gt;):
        &lt;setup&gt;
        try:
            yield &lt;value&gt;
        finally:
            &lt;cleanup&gt;
</code></pre>

<p>This makes this:</p>

<pre><code>    with some_generator(&lt;arguments&gt;) as &lt;variable&gt;:
        &lt;body&gt;
</code></pre>

<p>equivalent to this:</p>

<pre><code>    &lt;setup&gt;
    try:
        &lt;variable&gt; = &lt;value&gt;
        &lt;body&gt;
    finally:
        &lt;cleanup&gt;
</code></pre>

<p>Here's a concrete example how I've used it: <a href=""http://stackoverflow.com/questions/327026/attribute-bold-doesnt-seem-to-work-in-my-curses#327072"">curses_screen</a>.</p>
"
875,441130,3,13,python,"Using ""with"" statement for CSV files in Python","<p>Is it possible to use the <code>with</code> statement directly with CSV files? It seems natural to be able to do something like this:</p>

<pre><code>import csv
with csv.reader(open(""myfile.csv"")) as reader:
    # do things with reader
</code></pre>

<p>But csv.reader doesn't provide the <code>__enter__</code> and <code>__exit__</code> methods, so this doesn't work. I can however do it in two steps:</p>

<pre><code>import csv
with open(""myfile.csv"") as f:
    reader = csv.reader(f)
    # do things with reader
</code></pre>

<p>Is this second way the ideal way to do it? Why wouldn't they make csv.reader directly compatible with the with statement?</p>
","<p>Yes.  The second way is correct.</p>

<p>As to why?  Who ever knows.  You're right, it's probably an easy change.  It's not as high priority as other things.</p>

<p>You can easily make your own patch kit and submit it.</p>
"
29,34570,0,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I tried learning from Programming Python and I didn't like it. I'm going to give Python in a Nutshell a try as per suggestions below. </p>
"
807,405540,18,13,python,What is a cyclic data structure good for?,"<p>I was just reading through <a href=""http://books.google.com/books?id=1HxWGezDZcgC&amp;lpg=PP1&amp;dq=learning%20python&amp;pg=PA254#v=onepage&amp;q=cyclic&amp;f=false"" rel=""nofollow"">""Learning Python"" by Mark Lutz and came across this code sample</a>:</p>

<pre><code>
>>> L = ['grail']
>>> L.append(L)
>>> L
['grail', [...]]

</code></pre>

<p>It was identified as a cyclic data structure.</p>

<p>So I was wondering, and here is my question:</p>

<h2><strong>What is a 'cyclic data structure' used for in real life programming?</strong></h2>

<p>There seems to be a little confusion, which i think stems from the very brief code sample... here's a few more lines using the same object L</p>

<pre><code>
>>> L[0]
'grail'
>>> L[1][0]
'grail'
>>> L[1][1][0]
'grail'

</code></pre>
","<p>Lots of things.  Circular buffer, for example:  you have some collection of data with a front and a back, but an arbitrary number of nodes, and the ""next"" item from the last should take you back to the first.</p>

<p>Graph structures are often cyclic; acyclicity is a special case.  Consider, for example, a graph containing all the cities and roads in a traveling salesman problem.</p>

<p><hr></p>

<p>Okay, here's a particular example for you.  I set up a collection of towns here in Colorado:</p>

<pre><code>V=[""Boulder"", ""Denver"", ""Colorado Springs"", ""Pueblo"", ""Limon""]
</code></pre>

<p>I then set up pairs of cities where there is a road connecting them.</p>

<pre><code>E=[[""Boulder"", ""Denver""],
   [""Denver"", ""Colorado Springs""],
   [""Colorado Springs"", ""Pueblo""],
   [""Denver"", ""Limon""],
   [""Colorado Springs"", ""Limon""]]
</code></pre>

<p>This has a bunch of cycles.  For example, you can drive from Colorado Springs, to Limon, to Denver, and back to Colorado Springs.</p>

<p>If you create a data structure that contains all the cities in V and all the roads in E, that's a <em>graph</em> data structure.  This graph would have cycles.</p>
"
27,34570,2,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I think that <a href=""http://www.greenteapress.com/thinkpython/"" rel=""nofollow"">Think Python</a> is very good for first-time programmers. Pleasant writing style too..</p>
"
22,34570,0,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p><a href=""http://diveintopython.net/"" rel=""nofollow"">Dive Into Python</a> is an excellent book geared toward programmers wanting to pick up Python.  The best part is that it's freely available online.  I started learning a little Python a few months ago and I've worked through about half of the book.  It's a very comprehensive tool that's good for learning the language and also for a reference down the road.</p>

<p>Edit: Kamens is a faster typer than I am.</p>
"
24,34570,1,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p><a href=""http://rads.stackoverflow.com/amzn/click/0596009402"" rel=""nofollow"">Python Pocket Reference</a>.</p>

<p>I have both Learning Python &amp; Programming Python and I almost always go to the Pocket Reference first.</p>
"
25,34570,2,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>Many people have suggested Dive Into Python, which is probably the best Python book out there for someone who's already a good programmer.  However, if you're new to programming, the best book is probably ""How to Think Like a Computer Scientist: Learning With Python"" (<a href=""http://openbookproject.net/thinkCSpy/index.xhtml"" rel=""nofollow"">http://openbookproject.net/thinkCSpy/index.xhtml</a>)</p>
"
26,34570,1,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I'll second Daniel's recommendation of Python in a Nutshell. If you're quick to pick up new languages, it's probably exactly what you're looking for. There's a nice overview of how the language works, and then a discussion of most of the standard library. It's concise and clear, and doesn't assume that you don't know basic programming things already.</p>
"
21,34570,8,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>Two good online-books, that also describes the basics of the environment is <a href=""http://www.diveintopython.net/toc/index.html"" rel=""nofollow"">diveintopython.net</a> and  <a href=""http://docs.python.org/tut/"" rel=""nofollow"">the ""official"" tutorial</a>.</p>
"
20,34570,7,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>Since you're already familiar with other languages and a quick study, I'd recommend <a href=""http://books.google.com/books?id=6TEcaEzA8N0C"" rel=""nofollow"">Python in a Nutshell</a> by Alex Martelli, very concise and also useful later on for reference.</p>
"
19,34570,36,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I loved <a href=""http://www.diveintopython.net/toc/index.html"" rel=""nofollow"">Dive Into Python</a>, especially if you're a quick study.  The beginning basics are all covered (and may move slowly for you), but the latter few chapters are great learning tools.</p>

<p>Plus, Pilgrim is a pretty good writer.</p>
"
1078,529890,10,13,python,Django - How to prepopulate admin form fields,"<p>I know that you can prepopulate admin form fields based on other fields. For example, I have a slug field that is automatically populated based on the title field.</p>

<p>However, I would also like to make other automatic prepopulations based on the date. For example, I have an URL field, and I want it to automatically be set to <a href=""http://example.com/20090209.mp3"" rel=""nofollow"">http://example.com/20090209.mp3</a> where 20090209 is YYYYMMDD. </p>

<p>I would also like to have a text field that automatically starts with something like ""Hello my name is author"" where author is the current user's name. Of course, I also want the person to be able to edit the field. The point is to just make it so the user can fill out the admin form more easily, and not just to have fields that are completely automatic.</p>
","<p>Django's built-in prepopulated_fields functionality is hardcoded to slugify, it can't really be used for more general purposes.</p>

<p>You'll need to write your own Javascript function to do the prepopulating.  The best way to get it included in the admin page is to include it in the <a href=""http://docs.djangoproject.com/en/dev/topics/forms/media/#topics-forms-media"">inner Media class</a> of a custom Form or <a href=""http://docs.djangoproject.com/en/dev/ref/forms/widgets/"">Widget</a>.  You'll then need to customize your <a href=""http://docs.djangoproject.com/en/dev/ref/contrib/admin/#modeladmin-objects"">ModelAdmin subclass</a> to use the custom form or widget.  Last, you'll need to render some inline Javascript along with each prepopulated field to register the onchange handler and tell it which other field to populate from; I would render this via the custom Widget.  To make it nice and declarative you could use a custom ModelAdmin attribute (similar to prepopulated_fields), and override ModelAdmin.formfield_for_dbfield to create the widget and pass in the information about what field it should prepopulate from.</p>

<p>This kind of admin hacking is almost always possible, but (as you can tell from this convoluted summary) rarely simple, especially if you're making an effort to keep your code nicely encapsulated.</p>
"
1077,529890,3,13,python,Django - How to prepopulate admin form fields,"<p>I know that you can prepopulate admin form fields based on other fields. For example, I have a slug field that is automatically populated based on the title field.</p>

<p>However, I would also like to make other automatic prepopulations based on the date. For example, I have an URL field, and I want it to automatically be set to <a href=""http://example.com/20090209.mp3"" rel=""nofollow"">http://example.com/20090209.mp3</a> where 20090209 is YYYYMMDD. </p>

<p>I would also like to have a text field that automatically starts with something like ""Hello my name is author"" where author is the current user's name. Of course, I also want the person to be able to edit the field. The point is to just make it so the user can fill out the admin form more easily, and not just to have fields that are completely automatic.</p>
","<p>You can override the default django admin field by replacing it with a form field of your choice.</p>

<p>Check this :
<a href=""http://docs.djangoproject.com/en/dev/ref/contrib/admin/#adding-custom-validation-to-the-admin"" rel=""nofollow"">Add custom validation to the admin</a></p>
"
1076,529890,2,13,python,Django - How to prepopulate admin form fields,"<p>I know that you can prepopulate admin form fields based on other fields. For example, I have a slug field that is automatically populated based on the title field.</p>

<p>However, I would also like to make other automatic prepopulations based on the date. For example, I have an URL field, and I want it to automatically be set to <a href=""http://example.com/20090209.mp3"" rel=""nofollow"">http://example.com/20090209.mp3</a> where 20090209 is YYYYMMDD. </p>

<p>I would also like to have a text field that automatically starts with something like ""Hello my name is author"" where author is the current user's name. Of course, I also want the person to be able to edit the field. The point is to just make it so the user can fill out the admin form more easily, and not just to have fields that are completely automatic.</p>
","<blockquote>
  <p>I would also like to have a text field
  that automatically starts with
  something like ""Hello my name is
  author"".</p>
</blockquote>

<p>Check out the docs at: <a href=""http://docs.djangoproject.com/en/dev/ref/models/fields/#default"" rel=""nofollow"">http://docs.djangoproject.com/en/dev/ref/models/fields/#default</a></p>

<p>You could have a CharField() or TextField() in your model, and set this option, which will set the default text. 'default' can also be a callable function. </p>

<p>Something like: 
  models.CharField(max_length=250, default=""Default Text"")</p>
"
1075,529890,2,13,python,Django - How to prepopulate admin form fields,"<p>I know that you can prepopulate admin form fields based on other fields. For example, I have a slug field that is automatically populated based on the title field.</p>

<p>However, I would also like to make other automatic prepopulations based on the date. For example, I have an URL field, and I want it to automatically be set to <a href=""http://example.com/20090209.mp3"" rel=""nofollow"">http://example.com/20090209.mp3</a> where 20090209 is YYYYMMDD. </p>

<p>I would also like to have a text field that automatically starts with something like ""Hello my name is author"" where author is the current user's name. Of course, I also want the person to be able to edit the field. The point is to just make it so the user can fill out the admin form more easily, and not just to have fields that are completely automatic.</p>
","<p>The slug handling is done with javascript.</p>

<p>So you have to <a href=""http://docs.djangoproject.com/en/dev/ref/contrib/admin/#templates-which-may-be-overridden-per-app-or-model"" rel=""nofollow"">override</a> the templates in the admin and then populate the fields with javascript. The date thing should be trivial, but I dont know how you should get the logged in users name to the script (not that I have thought very hard but you get the drift :).</p>
"
23,34570,1,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p><a href=""http://rads.stackoverflow.com/amzn/click/0596513984"" rel=""nofollow"">Learning Python</a> is how I learned the language.  It's a quick read, and very well organized around fundamental concepts.  </p>
"
365,183480,22,13,python,Is this the best way to get unique version of filename w/ Python?,"<p>Still 'diving in' to Python, and want to make sure I'm not overlooking something. I wrote a script that extracts files from several zip files, and saves the extracted files together in one directory. To prevent duplicate filenames from being over-written, I wrote this little function - and I'm just wondering if there is a better way to do this?
Thanks!</p>

<pre><code>def unique_filename(file_name):
counter = 1
file_name_parts = os.path.splitext(file_name) # returns ('/path/file', '.ext')
while os.path.isfile(file_name): 
    file_name = file_name_parts[0] + '_' + str(counter) + file_name_parts[1]
    counter += 1
return file_name
</code></pre>

<p>I really <em>do</em> require the files to be in a single directory, and numbering duplicates is definitely acceptable in my case, so I'm not looking for a more robust method (tho' I suppose any pointers are welcome), but just to make sure that what this accomplishes is getting done the right way.</p>
","<p>One issue is that there is a race condition in your above code, since there is a gap between testing for existance, and creating the file.  There may be security implications to this (think about someone maliciously inserting a symlink to a sensitive file which they wouldn't be able to overwrite, but your program running with a higher privilege could)  Attacks like these are why things like os.tempnam() are deprecated.</p>

<p>To get around it, the best approach is to actually try create the file in such a way that you'll get an exception if it fails, and on success, return the actually opened file object.  This can be done with the lower level os.open functions, by passing both the os.O_CREAT and os.O_EXCL flags.  Once opened, return the actual file (and optionally filename) you create.  Eg, here's your code modified to use this approach (returning a (file, filename) tuple):</p>

<pre><code>def unique_file(file_name):
    counter = 1
    file_name_parts = os.path.splitext(file_name) # returns ('/path/file', '.ext')
    while 1:
        try:
            fd = os.open(file_name, os.O_CREAT | os.O_EXCL | os.O_RDRW)
            return os.fdopen(fd), file_name
        except OSError:
            pass
        file_name = file_name_parts[0] + '_' + str(counter) + file_name_parts[1]
        counter += 1
</code></pre>

<p><strong>[Edit]</strong>  Actually, a better way, which will handle the above issues for you, is probably to use the tempfile module, though you may lose some control over the naming.  Here's an example of using it (keeping a similar interface):</p>

<pre><code>def unique_file(file_name):
    dirname, filename = os.path.split(file_name)
    prefix, suffix = os.path.splitext(filename)

    fd, filename = tempfile.mkstemp(suffix, prefix+""_"", dirname)
    return os.fdopen(fd), filename

&gt;&gt;&gt; f, filename=unique_file('/home/some_dir/foo.txt')
&gt;&gt;&gt; print filename
/home/some_dir/foo_z8f_2Z.txt
</code></pre>

<p>The only downside with this approach is that you will always get a filename with some random characters in it, as there's no attempt to create an unmodified file (/home/some_dir/foo.txt) first.
You may also want to look at tempfile.TemporaryFile and NamedTemporaryFile, which will do the above and also automatically delete from disk when closed.</p>
"
18,34570,6,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I found <a href=""http://rads.stackoverflow.com/amzn/click/0596513984"" rel=""nofollow"">Learning Python</a> really good. It's pretty long (>700 pages) but <em>extremely</em> readable and you can rip through it very quickly given you're a quick study :-)</p>
"
17,34570,10,13,python,What is the best quick-read Python book out there?,"<p>I am taking a class that requires Python. We will review the language in class next week, and I am a quick study on new languages, but I was wondering if there are any really great Python books I can grab while I am struggling through the basics of setting up my IDE, server environment and all those other ""gotchas"" that come with a new programming language. Suggestions?</p>
","<p>I expect that <a href=""http://oreilly.com/catalog/9780596513986/"" rel=""nofollow"">Learning Python</a> is useful, and quick to read.</p>
"
366,183480,0,13,python,Is this the best way to get unique version of filename w/ Python?,"<p>Still 'diving in' to Python, and want to make sure I'm not overlooking something. I wrote a script that extracts files from several zip files, and saves the extracted files together in one directory. To prevent duplicate filenames from being over-written, I wrote this little function - and I'm just wondering if there is a better way to do this?
Thanks!</p>

<pre><code>def unique_filename(file_name):
counter = 1
file_name_parts = os.path.splitext(file_name) # returns ('/path/file', '.ext')
while os.path.isfile(file_name): 
    file_name = file_name_parts[0] + '_' + str(counter) + file_name_parts[1]
    counter += 1
return file_name
</code></pre>

<p>I really <em>do</em> require the files to be in a single directory, and numbering duplicates is definitely acceptable in my case, so I'm not looking for a more robust method (tho' I suppose any pointers are welcome), but just to make sure that what this accomplishes is getting done the right way.</p>
","<p>if you don't care about readability, uuid.uuid4() is your friend.</p>

<pre><code>import uuid

def unique_filename(prefix=None, suffix=None):
    fn = []
    if prefix: fn.extend([prefix, '-'])
    fn.append(str(uuid.uuid4()))
    if suffix: fn.extend(['.', suffix.lstrip('.')])
    return ''.join(fn)
</code></pre>
"
172,93930,3,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>Most python GUI APIs will be wrappers around the most common c/c++ GUI APIs. You've got a python wrapper for gtk, a python wrapper for qt, a python wrapper for .NET, etc etc. </p>

<p>So really it depends on what your needs are. If you are looking for the easiest way to draw native-looking widgets on Linux, Mac, and Windows, then go with wxPython (python wrapper for WX Widgets). If cross-platform isn't one of your needs though, other libraries might be more useful. </p>
"
170,93930,13,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p><a href=""http://wiki.python.org/moin/GuiProgramming"" rel=""nofollow"">Here's a good list.</a></p>
"
169,93710,-2,12,python,What's the easiest non-memory intensive way to output XML from Python?,"<p>Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?</p>
","<p>Second vote for ElementTree (cElementTree is a C implementation that is a little faster, like cPickle vs pickle).  There's some short example code here that you can look at to give you an idea of how it works: <a href=""http://effbot.org/zone/element-index.htm"" rel=""nofollow"">http://effbot.org/zone/element-index.htm</a>
(this is Fredrik Lundh, who wrote the module in the first place.  It's so good it got drafted into the standard library with 2.5 :-) )</p>
"
177,93930,0,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>I've been working with <a href=""http://www.wxpython.org"" rel=""nofollow"">wxPython</a> for a few years now and I like it quite a bit. The best thing about wxPython is that the UI feels native on the different platforms it runs on (excellent on Windows and Linux though not as good on OS/X).</p>

<p>The API lacks some consistency, but you quickly get used to it.</p>

<p>You can check out <a href=""http://www.testuff.com"" rel=""nofollow"">Testuff</a> (shameless plug, as it's my own product) to get a feeling of what can be done with wxPython (although I must say, with quite a bit of effort).</p>
"
450,227790,14,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<p>As other answers have suggested, you can provide your function with a copy of the list.</p>

<p>As an alternative, your function could take a copy of the argument:</p>

<pre><code>def burninate(b):
    c = []
    b = list(b)
    for i in range(3):
        c.append(b.pop())
    return c
</code></pre>

<p>Basically, you need to be clear in your mind (and in your documentation) whether your function will change its arguments.  In my opinion, functions that return computed values should not change their arguments, and functions that change their arguments should not return anything.  See python's [].sort(), [].extend(), {}.update(), etc. for examples.  Obviously there are exceptions (like .pop()).</p>

<p>Also, depending on your particular case, you could rewrite the function to avoid using pop() or other functions that modify the argument.  e.g.</p>

<pre><code>def burninante(b):
    return b[:-4:-1]   # return the last three elements in reverse order
</code></pre>
"
178,93930,10,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>I've used Tkinter and wxPython.  Tkinter is quite basic, and doesn't use native widgets.  This means that Tkinter applications will look the same on any platform â this might sound appealing, but in practice, it means they look ugly on any platform :-/  Nevertheless, it's pretty easy to use.  I found <a href=""http://www.ferg.org/thinking_in_tkinter/index.html"">Thinking in Tkinter</a> very helpful when I was learning, because I'd never done any GUI programming before.  If things like frames and layout algorithms and buttons and bindings are familiar to you, though, you can skip that step.</p>

<p>You can augment Tkinter with Tix (but be warned, Tix doesn't play well with py2exe).  Also check out Python Megawidgets, which builds some more advanced controls using the Tkinter basics.</p>

<p>Finally, Tkinter plays nice with the shell: you can start the interpreter, do things like 'import tkinter' 'tk = tkinter.Tk()' etc. and build your GUI interactively (and it will be responsive).  (I think this doesn't work if you use IDLE, though)</p>

<p>wxPython is much better looking, and ships with a much greater range of controls.  It's cross-platform (though it seems a bit finicky on my Mac) and uses native controls on each platform.  It's a bit confusing, though.  It also ships with a demo application that shows off most of its features, and provides a test-bed for you to experiment.  Some specific thoughts on wxPython:</p>

<ul>
<li>There are three (?) different ways to lay widgets out.  Ignore two of them; just use Sizers.  And even then, you can do just about any layout using only BoxSizer and GridBagSizer.</li>
<li>All wx widgets have IDs.  You don't need to care what the IDs are, but in the old days (I think) you did need to know, so some old code will be littered with explicit ID assignments.  And most demo code will have -1 everywhere as the ID parameter (despite the fact that the methods all have ID as a keyword parameter that defaults to -1 anyway).</li>
<li>Make sure you get the standard wxWidgets docs as well as the wxPython Demo â you need them both.</li>
<li>If you want to use wxPython with py2exe and you want it to look good on Windows XP, you need a bit of trickery in your setup.py.  See <a href=""http://mail.python.org/pipermail/python-list/2004-June/268126.html"">here</a></li>
</ul>
"
451,227790,0,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<pre><code>burninate = lambda x: x[:-4:-1]</code></pre>
"
975,477820,26,12,python,What's the idiomatic Python equivalent to Django's 'regroup' template tag?,"<p><a href=""http://docs.djangoproject.com/en/dev/ref/templates/builtins/#regroup"">http://docs.djangoproject.com/en/dev/ref/templates/builtins/#regroup</a></p>

<p>I can think of a few ways of doing it with loops but I'd particularly like to know if there is a neat one-liner.</p>
","<p>Combine <a href=""http://docs.python.org/library/itertools.html#itertools.groupby""><code>itertools.groupby</code></a> with <a href=""http://docs.python.org/library/operator.html#operator.itemgetter""><code>operator.itemgetter</code></a> to get a pretty nice solution:</p>

<pre><code>from operator import itemgetter
from itertools import groupby

key = itemgetter('gender')
iter = groupby(sorted(people, key=key), key=key)

for gender, people in iter:
    print '===', gender, '==='
    for person in people:
        print person
</code></pre>
"
181,93930,0,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>wxPython, and I'm assuming PyGTK also, can use wxGlade to help you design most UIs you will create. That is a big plus. You don't have to learn how to hand-code the GUI until you're ready. I made several GUI programs straight from wxGlade before I was comfortable enough in how wxPython worked to take a shot at hand-coding.</p>

<p>PyQt has a similar graphic layout device but I've never had good luck getting PyQt to compile correctly. There was also a lack of tutorials and documentation that showed how to create the final Python code; many of the documents I found referred to the C++ version of Qt.</p>

<p>Tkinter is good for quick and dirty programs but, realistically, if you use wxGlade it may be faster to make the program with wxPython. At a minimum, you can use wxGlade to show a visual representation of the program to a client rather than take the time to hand-code the ""dummy"" program.</p>
"
452,227790,1,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<p>You can use copy.deepcopy()</p>
"
448,227790,2,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<p>Other versions:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(1, 4):
        c.append(b[-i])
    return c
</code></pre>

<pre><code>def burninate(b):
    c = b[-4:-1]
    c.reverse()
    return c
</code></pre>

<p>And someday you will love list comprehensions:</p>

<pre><code>def burninate(b):
    return [b[-i] for i in range(1,4)]
</code></pre>
"
447,227790,6,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<p>A slightly more readable way to do the same thing is:</p>

<pre><code>d = burninate(list(a))
</code></pre>

<p>Here, the <code>list()</code> constructor creates a new list based on <code>a</code>.</p>
"
446,227790,10,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<p>You can call <code>burninate()</code> with a copy of the list like this:</p>

<p><code>d = burninate(a[:])</code></p>

<p>or,</p>

<p><code>d = burninate(list(a))</code></p>

<p>The other alternative is to make a copy of the list in your method:</p>

<pre><code>def burninate(b):
    c=[]
    b=b[:]
    for i in range(3):
        c.append(b.pop())
    return c

&gt;&gt;&gt; a = range(6)
&gt;&gt;&gt; b = burninate(a)
&gt;&gt;&gt; print a, b
&gt;&gt;&gt; [0, 1, 2, 3, 4, 5] [5, 4, 3]
</code></pre>
"
180,93930,1,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>I prefer PyGTK, because I am a GNOME guy. Using PyGTK feels very pythonic to me. The code organization feels consistent, the documentation is clean and thorough, and it's a very easy toolkit to get used to (except for maybe Treeviews).</p>
"
179,93930,2,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<blockquote>
  <p>EasyGUI is different from other GUIs in that EasyGUI is NOT event-driven. It allows you to program in a traditional linear fashion, and to put up dialogs for simple input and output when you need to. If you have not yet learned the event-driven paradigm for GUI programming, EasyGUI will allow you to be productive with very basic tasks immediately. Later, if you wish to make the transition to an event-driven GUI paradigm, you can do so with a more powerful GUI package such as anygui, PythonCard, Tkinter, wxPython, etc.</p>
</blockquote>

<p><a href=""http://easygui.sourceforge.net/"" rel=""nofollow"">EasyGui Website</a></p>
"
164,93710,1,12,python,What's the easiest non-memory intensive way to output XML from Python?,"<p>Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?</p>
","<p>I think I have your poison :</p>

<p><a href=""http://sourceforge.net/projects/xmlite"" rel=""nofollow"">http://sourceforge.net/projects/xmlite</a></p>

<p>Cheers</p>
"
1066,527510,9,12,python,How to deploy a Python application with libraries as source with no further dependencies?,"<p><strong>Background</strong>: I have a small Python application that makes life for developers releasing software in our company a bit easier. I build an executable for Windows using py2exe. The application as well as the binary are checked into Subversion. Distribution happens by people just checking out the directory from SVN. The program has about 6 different Python library dependencies (e.g. ElementTree, Mako)</p>

<p><strong>The situation</strong>: Developers want to hack on the source of this tool and then run it without having to build the binary. Currently this means that they need a python 2.6 interpreter (which is fine) and also have the 6 libraries installed locally using easy_install.</p>

<p><strong>The Problem</strong></p>

<ul>
<li>This is not a public, classical open source environment: I'm inside a corporate network, the tool will never leave the ""walled garden"" and we have seriously inconvenient barriers to getting to the outside internet (NTLM authenticating proxies and/or machines without direct internet access).</li>
<li>I want the hurdles to starting to hack on this tool to be minimal: nobody should have to hunt for the right dependency in the right version, they should have to execute as little setup as possible. Optimally the prerequisites would be having a Python installation and just checking out the program from Subversion.</li>
</ul>

<p><strong>Anecdote</strong>: The more self-contained the process is the easier it is to repeat it. I had my machine swapped out for a new one and went through the unpleasant process of having to reverse engineer the dependencies, reinstall distutils, hunting down the libraries online and getting them to install (see corporate internet restrictions above). </p>
","<p>Just use <a href=""http://pypi.python.org/pypi/virtualenv"">virtualenv</a> - it is a tool to create isolated Python environments. You can create a set-up script and distribute the whole bunch if you want.</p>
"
567,277170,2,12,python,Is there a good Python GUI shell?,"<p>I saw this the other day (scroll <em>all the way</em> down to see some of the clever stuff): </p>

<blockquote>
  <p><a href=""http://www.mono-project.com/docs/tools+libraries/tools/repl/"" rel=""nofollow"">http://www.mono-project.com/docs/tools+libraries/tools/repl/</a></p>
</blockquote>

<p>And wondered whether something like this exists for Python.</p>

<p>So, is there a good Python GUI shell that can do stuff like that C# shell can do?</p>

<p>Edit: Here are links to screenshots from the article, showing what I'm interested in doing.</p>

<p>An example of the type of things I'm interested: </p>

<p><a href=""http://www.mono-project.com/archived/images/7/75/GSharpPlot.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/7/75/GSharpPlot.png</a></p>

<p>They are able to add hooks to produce GUI elements like the plot, or even do silly things like:</p>

<p><a href=""http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png</a></p>

<p>I don't think this is possible with any of the console shells I've tried (the regular python shell, ipython).</p>

<p>Edit: I'm not looking for an IDE. If you look at the link, you'll get an idea of what I want.</p>
","<p>I think that a combination of Pycrust with matplotlib can do exactly what you need. Pycrust is part of the wxPython installation, and matplotlib should be insalled separately. Both are simple to install in about 5 minutes.</p>

<p>Read <a href=""http://eli.thegreenplace.net/2008/07/26/matplotlib-plotting-with-python/"" rel=""nofollow"">this</a> about integrating matplotlib with Pycrust to produce dynamic plots like the ones in the link you posted.</p>
"
1067,527510,8,12,python,How to deploy a Python application with libraries as source with no further dependencies?,"<p><strong>Background</strong>: I have a small Python application that makes life for developers releasing software in our company a bit easier. I build an executable for Windows using py2exe. The application as well as the binary are checked into Subversion. Distribution happens by people just checking out the directory from SVN. The program has about 6 different Python library dependencies (e.g. ElementTree, Mako)</p>

<p><strong>The situation</strong>: Developers want to hack on the source of this tool and then run it without having to build the binary. Currently this means that they need a python 2.6 interpreter (which is fine) and also have the 6 libraries installed locally using easy_install.</p>

<p><strong>The Problem</strong></p>

<ul>
<li>This is not a public, classical open source environment: I'm inside a corporate network, the tool will never leave the ""walled garden"" and we have seriously inconvenient barriers to getting to the outside internet (NTLM authenticating proxies and/or machines without direct internet access).</li>
<li>I want the hurdles to starting to hack on this tool to be minimal: nobody should have to hunt for the right dependency in the right version, they should have to execute as little setup as possible. Optimally the prerequisites would be having a Python installation and just checking out the program from Subversion.</li>
</ul>

<p><strong>Anecdote</strong>: The more self-contained the process is the easier it is to repeat it. I had my machine swapped out for a new one and went through the unpleasant process of having to reverse engineer the dependencies, reinstall distutils, hunting down the libraries online and getting them to install (see corporate internet restrictions above). </p>
","<p>""I dislike the fact that developers (or me starting on a clean new machine) have to jump through the distutils hoops of having to install the libraries locally before they can get started""</p>

<p>Why?</p>

<p>What -- specifically -- is wrong with this?</p>

<p>You did it to create the project.  Your project is so popular others want to do the same.</p>

<p>I don't see a problem.  Please update your question with specific problems you need solved.  Disliking the way open source is distributed isn't a problem -- it's the way that open source works.</p>

<p><strong>Edit</strong>.  The ""walled garden"" doesn't matter very much.  </p>

<p>Choice 1.  You could, BTW, build an ""installer"" that runs easy_install 6 times for them.</p>

<p>Choice 2.  You can save all of the installer kits that easy_install would have used.  Then you can provide a script that does an unzip and a <code>python setup.py install</code> for all six.</p>

<p>Choice 3.  You can provide a zipped version of your <code>site-packages</code>.  After they install Python, they unzip your site-packages directory into `C:\Python2.5\lib\site-packages``.</p>

<p>Choice 4.  You can build your own MSI installer kit for your Python environment.</p>

<p>Choice 5.  You can host your own pypi-like server and provide an easy_install that checks your server first.</p>
"
1068,527510,0,12,python,How to deploy a Python application with libraries as source with no further dependencies?,"<p><strong>Background</strong>: I have a small Python application that makes life for developers releasing software in our company a bit easier. I build an executable for Windows using py2exe. The application as well as the binary are checked into Subversion. Distribution happens by people just checking out the directory from SVN. The program has about 6 different Python library dependencies (e.g. ElementTree, Mako)</p>

<p><strong>The situation</strong>: Developers want to hack on the source of this tool and then run it without having to build the binary. Currently this means that they need a python 2.6 interpreter (which is fine) and also have the 6 libraries installed locally using easy_install.</p>

<p><strong>The Problem</strong></p>

<ul>
<li>This is not a public, classical open source environment: I'm inside a corporate network, the tool will never leave the ""walled garden"" and we have seriously inconvenient barriers to getting to the outside internet (NTLM authenticating proxies and/or machines without direct internet access).</li>
<li>I want the hurdles to starting to hack on this tool to be minimal: nobody should have to hunt for the right dependency in the right version, they should have to execute as little setup as possible. Optimally the prerequisites would be having a Python installation and just checking out the program from Subversion.</li>
</ul>

<p><strong>Anecdote</strong>: The more self-contained the process is the easier it is to repeat it. I had my machine swapped out for a new one and went through the unpleasant process of having to reverse engineer the dependencies, reinstall distutils, hunting down the libraries online and getting them to install (see corporate internet restrictions above). </p>
","<p>I agree with the answers by Nosklo and S.Lott. (+1 to both)</p>

<p>Can I just add that what you want to do is actually a <strong>terrible idea</strong>.</p>

<p>If you genuinely want people to hack on your code, they will need some understanding of the libraries involved, how they work, what they are, where they come from, the documentation for each etc. Sure provide them with a bootstrap script, but beyond that you will be molly-coddling to the point that they are clueless.</p>

<p>Then there are specific issues such as ""what if one user wants to install a different version or implementation of a library?"", a glaring example here is ElementTree, as this has a number of implementations.</p>
"
168,93710,13,12,python,What's the easiest non-memory intensive way to output XML from Python?,"<p>Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?</p>
","<p>I think you'll find XMLGenerator from xml.sax.saxutils is the closest thing to what you want.</p>

<pre>
import time
from xml.sax.saxutils import XMLGenerator
from xml.sax.xmlreader import AttributesNSImpl

LOG_LEVELS = ['DEBUG', 'WARNING', 'ERROR']


class xml_logger:
    def __init__(self, output, encoding):
        """"""
        Set up a logger object, which takes SAX events and outputs
        an XML log file
        """"""
        logger = XMLGenerator(output, encoding)
        logger.startDocument()
        attrs = AttributesNSImpl({}, {})
        logger.startElementNS((None, u'log'), u'log', attrs)
        self._logger = logger
        self._output = output
        self._encoding = encoding
        return

    def write_entry(self, level, msg):
        """"""
        Write a log entry to the logger
        level - the level of the entry
        msg   - the text of the entry.  Must be a Unicode object
        """"""
        #Note: in a real application, I would use ISO 8601 for the date
        #asctime used here for simplicity
        now = time.asctime(time.localtime())
        attr_vals = {
            (None, u'date'): now,
            (None, u'level'): LOG_LEVELS[level],
            }
        attr_qnames = {
            (None, u'date'): u'date',
            (None, u'level'): u'level',
            }
        attrs = AttributesNSImpl(attr_vals, attr_qnames)
        self._logger.startElementNS((None, u'entry'), u'entry', attrs)
        self._logger.characters(msg)
        self._logger.endElementNS((None, u'entry'), u'entry')
        return

    def close(self):
        """"""
        Clean up the logger object
        """"""
        self._logger.endElementNS((None, u'log'), u'log')
        self._logger.endDocument()
        return

if __name__ == ""__main__"":
    #Test it out
    import sys
    xl = xml_logger(sys.stdout, 'utf-8')
    xl.write_entry(2, u""Vanilla log entry"")
    xl.close()   

</pre>

<p>You'll probably want to look at the rest of the article I got that from at <a href=""http://www.xml.com/pub/a/2003/03/12/py-xml.html"">http://www.xml.com/pub/a/2003/03/12/py-xml.html</a>.</p>
"
173,93930,1,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>I like wxPython or Tk.</p>

<p>Tk comes with the standard Python distribution so you don't need install anything else.</p>

<p>wxPython (wxWigets) seems much more powerful and looks a lot nicer.  It also works well cross-platform (though not perfectly because it uses different underlying graphic API's on diff system types)</p>
"
1069,527510,8,12,python,How to deploy a Python application with libraries as source with no further dependencies?,"<p><strong>Background</strong>: I have a small Python application that makes life for developers releasing software in our company a bit easier. I build an executable for Windows using py2exe. The application as well as the binary are checked into Subversion. Distribution happens by people just checking out the directory from SVN. The program has about 6 different Python library dependencies (e.g. ElementTree, Mako)</p>

<p><strong>The situation</strong>: Developers want to hack on the source of this tool and then run it without having to build the binary. Currently this means that they need a python 2.6 interpreter (which is fine) and also have the 6 libraries installed locally using easy_install.</p>

<p><strong>The Problem</strong></p>

<ul>
<li>This is not a public, classical open source environment: I'm inside a corporate network, the tool will never leave the ""walled garden"" and we have seriously inconvenient barriers to getting to the outside internet (NTLM authenticating proxies and/or machines without direct internet access).</li>
<li>I want the hurdles to starting to hack on this tool to be minimal: nobody should have to hunt for the right dependency in the right version, they should have to execute as little setup as possible. Optimally the prerequisites would be having a Python installation and just checking out the program from Subversion.</li>
</ul>

<p><strong>Anecdote</strong>: The more self-contained the process is the easier it is to repeat it. I had my machine swapped out for a new one and went through the unpleasant process of having to reverse engineer the dependencies, reinstall distutils, hunting down the libraries online and getting them to install (see corporate internet restrictions above). </p>
","<p>I sometimes use the approach I describe below, for the exact same reason that @Boris states: I would prefer that the use of some code is as easy as a) svn checkout/update - b) go.</p>

<p>But for the record:</p>

<ul>
<li>I use virtualenv/easy_install most of the time.</li>
<li>I agree to a certain extent to the critisisms by @Ali A and @S.Lott</li>
</ul>

<p>Anyway, the approach I use depends on modifying sys.path, and works like this:</p>

<ul>
<li>Require python and setuptools (to enable loading code from eggs) on all computers that will use your software.</li>
<li>Organize your directory structure this:</li>
</ul>

<pre>
project/
    *.py
    scriptcustomize.py
    file.pth

    thirdparty/
        eggs/
            mako-vNNN.egg
            ... .egg
        code/
            elementtree\
                *.py
            ...
</pre>

<ul>
<li>In your top-level script(s) include the following code at the top:</li>
</ul>

<pre>
from scriptcustomize import apply_pth_files
apply_pth_files(__file__)
</pre>

<ul>
<li>Add scriptcustomize.py to your project folder:</li>
</ul>

<pre>
import os
from glob import glob
import fileinput
import sys

def apply_pth_files(scriptfilename, at_beginning=False):
    """"""At the top of your script:
    from scriptcustomize import apply_pth_files
    apply_pth_files(__file__)

    """"""
    directory = os.path.dirname(scriptfilename)
    files = glob(os.path.join(directory, '*.pth'))
    if not files:
        return
    for line in fileinput.input(files):
        line = line.strip()
        if line and line[0] != '#':
            path = os.path.join(directory, line)
            if at_beginning:
                sys.path.insert(0, path)
            else:
                sys.path.append(path)
</pre>

<ul>
<li>Add one or more *.pth file(s) to your project folder. On each line, put a reference to a directory with packages. For instance:</li>
</ul>

<pre>
# contents of *.pth file
thirdparty/code
thirdparty/eggs/mako-vNNN.egg
</pre>

<ul>
<li>I ""kind-of"" like this approach. What I like: it is similar to how *.pth files work, but for individual programs instead of your entire site-packages. What I do not like: having to add the two lines at the beginning of the top-level scripts.</li>
<li>Again: I use virtualenv most of the time. But I tend to use virtualenv for projects where I have tight control of the deployment scenario. In cases where I do not have tight control, I tend to use the approach I describe above. It makes it really easy to package a project as a zip and have the end user ""install"" it (by unzipping).</li>
</ul>
"
563,277170,6,12,python,Is there a good Python GUI shell?,"<p>I saw this the other day (scroll <em>all the way</em> down to see some of the clever stuff): </p>

<blockquote>
  <p><a href=""http://www.mono-project.com/docs/tools+libraries/tools/repl/"" rel=""nofollow"">http://www.mono-project.com/docs/tools+libraries/tools/repl/</a></p>
</blockquote>

<p>And wondered whether something like this exists for Python.</p>

<p>So, is there a good Python GUI shell that can do stuff like that C# shell can do?</p>

<p>Edit: Here are links to screenshots from the article, showing what I'm interested in doing.</p>

<p>An example of the type of things I'm interested: </p>

<p><a href=""http://www.mono-project.com/archived/images/7/75/GSharpPlot.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/7/75/GSharpPlot.png</a></p>

<p>They are able to add hooks to produce GUI elements like the plot, or even do silly things like:</p>

<p><a href=""http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png</a></p>

<p>I don't think this is possible with any of the console shells I've tried (the regular python shell, ipython).</p>

<p>Edit: I'm not looking for an IDE. If you look at the link, you'll get an idea of what I want.</p>
","<p>As far as I know there is nothing out there that offers the sort of whiz-bang features that the Mono guys have implemented in their new shell, but that is not to say that the ""basic"" python interactive shell isn't a feature-complete and powerful application.  I could see something like the C# shell being developed at some point, but I think as of today those features you're pointing to are reasonably unique.  One might argue that this is because nobody thought of them or, alternatively, because nobody has really had a need for them.  I tend to subscribe to the latter, although I suppose both are plausible.</p>
"
564,277170,7,12,python,Is there a good Python GUI shell?,"<p>I saw this the other day (scroll <em>all the way</em> down to see some of the clever stuff): </p>

<blockquote>
  <p><a href=""http://www.mono-project.com/docs/tools+libraries/tools/repl/"" rel=""nofollow"">http://www.mono-project.com/docs/tools+libraries/tools/repl/</a></p>
</blockquote>

<p>And wondered whether something like this exists for Python.</p>

<p>So, is there a good Python GUI shell that can do stuff like that C# shell can do?</p>

<p>Edit: Here are links to screenshots from the article, showing what I'm interested in doing.</p>

<p>An example of the type of things I'm interested: </p>

<p><a href=""http://www.mono-project.com/archived/images/7/75/GSharpPlot.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/7/75/GSharpPlot.png</a></p>

<p>They are able to add hooks to produce GUI elements like the plot, or even do silly things like:</p>

<p><a href=""http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png</a></p>

<p>I don't think this is possible with any of the console shells I've tried (the regular python shell, ipython).</p>

<p>Edit: I'm not looking for an IDE. If you look at the link, you'll get an idea of what I want.</p>
","<p>Have you looked at <a href=""http://ipython.scipy.org/moin/"">ipython</a>? It's not quite as ""gui"". No smileys, sorry. ;-) It is a pretty good interactive shell for python though. </p>

<p>edit: I see you revised your question to emphasize the importance <strong>GUI</strong>. In that case, IPython wouldn't be a good match. </p>

<p>Might as well save you another blind alley: I went looking at DrPython hoping it would be similar to PLT's DrScheme, which looks comparable to example you've linked too. Unfortunately DrPython isn't all that much like DrScheme. </p>
"
565,277170,13,12,python,Is there a good Python GUI shell?,"<p>I saw this the other day (scroll <em>all the way</em> down to see some of the clever stuff): </p>

<blockquote>
  <p><a href=""http://www.mono-project.com/docs/tools+libraries/tools/repl/"" rel=""nofollow"">http://www.mono-project.com/docs/tools+libraries/tools/repl/</a></p>
</blockquote>

<p>And wondered whether something like this exists for Python.</p>

<p>So, is there a good Python GUI shell that can do stuff like that C# shell can do?</p>

<p>Edit: Here are links to screenshots from the article, showing what I'm interested in doing.</p>

<p>An example of the type of things I'm interested: </p>

<p><a href=""http://www.mono-project.com/archived/images/7/75/GSharpPlot.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/7/75/GSharpPlot.png</a></p>

<p>They are able to add hooks to produce GUI elements like the plot, or even do silly things like:</p>

<p><a href=""http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png</a></p>

<p>I don't think this is possible with any of the console shells I've tried (the regular python shell, ipython).</p>

<p>Edit: I'm not looking for an IDE. If you look at the link, you'll get an idea of what I want.</p>
","<p>One project I'm aware of that provides similar features (inline plotting, customisable rendering) is <a href=""http://fishsoup.net/software/reinteract/"">Reinteract</a>.  Another (though possibly a bit heavyweight for general usage) is <a href=""http://www.sagemath.org/"">SAGE</a> which provides functionality for web-based <a href=""http://www.sagenb.org"">notebooks</a>.</p>

<p>These aren't quite shells - they're designed more as a mathematical notebook (so for instance, you can modify an earlier result and have the change propogate to later calculations), but they're close to what you're looking for, and could probably be modified to be used as such.</p>
"
566,277170,3,12,python,Is there a good Python GUI shell?,"<p>I saw this the other day (scroll <em>all the way</em> down to see some of the clever stuff): </p>

<blockquote>
  <p><a href=""http://www.mono-project.com/docs/tools+libraries/tools/repl/"" rel=""nofollow"">http://www.mono-project.com/docs/tools+libraries/tools/repl/</a></p>
</blockquote>

<p>And wondered whether something like this exists for Python.</p>

<p>So, is there a good Python GUI shell that can do stuff like that C# shell can do?</p>

<p>Edit: Here are links to screenshots from the article, showing what I'm interested in doing.</p>

<p>An example of the type of things I'm interested: </p>

<p><a href=""http://www.mono-project.com/archived/images/7/75/GSharpPlot.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/7/75/GSharpPlot.png</a></p>

<p>They are able to add hooks to produce GUI elements like the plot, or even do silly things like:</p>

<p><a href=""http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png</a></p>

<p>I don't think this is possible with any of the console shells I've tried (the regular python shell, ipython).</p>

<p>Edit: I'm not looking for an IDE. If you look at the link, you'll get an idea of what I want.</p>
","<p><a href=""http://www.loria.fr/~rougier/pub/Software/pylab"" rel=""nofollow"">Interactive pylab console</a>.</p>
"
568,277170,3,12,python,Is there a good Python GUI shell?,"<p>I saw this the other day (scroll <em>all the way</em> down to see some of the clever stuff): </p>

<blockquote>
  <p><a href=""http://www.mono-project.com/docs/tools+libraries/tools/repl/"" rel=""nofollow"">http://www.mono-project.com/docs/tools+libraries/tools/repl/</a></p>
</blockquote>

<p>And wondered whether something like this exists for Python.</p>

<p>So, is there a good Python GUI shell that can do stuff like that C# shell can do?</p>

<p>Edit: Here are links to screenshots from the article, showing what I'm interested in doing.</p>

<p>An example of the type of things I'm interested: </p>

<p><a href=""http://www.mono-project.com/archived/images/7/75/GSharpPlot.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/7/75/GSharpPlot.png</a></p>

<p>They are able to add hooks to produce GUI elements like the plot, or even do silly things like:</p>

<p><a href=""http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png"" rel=""nofollow"">http://www.mono-project.com/archived/images/b/bf/GSharpRenderHandler.png</a></p>

<p>I don't think this is possible with any of the console shells I've tried (the regular python shell, ipython).</p>

<p>Edit: I'm not looking for an IDE. If you look at the link, you'll get an idea of what I want.</p>
","<p>You're looking for <a href=""http://www.reinteract.org/"" rel=""nofollow"">Reinteract</a>, which is a Python-based shell that <a href=""http://tirania.org/blog/archive/2008/Nov-02.html"" rel=""nofollow"">at least partially inspired</a> the C# shell you found. It's definitely still in-development, but already very useful.</p>
"
165,93710,-4,12,python,What's the easiest non-memory intensive way to output XML from Python?,"<p>Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?</p>
","<p><strong>xml.etree.cElementTree</strong>, included in the default distribution of CPython since 2.5. Lightning fast for both reading and writing XML.</p>
"
1070,527510,0,12,python,How to deploy a Python application with libraries as source with no further dependencies?,"<p><strong>Background</strong>: I have a small Python application that makes life for developers releasing software in our company a bit easier. I build an executable for Windows using py2exe. The application as well as the binary are checked into Subversion. Distribution happens by people just checking out the directory from SVN. The program has about 6 different Python library dependencies (e.g. ElementTree, Mako)</p>

<p><strong>The situation</strong>: Developers want to hack on the source of this tool and then run it without having to build the binary. Currently this means that they need a python 2.6 interpreter (which is fine) and also have the 6 libraries installed locally using easy_install.</p>

<p><strong>The Problem</strong></p>

<ul>
<li>This is not a public, classical open source environment: I'm inside a corporate network, the tool will never leave the ""walled garden"" and we have seriously inconvenient barriers to getting to the outside internet (NTLM authenticating proxies and/or machines without direct internet access).</li>
<li>I want the hurdles to starting to hack on this tool to be minimal: nobody should have to hunt for the right dependency in the right version, they should have to execute as little setup as possible. Optimally the prerequisites would be having a Python installation and just checking out the program from Subversion.</li>
</ul>

<p><strong>Anecdote</strong>: The more self-contained the process is the easier it is to repeat it. I had my machine swapped out for a new one and went through the unpleasant process of having to reverse engineer the dependencies, reinstall distutils, hunting down the libraries online and getting them to install (see corporate internet restrictions above). </p>
","<p>I'm not suggesting that this is a great idea, but usually what I do in situations like these is that I have a Makefile, checked into subversion, which contains make rules to fetch all the dependent libraries and install them.  The makefile can be smart enough to only apply the dependent libraries if they aren't present, so this can be relatively fast.</p>

<p>A new developer on the project simply checks out from subversion and then types ""make"".</p>

<p>This approach might work well for you, given that your audience is already used to the idea of using subversion checkouts as part of their fetch process. Also, it has the nice property that all knowledge about your program, including its external dependencies, are captured in the source code repository.</p>
"
449,227790,5,12,python,Passing a list while retaining the original,"<p>So I'm teaching myself Python, and I'm having an issue with lists. I want to pass my function a list and pop items off it while retaining the original list. How do I make python ""instance"" the passed list rather that passing a pointer to the original one?</p>

<p>Example:</p>

<pre><code>def burninate(b):
    c = []
    for i in range(3):
    	c.append(b.pop())
    return c

a = range(6)
d = burninate(a)
print a, d
</code></pre>

<p>Output: [0, 1, 2] [5, 4, 3]<br>
Desired output: [0, 1, 2, 3, 4, 5] [5, 4, 3]</p>

<p>Thanks!</p>
","<p>A more general solution would be to <code>import copy</code>, and use <code>copy.copy()</code> on the parameter.</p>
"
728,373020,18,12,python,Finding the Current Active Window in Mac OS X using Python,"<p>Is there a way to find the application name of the current active window at a given time on Mac OS X using Python?</p>
","<p>This should work:</p>

<pre><code>#!/usr/bin/python

from AppKit import NSWorkspace
activeAppName = NSWorkspace.sharedWorkspace().activeApplication()['NSApplicationName']
print activeAppName
</code></pre>

<p>Only works on Leopard, or on Tiger if you have PyObjC installed and happen to point at the right python binary in line one (not the case if you've installed universal MacPython, which you'd probably want to do on Tiger). But Peter's answer with the Carbon way of doing this will probably be quite a bit faster, since importing anything from AppKit in Python takes a while, or more accurately, importing something from AppKit for the first time in a Python process takes a while.</p>

<p>If you need this inside a PyObjC app, what I describe will work great and fast, since you only experience the lag of importing AppKit once.  If you need this to work as a command-line tool, you'll notice the performance hit.  If that's relevant to you, you're probably better off building a 10 line Foundation command line tool in Xcode using Peter's code as a starting point.</p>
"
727,373020,6,12,python,Finding the Current Active Window in Mac OS X using Python,"<p>Is there a way to find the application name of the current active window at a given time on Mac OS X using Python?</p>
","<p>First off, do you want the window or the application name? This isn't Windowsâan application process on Mac OS X can have multiple windows. (Furthermore, this has also been true of Windows for a few years now, although I have no idea what the API looks like for that.)</p>

<p>Second, Carbon or Cocoa?</p>

<p>To get the active window in Cocoa:</p>

<pre><code>window = NSApp.mainWindow()
</code></pre>

<p>To get the name of your process in Cocoa:</p>

<pre><code>appName = NSProcessInfo.processInfo().processName()
</code></pre>

<p><strong>Edit:</strong> Oh, I think I know what you want. The name of the frontmost process, right?</p>

<p>I don't think there's a way to do it in Cocoa, but here's how to do it in Carbon in C:</p>

<pre><code>ProcessSerialNumber psn = { 0L, 0L };
OSStatus err = GetFrontProcess(&amp;psn);
/*error check*/

CFStringRef processName = NULL;
err = CopyProcessName(&amp;psn, &amp;processName);
/*error check*/
</code></pre>

<p>Remember to <code>CFRelease(processName)</code> when you're done with it.</p>

<p>I'm not sure what that will look like in Python, or if it's even possible. Python doesn't have pointers, which makes that tricky.</p>

<p>I know PyObjC would translate the latter argument to <code>CopyProcessName</code> into <code>err, processName = CopyProcessName(â¦)</code>, but the Carbon bindings don't rely on PyObjC (they're part of core Python 2), and I'm not sure what you do about the PSN either way.</p>
"
174,93930,3,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>Instead of posting a list of your options I will give my humble opinion:</p>

<p>I am in love with wxPython.</p>

<p>I have used Qt in C++ and Tk way back in the Tcl days but what really makes me like wxPython is the demo that you get with it. In the demo you can browse through all the different widgets frames etc that are part of the framework see the source code and actually see how it looks while it is running.</p>

<p>I had some problems getting the Linux version build and installed but now that I have it available I use it all the time. I have used wxPython for small data analysis applications and I have written several internal tools related to comparing test results, merging source code etc.</p>
"
175,93930,3,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>I found this link a long time a go: <a href=""http://www.awaretek.com/toolkits.html"" rel=""nofollow"">http://www.awaretek.com/toolkits.html</a>.  It suggests a tookit based on your criteria.  For me it suggests wxPython all the time.  Anyway it gives you a bunch of scores on the various toolkits.  What is right for me may not be right for you.  But it gives you how all the tookits scored according to your criteria, so if you don't like the top toolkit for some reason you can see which ones are closest to your criteria.</p>

<p>QT/GTK/WxWidgets (formerly wxWindows) seem to be among the most mature cross platform GUI toolkits.  The only issue is that none is installed with the default installation of Python, so you may have to compile the libraries.  If you want something with no installation required that just runs, then go with TKInter because as has been mentioned it is installed by default with Python.</p>

<p>Anyway my criteria were 9 on Ease of Use, 10 on maturity of documentation/widgets, 10 on installed base, 5 on gui code generators, 10 on native look and feel for both windows/linux and 1 and 5 for the last two, I'm not big into Mac OSX (even with a 10 here it suggests wxpython).</p>
"
167,93710,0,12,python,What's the easiest non-memory intensive way to output XML from Python?,"<p>Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?</p>
","<p>Some years ago I used <code>MarkupWriter</code> from <a href=""http://4suite.org/index.xhtml"" rel=""nofollow"">4suite</a></p>

<blockquote>
<pre><code>General-purpose utility class for generating XML (may eventually be
expanded to produce more output types)

Sample usage:

from Ft.Xml import MarkupWriter
writer = MarkupWriter(indent=u""yes"")
writer.startDocument()
writer.startElement(u'xsa')
writer.startElement(u'vendor')
#Element with simple text (#PCDATA) content
writer.simpleElement(u'name', content=u'Centigrade systems')
#Note writer.text(content) still works
writer.simpleElement(u'email', content=u""info@centigrade.bogus"")
writer.endElement(u'vendor')
#Element with an attribute
writer.startElement(u'product', attributes={u'id': u""100\u00B0""})
#Note writer.attribute(name, value, namespace=None) still works
writer.simpleElement(u'name', content=u""100\u00B0 Server"")
#XML fragment
writer.xmlFragment('&lt;version&gt;1.0&lt;/version&gt;&lt;last-release&gt;20030401&lt;/last-release&gt;')
#Empty element
writer.simpleElement(u'changes')
writer.endElement(u'product')
writer.endElement(u'xsa')
writer.endDocument()

Note on the difference between 4Suite writers and printers
Writer  - module that exposes a broad public API for building output
          bit by bit
Printer - module that simply takes a DOM and creates output from it
          as a whole, within one API invokation
</code></pre>
</blockquote>

<p>Recently i hear a lot about how <a href=""http://codespeak.net/lxml/"" rel=""nofollow"">lxml</a> is great, but I don't have first-hand experience, and I had some fun working with <a href=""http://freshmeat.net/projects/gnosisxml/"" rel=""nofollow"">gnosis</a>.</p>
"
166,93710,-1,12,python,What's the easiest non-memory intensive way to output XML from Python?,"<p>Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?</p>
","<p>I've always had good results with <a href=""http://codespeak.net/lxml/"" rel=""nofollow"">lxml</a>. It's a pain to install, as it's mostly a wrapper around <a href=""http://xmlsoft.org/"" rel=""nofollow"">libxml2</a>, but <code>lxml.etree</code>  tree objects have a <code>.write()</code> method that takes a file-like object to stream to.</p>

<pre><code>from lxml.etree import XML

tree = XML('&lt;root&gt;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&lt;/root&gt;')
tree.write(your_file_object)
</code></pre>
"
176,93930,3,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p><a href=""http://pythoncard.sourceforge.net/"" rel=""nofollow"">PythonCard</a> is really easy to use.  That's what I would recommend.</p>

<p>Here's their writeup:</p>

<blockquote>
  <p>PythonCard is a GUI construction kit
  for building cross-platform desktop
  applications on Windows, Mac OS X, and
  Linux, using the Python language.</p>
  
  <p>The PythonCard motto is ""Simple things
  should be simple and complex things
  should be possible.""</p>
  
  <p>PythonCard is for you if you want to
  develop graphical applications quickly
  and easily with a minimum of effort
  and coding. Apple's HyperCard is one
  of our inspirations; simple, yet
  powerful.</p>
  
  <p>PythonCard uses wxPython. If you are
  already familiar with wxPython, just
  think of PythonCard as a simpler way
  of doing wxPython programs with a
  whole lot of samples and tools already
  in place for you to copy and subclass
  and tools to help you build
  cross-platform applications.</p>
</blockquote>
"
171,93930,4,12,python,What Python GUI APIs Are Out There?,"<p>Simple question:</p>

<ul>
<li>What Python GUI API's are out there and what are the advantages of any given API?</li>
</ul>

<p>I'm not looking for a religious war here, I'm just wanting to get a good handle on all that is out there in terms of Python GUI APIs.</p>
","<p>PyQt is excellent if you have experience or interest in Qt.</p>

<p><a href=""http://www.riverbankcomputing.co.uk/software/pyqt/intro"" rel=""nofollow"">http://www.riverbankcomputing.co.uk/software/pyqt/intro</a></p>
"
265,147650,10,11,python,Debug Pylons application through Eclipse,"<p>I have Eclipse setup with PyDev and love being able to debug my scripts/apps.  I've just started playing around with Pylons and was wondering if there is a way to start up the paster server through Eclipse so I can debug my webapp?</p>
","<p>Create a new launch configuration (Python Run)</p>

<p><strong>Main tab</strong></p>

<p>Use paster-script.py as main module (you can find it in the Scripts sub-directory in your python installation directory)</p>

<p>Don't forget to add the root folder of your application in the PYTHONPATH zone</p>

<p><strong>Arguments</strong>
Set the base directory to the root folder also.</p>

<p>As Program Arguments use ""serve development.ini"" (or whatever you use to debug your app"")</p>

<p><strong>Common Tab</strong></p>

<p>Check allocate console and launch in background</p>
"
861,434580,21,11,python,"For Python support, what company would be best to get hosting from?","<p>I want to be able to run WSGI apps but my current hosting restricts it. Does anybody know a company that can accommodate my requirements?</p>
","<p>My automatic response would be <a href=""http://www.webfaction.com/"">WebFaction</a>.  </p>

<p>I haven't personally hosted with them, but they are primarily Python-oriented (founded by the guy who wrote CherryPy, for example, and as far as I know they were the first to roll out <a href=""http://blog.webfaction.com/python-3-0-is-here"">Python 3.0 support</a>).</p>
"
865,434580,1,11,python,"For Python support, what company would be best to get hosting from?","<p>I want to be able to run WSGI apps but my current hosting restricts it. Does anybody know a company that can accommodate my requirements?</p>
","<p>I have been using <a href=""http://www.webfaction.com/"" rel=""nofollow"">WebFaction</a> for years and very happy with the service. They are not only python oriented. You should be able to run anything within the limitations of shared hosting (unless of course you have a dedicated server).</p>

<p>They are probably not the cheapest hosting service though. I don't know the prices. But I can still remember very well my previous hosting provider was unreachable for a week (not their servers, I mean the people).</p>
"
62,55180,1,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<p>This snippet will do so.  If you're going to do it frequently, you might want to make a 'sortkeys' method or somesuch to make it easier on the eyes.</p>

<pre><code>keys = list(d.keys())
keys.sort()
for key in keys:
    print d[key]
</code></pre>

<p>Edit:  dF's solution is better -- I forgot all about sorted().</p>
"
584,294470,20,11,python,How do I find userid by login (Python under *NIX),"<p>I need to set my process to run under 'nobody', I've found os.setuid(), but how do I find <code>uid</code> if I have <code>login</code>?</p>

<p>I've found out that uids are in /etc/passwd, but maybe there is a more pythonic way than scanning /etc/passwd. Anybody?</p>
","<p>You might want to have a look at the <a href=""http://docs.python.org/library/pwd.html"">pwd</a> module in the python stdlib, for example:</p>

<pre><code>import pwd
pw = pwd.getpwnam(""nobody"")
uid = pw.pw_uid
</code></pre>

<p>it uses /etc/passwd (well, technically it uses the posix C API, so I suppose it might work on an OS if it didn't use /etc/passwd but exposed the needed functions) but is cleaner than parsing it manually</p>
"
585,294470,5,11,python,How do I find userid by login (Python under *NIX),"<p>I need to set my process to run under 'nobody', I've found os.setuid(), but how do I find <code>uid</code> if I have <code>login</code>?</p>

<p>I've found out that uids are in /etc/passwd, but maybe there is a more pythonic way than scanning /etc/passwd. Anybody?</p>
","<p>Never directly scan <code>/etc/passwd</code>.</p>

<p>For instance, on a Linux system I administer, the user accounts are not on <code>/etc/passwd</code>, but on a LDAP server.</p>

<p>The correct way is to use <code>getpwent</code>/<code>getgrent</code> and related C functions (as in @TFKyle's answer), which will get the information on the correct way for each system (on Linux glibc, it reads <code>/etc/nsswitch.conf</code> to know which NSS dynamic libraries to load to get the information).</p>
"
63,55180,16,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<p>Do you mean that you need the values sorted by the value of the key?
In that case, this should do it:</p>

<pre><code>for key in sorted(d):
    print d[key]
</code></pre>

<p><strong>EDIT:</strong> changed to use sorted(d) instead of sorted(d.keys()), thanks <a href=""http://stackoverflow.com/users/1694/eli-courtwright"" rel=""nofollow"">Eli</a>!</p>
"
68,55180,1,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<p>You can also sort a dictionary by value and control the sort order:</p>

<pre><code>import operator

d = {'b' : 'this is 3', 'a': 'this is 2' , 'c' : 'this is 1'}

for key, value in sorted(d.iteritems(), key=operator.itemgetter(1), reverse=True):
    print key, "" "", value
</code></pre>

<p>Output:<br />
b   this is 3<br />
a   this is 2<br />
c   this is 1</p>
"
862,434580,0,11,python,"For Python support, what company would be best to get hosting from?","<p>I want to be able to run WSGI apps but my current hosting restricts it. Does anybody know a company that can accommodate my requirements?</p>
","<p>I've been pretty happy with Dreamhost, and of course Google AppEngine.</p>
"
785,395340,24,11,python,Can I use a ForeignKey in __unicode__ return?,"<p>I have the following classes: Ingredients, Recipe and RecipeContent...</p>

<pre><code>class Ingredient(models.Model):
    name = models.CharField(max_length=30, primary_key=True)
    qty_on_stock = models.IntegerField()

    def __unicode__(self):
        return self.name

class Recipe(models.Model):
    name = models.CharField(max_length=30, primary_key=True)
    comments = models.TextField(blank=True)
    ingredient = models.ManyToManyField(Ingredient)

    def __unicode__(self):
        return self.name

class RecipeContent(models.Model):
    recipe = models.ForeignKey(Recipe)
    ingredients = models.ForeignKey(Ingredient)
    qty_used = models.IntegerField()
</code></pre>

<p>but for __unicode__() in RecipeContent I would like to use the Recipe name to which this RecipeContent belongs to... is there a way to do it?</p>
","<pre><code>class RecipeContent(models.Model):
  ...
  def __unicode__(self):
    # You can access ForeignKey properties through the field name!
    return self.recipe.name
</code></pre>
"
863,434580,5,11,python,"For Python support, what company would be best to get hosting from?","<p>I want to be able to run WSGI apps but my current hosting restricts it. Does anybody know a company that can accommodate my requirements?</p>
","<p>I am a big fan of <a href=""http://www.slicehost.com/"">Slicehost</a> -- you get root access to a virtual server that takes about 2 minutes to install from stock OS images.  The 256m slice, which has been enough for me, is US$20/mo -- it is cheaper than keeping an old box plugged in, and easy to back up.  Very easy to recommend.</p>
"
864,434580,0,11,python,"For Python support, what company would be best to get hosting from?","<p>I want to be able to run WSGI apps but my current hosting restricts it. Does anybody know a company that can accommodate my requirements?</p>
","<p>Google App engine and OpenHosting.com</p>

<p>Have virtual server by OpenHosting, they are ultra fast with support and have very high uptime.</p>
"
786,395340,0,11,python,Can I use a ForeignKey in __unicode__ return?,"<p>I have the following classes: Ingredients, Recipe and RecipeContent...</p>

<pre><code>class Ingredient(models.Model):
    name = models.CharField(max_length=30, primary_key=True)
    qty_on_stock = models.IntegerField()

    def __unicode__(self):
        return self.name

class Recipe(models.Model):
    name = models.CharField(max_length=30, primary_key=True)
    comments = models.TextField(blank=True)
    ingredient = models.ManyToManyField(Ingredient)

    def __unicode__(self):
        return self.name

class RecipeContent(models.Model):
    recipe = models.ForeignKey(Recipe)
    ingredients = models.ForeignKey(Ingredient)
    qty_used = models.IntegerField()
</code></pre>

<p>but for __unicode__() in RecipeContent I would like to use the Recipe name to which this RecipeContent belongs to... is there a way to do it?</p>
","<p>Yes, you can (as bishanty points), but be prepared for situation when <code>__unicode__()</code> is called but FK is not set yet. I came into this few times.</p>
"
64,55180,16,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<p>Or shorter,</p>

<pre><code>for key, value in sorted(d.items()):
    print value
</code></pre>
"
65,55180,1,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<pre><code>&gt;&gt;&gt; d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
&gt;&gt;&gt; for k,v in sorted(d.items()):
...     print v, k
... 
this is a a
this is b b
this is c c
</code></pre>
"
67,55180,1,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<pre><code>for key in sorted(d):
  print d[key]
</code></pre>
"
66,55180,0,11,python,"In Python, how can you easily retrieve sorted items from a dictionary?","<p>Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. </p>

<p>What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key?</p>

<p>For example, you had this:</p>

<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
</code></pre>

<p>I want to print the associated values in the following sequence sorted by key:</p>

<pre><code>this is a
this is b
this is c
</code></pre>
","<pre><code>d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'}
ks = d.keys()
ks.sort()
for k in ks:
    print ""this is "" + k
</code></pre>
"
460,233320,10,10,python,Cannot import SQLite with Python 2.6,"<p>I'm running Python 2.6 on Unix and when I run the interactive prompt (<a href=""http://en.wikipedia.org/wiki/SQLite"">SQLite</a> is supposed to be preinstalled) I get:</p>

<pre><code>[root@idev htdocs]# python
Python 2.6 (r26:66714, Oct 23 2008, 16:25:34)
[GCC 3.2.2 20030222 (Red Hat Linux 3.2.2-5)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import sqlite
Traceback (most recent call last):
File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
ImportError: No module named sqlite
&gt;&gt;&gt;
</code></pre>

<p>How do I resolve this?</p>
","<pre><code>import sqlite3
</code></pre>

<p><a href=""http://docs.python.org/library/sqlite3.html#module-sqlite3"">sqlite3</a> - DB-API 2.0 interface for SQLite databases.</p>

<p>You are missing the <code>.so</code> (shared object) - probably an installation step. In my Linux python installation, <code>_sqlite3</code> is at: </p>

<pre><code>${somewhere}/lib/python2.6/lib-dynload/_sqlite3.so
</code></pre>
"
462,233320,1,10,python,Cannot import SQLite with Python 2.6,"<p>I'm running Python 2.6 on Unix and when I run the interactive prompt (<a href=""http://en.wikipedia.org/wiki/SQLite"">SQLite</a> is supposed to be preinstalled) I get:</p>

<pre><code>[root@idev htdocs]# python
Python 2.6 (r26:66714, Oct 23 2008, 16:25:34)
[GCC 3.2.2 20030222 (Red Hat Linux 3.2.2-5)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import sqlite
Traceback (most recent call last):
File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
ImportError: No module named sqlite
&gt;&gt;&gt;
</code></pre>

<p>How do I resolve this?</p>
","<p>Try this:</p>

<pre><code>from pysqlite2 import dbapi2 as sqlite
</code></pre>
"
426,215570,8,10,python,What's the difference between a parent and a reference property in Google App Engine?,"<p>From what I understand, the parent attribute of a db.Model (typically defined/passed in the constructor call) allows you to define hierarchies in your data models. As a result, this increases the size of the entity group. However, it's not very clear to me why we would want to do that. Is this strictly for ACID compliance? I would like to see scenarios where each is best suited or more appropriate.</p>
","<p>The only purpose of entity groups (defined by the parent attribute) is to enable transactions among different entities. If you don't need the transactions, don't use the entity group relationships.</p>

<p>I suggest you re-reading the <a href=""http://code.google.com/appengine/docs/datastore/keysandentitygroups.html"">Keys and Entity Groups</a> section of the docs, it took me quite a few reads to grasp the idea.</p>

<p>Also watch these talks, among other things they discuss transactions and entity groups:</p>

<ul>
<li><a href=""http://sites.google.com/site/io/building-scalable-web-applications-with-google-app-engine"">Building Scalable Web Applications with Google App Engine</a></li>
<li><a href=""http://sites.google.com/site/io/under-the-covers-of-the-google-app-engine-datastore"">Under the Covers of the Google App Engine Datastore</a></li>
</ul>
"
427,215570,15,10,python,What's the difference between a parent and a reference property in Google App Engine?,"<p>From what I understand, the parent attribute of a db.Model (typically defined/passed in the constructor call) allows you to define hierarchies in your data models. As a result, this increases the size of the entity group. However, it's not very clear to me why we would want to do that. Is this strictly for ACID compliance? I would like to see scenarios where each is best suited or more appropriate.</p>
","<p>There are several differences:</p>

<ul>
<li>All entities with the same ancestor are in the same entity group. Transactions can only affect entities inside a single entity group.</li>
<li>All writes to a single entity group are serialized, so throughput is limited.</li>
<li>The parent entity is set on creation and is fixed. References can be changed at any time.</li>
<li>With reference properties, you can only query for direct relationships, but with parent properties you can use the .ancestor() filter to find everything (directly or indirectly) descended from a given ancestor.</li>
<li>Each entity has only a single parent, but can have multiple reference properties.</li>
</ul>
"
1028,512600,7,10,python,gedit plugin development in python,"<p>Does anyone know where information about writing gedit plugins can be found ? I'm interested in writing them in Python. I know of <a href=""http://live.gnome.org/Gedit/PythonPluginHowTo"">Gedit/PythonPluginHowTo</a>
 , but it isn't very good . Besides the code of writing a plugin that does nothing , I can't seem to find more information . I started to look at other people's code , but I think this shouldn't be the natural way of writing plugins . Can someone help ?</p>
","<p>When I started working on my gedit plugin, I used the howto you gave a link to, also startign with <a href=""http://www.russellbeattie.com/blog/my-first-gedit-plugin"">this URL</a>. Then it was looking at other plugins code... I'm sorry to say that, but for me this topic is poorly documented and best and fastest way is to get a pluging done that actually does something.</p>
"
461,233320,13,10,python,Cannot import SQLite with Python 2.6,"<p>I'm running Python 2.6 on Unix and when I run the interactive prompt (<a href=""http://en.wikipedia.org/wiki/SQLite"">SQLite</a> is supposed to be preinstalled) I get:</p>

<pre><code>[root@idev htdocs]# python
Python 2.6 (r26:66714, Oct 23 2008, 16:25:34)
[GCC 3.2.2 20030222 (Red Hat Linux 3.2.2-5)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import sqlite
Traceback (most recent call last):
File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
ImportError: No module named sqlite
&gt;&gt;&gt;
</code></pre>

<p>How do I resolve this?</p>
","<p>The error: </p>

<pre><code>ImportError: No module named _sqlite3
</code></pre>

<p>means that <a href=""http://en.wikipedia.org/wiki/SQLite"">SQLite</a> 3 does not find the associated shared library. On Mac OS X it's _sqlite3.so and it should be the same on other Unix systems. </p>

<p>To resolve the error you have to locate the _sqlite3.so library on your computer and then check your PYTHONPATH for this directory location. </p>

<p>To print the Python search path enter the following in the Python shell:</p>

<pre><code>import sys
print sys.path
</code></pre>

<p>If the directory containing your library is missing you can try adding it interactively with </p>

<pre><code>sys.path.append('/your/dir/here')
</code></pre>

<p>and try </p>

<pre><code>import sqlite3
</code></pre>

<p>again. If this works you have to add this directory permanently to your PYTHONPATH environment variable. </p>

<p>PS: If the library is missing you should (re-)install the module.</p>
"
1027,512600,4,10,python,gedit plugin development in python,"<p>Does anyone know where information about writing gedit plugins can be found ? I'm interested in writing them in Python. I know of <a href=""http://live.gnome.org/Gedit/PythonPluginHowTo"">Gedit/PythonPluginHowTo</a>
 , but it isn't very good . Besides the code of writing a plugin that does nothing , I can't seem to find more information . I started to look at other people's code , but I think this shouldn't be the natural way of writing plugins . Can someone help ?</p>
","<p>Have you checked out <a href=""http://sp2hari.com/gedit-plugin/"" rel=""nofollow"">http://sp2hari.com/gedit-plugin/</a> ?  I think this is as thorough as you're going to get, without poring through other people's code.  </p>
"
239,120250,0,10,python,Short Integers in Python,"<p>Python allocates integers automatically based on the underlying system architecture. Unfortunately I have a huge dataset which needs to be fully loaded into memory. </p>

<p>So, is there a way to force Python to use only 2 bytes for some integers (equivalent of C++ 'short')?</p>
","<p>@<a href=""#120256"" rel=""nofollow"">Armin</a>: how come? The Python documentation said the minimum size for that array of short integer is 2 bytes and </p>

<blockquote>
  <p>The actual representation of values is
  determined by the machine architecture
  (strictly speaking, by the C
  implementation). The actual size can
  be accessed through the itemsize
  attribute.</p>
</blockquote>

<p>@<a href=""#120449"" rel=""nofollow"">Arnav</a>: I suggest that your code should check the size of each Type code and choose the corresponding 2-byte type that is specific to the underlying system. </p>
"
238,120250,2,10,python,Short Integers in Python,"<p>Python allocates integers automatically based on the underlying system architecture. Unfortunately I have a huge dataset which needs to be fully loaded into memory. </p>

<p>So, is there a way to force Python to use only 2 bytes for some integers (equivalent of C++ 'short')?</p>
","<p>Armin's suggestion of the array module is probably best.  Two possible alternatives:</p>

<ul>
<li>You can create an extension module yourself that provides the data structure that you're after.  If it's really just something like a collection of shorts, then
that's pretty simple to do.</li>
<li>You can
cheat and manipulate bits, so that
you're storing one number in the
lower half of the Python int, and
another one in the upper half. 
You'd write some utility functions
to convert to/from these within your
data structure.  Ugly, but it can be made to work.</li>
</ul>

<p>It's also worth realising that a Python integer object is not 4 bytes - there is additional overhead.  So if you have a really large number of shorts, then you can save more than two bytes per number by using a C short in some way (e.g. the array module).</p>

<p>I had to keep a large set of integers in memory a while ago, and a dictionary with integer keys and values was too large (I had 1GB available for the data structure IIRC).  I switched to using a IIBTree (from ZODB) and managed to fit it.  (The ints in a IIBTree are real C ints, not Python integers, and I hacked up an automatic switch to a IOBTree when the number was larger than 32 bits).</p>
"
251,138680,19,10,python,Vim extension (via Python)?,"<p>is it possible to extend vim functionality via custom extension (preferably, written in Python)?</p>

<p>What I need ideally is custom command when in command mode. E.g.</p>

<p>ESC</p>

<p>:do_this</p>

<p>:do_that</p>
","<p>vim supports scripting in python (and in perl as well, I think).</p>

<p>You just have to make sure that the vim distribution you are using has been compiled with python support.</p>

<p>If you are using a Linux system, you can download the source and then compile it with</p>

<pre><code>./configure --enable-pythoninterp 
make
sudo make install
</code></pre>

<p>Inside vim, you can type</p>

<pre><code>:version
</code></pre>

<p>to list the available features; if it has python support, you should see a '+python' somewhere (a '-python' otherwise).</p>

<p>Then, to check the usage of the python module, you can type</p>

<pre><code>:help python
</code></pre>

<p>P.S: if you're going to compile the vim sources, make sure to check the available configure options, you might need to specify --with-python-config-dir as well.</p>

<p>P.P.S: to create a ""custom command in command mode"" (if I understand correctly what you mean), you can create a function ""MyFunction"" in a vim script (using python or the vim scripting language) and then invoke it with </p>

<pre><code>:Call MyFunction()
</code></pre>

<p>Check </p>

<pre><code>:help user-functions
</code></pre>

<p>for details</p>
"
463,233320,1,10,python,Cannot import SQLite with Python 2.6,"<p>I'm running Python 2.6 on Unix and when I run the interactive prompt (<a href=""http://en.wikipedia.org/wiki/SQLite"">SQLite</a> is supposed to be preinstalled) I get:</p>

<pre><code>[root@idev htdocs]# python
Python 2.6 (r26:66714, Oct 23 2008, 16:25:34)
[GCC 3.2.2 20030222 (Red Hat Linux 3.2.2-5)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import sqlite
Traceback (most recent call last):
File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
ImportError: No module named sqlite
&gt;&gt;&gt;
</code></pre>

<p>How do I resolve this?</p>
","<p>On my system <code>_sqlite3.so</code> located at:</p>

<pre><code>'/usr/lib/python2.6/lib-dynload/_sqlite3.so'
</code></pre>

<p>Check that the directory is in your <code>sys.path</code>:</p>

<pre><code>&gt;&gt;&gt; import sys; print(filter(lambda p: 'lib-dynload' in p, sys.path))
['/usr/lib/python2.6/lib-dynload']
</code></pre>
"
240,120250,4,10,python,Short Integers in Python,"<p>Python allocates integers automatically based on the underlying system architecture. Unfortunately I have a huge dataset which needs to be fully loaded into memory. </p>

<p>So, is there a way to force Python to use only 2 bytes for some integers (equivalent of C++ 'short')?</p>
","<p>If you're doing any sort of manipulation of this huge dataset, you'll probably want to use <a href=""http://numpy.scipy.org/"" rel=""nofollow"" title=""Numpy Home Page"">Numpy</a>, which has support for a wide variety of numeric types, and efficient operations on arrays of them.</p>
"
237,120250,5,10,python,Short Integers in Python,"<p>Python allocates integers automatically based on the underlying system architecture. Unfortunately I have a huge dataset which needs to be fully loaded into memory. </p>

<p>So, is there a way to force Python to use only 2 bytes for some integers (equivalent of C++ 'short')?</p>
","<p>Thanks to Armin for pointing out the 'array' module. I also found the 'struct' module that packs c-style structs in a string:</p>

<p>From the documentation (<a href=""https://docs.python.org/library/struct.html"" rel=""nofollow"">https://docs.python.org/library/struct.html</a>):</p>

<pre><code>&gt;&gt;&gt; from struct import *
&gt;&gt;&gt; pack('hhl', 1, 2, 3)
'\x00\x01\x00\x02\x00\x00\x00\x03'
&gt;&gt;&gt; unpack('hhl', '\x00\x01\x00\x02\x00\x00\x00\x03')
(1, 2, 3)
&gt;&gt;&gt; calcsize('hhl')
8
</code></pre>
"
236,120250,30,10,python,Short Integers in Python,"<p>Python allocates integers automatically based on the underlying system architecture. Unfortunately I have a huge dataset which needs to be fully loaded into memory. </p>

<p>So, is there a way to force Python to use only 2 bytes for some integers (equivalent of C++ 'short')?</p>
","<p>Nope.  But you can use short integers in arrays:</p>

<pre><code>from array import array
a = array(""h"") # h = signed short, H = unsigned short
</code></pre>

<p>As long as the value stays in that array it will be a short integer.</p>

<ul>
<li>documentation for the <a href=""http://docs.python.org/dev/library/array"">array module</a></li>
</ul>
"
252,138680,5,10,python,Vim extension (via Python)?,"<p>is it possible to extend vim functionality via custom extension (preferably, written in Python)?</p>

<p>What I need ideally is custom command when in command mode. E.g.</p>

<p>ESC</p>

<p>:do_this</p>

<p>:do_that</p>
","<p>Yes it is. There are several extensions on <a href=""http://www.vim.org/scripts/index.php"" rel=""nofollow"">http://www.vim.org/scripts/index.php</a> </p>

<p>It can be done with python as well if the support for python is compiled in. </p>

<p>Article about it: <a href=""http://www.techrepublic.com/article/extending-vim-with-python/"" rel=""nofollow"">http://www.techrepublic.com/article/extending-vim-with-python/</a> </p>

<p>Google is our friend.</p>

<p>HTH</p>
"
381,199180,2,9,python,Is there any way to get python omnicomplete to work with non-system modules in vim?,"<p>The only thing I can get python omnicomplete to work with are system modules. I get nothing for help with modules in my site-packages or modules that I'm currently working on.</p>
","<p>Just ran across this on Python reddit tonight: <a href=""http://orestis.gr/blog/2008/10/13/pysmell-v06-released/"" rel=""nofollow"">PySmell</a>. Looks like what you're looking for.</p>

<blockquote>
  <p>PySmell is a python IDE completion helper.</p>
  
  <p>It tries to statically analyze Python source code, without executing it, and generates information about a projectâs structure that IDE tools can use. </p>
</blockquote>
"
382,199180,0,9,python,Is there any way to get python omnicomplete to work with non-system modules in vim?,"<p>The only thing I can get python omnicomplete to work with are system modules. I get nothing for help with modules in my site-packages or modules that I'm currently working on.</p>
","<p>I think your after the <a href=""http://www.vim.org/scripts/script.php?script_id=850"" rel=""nofollow"">pydiction</a> script. It lets you add your own stuff and site-packages to omni complete. </p>

<p>While your at it, add the following to your python.vim file...</p>

<pre><code> set iskeyword+=.
</code></pre>

<p>This will let you auto-complete package functions e.g. if you enter...</p>

<pre><code> os.path.
</code></pre>

<p>and then [CTRL][N], you'll get a list of the functions for os.path.</p>
"
286,156360,4,9,python,Get all items from thread Queue,"<p>I have one thread that writes results into a Queue.</p>

<p>In another thread (GUI), I periodically (in the IDLE event) check if there are results in the queue, like this:</p>

<pre><code>def queue_get_all(q):
    items = []
    while 1:
        try:
            items.append(q.get_nowait())
        except Empty, e:
            break
    return items
</code></pre>

<p>Is this a good way to do it ? </p>

<p><strong>Edit:</strong></p>

<blockquote>
  <p>I'm asking because sometimes the
  waiting thread gets stuck for a few
  seconds without taking out new
  results.</p>
</blockquote>

<p>The ""stuck"" problem turned out to be because I was doing the processing in the idle event handler, without making sure that such events are actually generated by calling <code>wx.WakeUpIdle</code>, as is recommended.</p>
","<p>I'd be very surprised if the <code>get_nowait()</code> call caused the pause by not returning if the list was empty.</p>

<p>Could it be that you're posting a large number of (maybe big?) items between checks which means the receiving thread has a large amount of data to pull out of the <code>Queue</code>? You could try limiting the number you retrieve in one batch:</p>

<pre><code>def queue_get_all(q):
    items = []
    maxItemsToRetreive = 10
    for numOfItemsRetrieved in range(0, maxItemsToRetreive):
        try:
            if numOfItemsRetrieved == maxItemsToRetreive:
                break
            items.append(q.get_nowait())
        except Empty, e:
            break
    return items
</code></pre>

<p>This would limit the receiving thread to pulling up to 10 items at a time.</p>
"
866,434700,0,9,python,Cleaning up a database in django before every test method,"<p>By default when Django runs against sqlite backend it creates a new in memory database for a test. That means for every class that derives from unittest.TestCase, I get a new database. Can this be changed so that it is cleared before every test method is run?</p>

<p>Example: I am testing a manager class that provides additional abstraction on top of Django persistent objects. The code looks more-less like that</p>

<pre><code>class TestForManager(unittest.TestCase):
  def testAddingBlah(self):
    manager = Manager()
    self.assertEquals(manager.getBlahs(), 0)
    manager.addBlah(...)
    self.assertEquals(manager.getBlahs(), 1)

  def testAddingBlahInDifferentWay(self):
    manager = Manager()
    self.assertEquals(manager.getBlahs(), 0)
    manager.addBlahInDifferentWay(...)
    self.assertEquals(manager.getBlahs(), 1)
</code></pre>

<p>Now, the first assertion of second test fails, because the state of the database is preserved between test calls and there already is an instance of <code>Blah</code> in the database.</p>
","<p>Why not do the following?  This accomplishes what you need without a significant change to your code.</p>

<pre><code>class TestOneForManager(unittest.TestCase):
  def testAddingBlah(self):
    manager = Manager()
    self.assertEquals(manager.getBlahs(), 0)
    manager.addBlah(...)
    self.assertEquals(manager.getBlahs(), 1)

class TestTwoForManager(unittest.TestCase):
  def testAddingBlahInDifferentWay(self):
    manager = Manager()
    self.assertEquals(manager.getBlahs(), 0)
    manager.addBlahInDifferentWay(...)
    self.assertEquals(manager.getBlahs(), 1)
</code></pre>

<p><hr /></p>

<p><strong>Edit</strong>.  The ""reset on TestCase"" feature gives you complete control.</p>

<ul>
<li><p>Many test methods in a single TestCase are good when you have test cases that don't interfere with each other.</p></li>
<li><p>Few test methods in a single TestCase are good when you have test cases that interfere with each other.</p></li>
</ul>

<p>You can choose which model applies to your tests by grouping your test methods in one or many TestCases.  You have total and complete control.</p>
"
285,156360,11,9,python,Get all items from thread Queue,"<p>I have one thread that writes results into a Queue.</p>

<p>In another thread (GUI), I periodically (in the IDLE event) check if there are results in the queue, like this:</p>

<pre><code>def queue_get_all(q):
    items = []
    while 1:
        try:
            items.append(q.get_nowait())
        except Empty, e:
            break
    return items
</code></pre>

<p>Is this a good way to do it ? </p>

<p><strong>Edit:</strong></p>

<blockquote>
  <p>I'm asking because sometimes the
  waiting thread gets stuck for a few
  seconds without taking out new
  results.</p>
</blockquote>

<p>The ""stuck"" problem turned out to be because I was doing the processing in the idle event handler, without making sure that such events are actually generated by calling <code>wx.WakeUpIdle</code>, as is recommended.</p>
","<p>If you're always pulling all available items off the queue, is there any real point in using a queue, rather than just a list with a lock?  ie:</p>

<pre><code>from __future__ import with_statement
import threading

class ItemStore(object):
    def __init__(self):
        self.lock = threading.Lock()
        self.items = []

    def add(self, item):
        with self.lock:
            self.items.append(item)

    def getAll(self):
        with self.lock:
            items, self.items = self.items, []
        return items
</code></pre>

<p>If you're also pulling them individually, and making use of the blocking behaviour for empty queues, then you should use Queue, but your use case looks much simpler, and might be better served by the above approach.</p>

<p><strong>[Edit2]</strong>  I'd missed the fact that you're polling the queue from an idle loop, and from your update, I see that the problem isn't related to contention, so the below approach isn't really relevant to your problem.  I've left it in in case anyone finds a blocking variant of this useful:</p>

<p>For cases where you do want to block until you get at least one result, you can modify the above code to wait for data to become available through being signalled by the producer thread.  Eg.</p>

<pre><code>class ItemStore(object):
    def __init__(self):
        self.cond = threading.Condition()
        self.items = []

    def add(self, item):
        with self.cond:
            self.items.append(item)
            self.cond.notify() # Wake 1 thread waiting on cond (if any)

    def getAll(self, blocking=False):
        with self.cond:
            # If blocking is true, always return at least 1 item
            while blocking and len(self.items) == 0:
                self.cond.wait()
            items, self.items = self.items, []
        return items
</code></pre>
"
284,156360,1,9,python,Get all items from thread Queue,"<p>I have one thread that writes results into a Queue.</p>

<p>In another thread (GUI), I periodically (in the IDLE event) check if there are results in the queue, like this:</p>

<pre><code>def queue_get_all(q):
    items = []
    while 1:
        try:
            items.append(q.get_nowait())
        except Empty, e:
            break
    return items
</code></pre>

<p>Is this a good way to do it ? </p>

<p><strong>Edit:</strong></p>

<blockquote>
  <p>I'm asking because sometimes the
  waiting thread gets stuck for a few
  seconds without taking out new
  results.</p>
</blockquote>

<p>The ""stuck"" problem turned out to be because I was doing the processing in the idle event handler, without making sure that such events are actually generated by calling <code>wx.WakeUpIdle</code>, as is recommended.</p>
","<p>I see you are using get_nowait() which according to the documentation, ""return[s] an item if one is immediately available, else raise the Empty exception""</p>

<p>Now, you happen to break out of the loop when an Empty exception is thrown. Thus, if there is no result immediately available in the queue, your function returns an empty items list.</p>

<p>Is there a reason why you are not using the get() method instead? It may be the case that the get_nowait() fails because the queue is servicing a put() request at that same moment. </p>
"
705,365110,10,9,python,Cross platform keylogger,"<p>I'm looking for ways to watch mouse and keyboard events on Windows, Linux and Mac from Python.</p>

<p>My application is a time tracker. I'm not looking into the event, I just record the time when it happens. If there are no events for a certain time, say 10 minutes, I assume that the user has left and stop the current project.</p>

<p>When the user returns (events come in again), I wait a moment (so this doesn't get triggered by the cleaning crew or your pets or an earthquake). If the events persist over a longer period of time, I assume that the user has returned and I pop up a small, inactive window where she can choose to add the time interval to ""break"", the current project (meeting, etc) or a different project.</p>

<p>I've solved the keylogger for Windows using the <a href=""http://sourceforge.net/projects/pyhook/"">pyHook</a>.</p>

<p>On Linux, I have found a solution but I don't like it: I can watch all device nodes in /etc/input and update a timestamp somewhere in /var or /tmp every time I see an event. There are two drawbacks: 1. I can't tell whether the event if from the user who is running the time tracker and 2. this little program needs to be run as root (not good).</p>

<p>On Mac, I have no idea, yet.</p>

<p>Questions:</p>

<ol>
<li><p>Is there a better way to know whether the user is creating events than watching the event devices on Linux?</p></li>
<li><p>Any pointers how to do that on a Mac?</p></li>
</ol>
","<p>There are couple of open source apps that might give you some pointers:</p>

<ul>
<li><a href=""http://sourceforge.net/p/pykeylogger/wiki/Main_Page/"" rel=""nofollow"">PyKeylogger</a> is python keylogger for windows and linux</li>
<li><a href=""http://code.google.com/p/logkext/"" rel=""nofollow"">logKext</a> is a c++ keylogger for mac</li>
</ul>
"
182,94490,8,9,python,How do I read selected files from a remote Zip archive over HTTP using Python?,"<p>I need to read selected files, matching on the file name, from a remote zip archive using Python. I don't want to save the full zip to a temporary file (it's not that large, so I can handle everything in memory).</p>

<p>I've already written the code and it works, and I'm answering this myself so I can search for it later. But since evidence suggests that I'm one of the dumber participants on Stackoverflow, I'm sure there's room for improvement.</p>
","<p>Here's how I did it (grabbing all files ending in "".ranks""):</p>

<pre><code>import urllib2, cStringIO, zipfile

try:
    remotezip = urllib2.urlopen(url)
    zipinmemory = cStringIO.StringIO(remotezip.read())
    zip = zipfile.ZipFile(zipinmemory)
    for fn in zip.namelist():
        if fn.endswith("".ranks""):
            ranks_data = zip.read(fn)
            for line in ranks_data.split(""\n""):
                # do something with each line
except urllib2.HTTPError:
    # handle exception
</code></pre>
"
183,94490,1,9,python,How do I read selected files from a remote Zip archive over HTTP using Python?,"<p>I need to read selected files, matching on the file name, from a remote zip archive using Python. I don't want to save the full zip to a temporary file (it's not that large, so I can handle everything in memory).</p>

<p>I've already written the code and it works, and I'm answering this myself so I can search for it later. But since evidence suggests that I'm one of the dumber participants on Stackoverflow, I'm sure there's room for improvement.</p>
","<p>Bear in mind that merely decompressing a ZIP file may result in <a href=""http://en.wikipedia.org/wiki/Decompression_bomb"" rel=""nofollow"">a security vulnerability</a>.</p>
"
867,434700,22,9,python,Cleaning up a database in django before every test method,"<p>By default when Django runs against sqlite backend it creates a new in memory database for a test. That means for every class that derives from unittest.TestCase, I get a new database. Can this be changed so that it is cleared before every test method is run?</p>

<p>Example: I am testing a manager class that provides additional abstraction on top of Django persistent objects. The code looks more-less like that</p>

<pre><code>class TestForManager(unittest.TestCase):
  def testAddingBlah(self):
    manager = Manager()
    self.assertEquals(manager.getBlahs(), 0)
    manager.addBlah(...)
    self.assertEquals(manager.getBlahs(), 1)

  def testAddingBlahInDifferentWay(self):
    manager = Manager()
    self.assertEquals(manager.getBlahs(), 0)
    manager.addBlahInDifferentWay(...)
    self.assertEquals(manager.getBlahs(), 1)
</code></pre>

<p>Now, the first assertion of second test fails, because the state of the database is preserved between test calls and there already is an instance of <code>Blah</code> in the database.</p>
","<p>As always, solution is trivial: use <code>django.test.TestCase</code> not <code>unittest.TestCase</code>. And it works in all major versions of Django!</p>
"
1105,545730,18,9,python,Tool (or combination of tools) for reproducible environments in Python,"<p>I used to be a java developer and we used tools like ant or maven to manage our development/testing/UAT environments in a standardized way. This allowed us to handle library dependencies, setting OS variables, compiling, deploying, running unit tests, and all the required tasks. Also, the scripts generated guaranteed that all the environments were almost equally configured, and all the task were performed in the same way by all the members of the team. </p>

<p>I'm starting to work in Python now and I'd like your advice in which tools should I use to accomplish the same as described for java.</p>
","<ol>
<li><p><a href=""http://pypi.python.org/pypi/virtualenv"">virtualenv</a> to create a contained virtual environment (prevent different versions of Python or Python packages from stomping on each other). There is increasing buzz from people moving to this tool.  The author is the same as the older working-env.py mentioned by Aaron.</p></li>
<li><p><a href=""http://pypi.python.org/pypi/pip"">pip</a> to install packages inside a virtualenv.  The traditional is easy_install as answered by S. Lott, but pip works better with virtualenv.  easy_install still has features not found in pip though.</p></li>
<li><p><a href=""http://www.scons.org/"">scons</a> as a build tool, although you won't need this if you stay purely Python.</p></li>
<li><p><a href=""http://pypi.python.org/pypi/Fabric/0.0.3"">Fabric</a> paste, or <a href=""http://www.blueskyonmars.com/projects/paver/"">paver</a> for deployment.</p></li>
<li><p><a href=""http://buildbot.net/trac"">buildbot</a> for continuous integration.</p></li>
<li><p>Bazaar, mercurial, or git for version control.</p></li>
<li><p><a href=""http://somethingaboutorange.com/mrl/projects/nose/"">Nose</a> as an extension for unit testing.</p></li>
<li><p><a href=""http://pypi.python.org/pypi/PyFIT/0.8a2"">PyFit</a> for <a href=""http://fit.c2.com"">FIT</a> testing.</p></li>
</ol>
"
468,239020,5,9,python,How can I call a DLL from a scripting language?,"<p>I have a third-party product, a terminal emulator, which provides a DLL that can be linked to a C program to basically automate the driving of this product (send keystrokes, detect what's on the screen and so forth).</p>

<p>I want to drive it from a scripting language (I'm comfortable with Python and slightly less so with Perl) so that we don't have to compile and send out executables to our customers whenever there's a problem found.</p>

<p>We also want the customers to be able to write their own scripts using ours as baselines and they won't entertain the idea of writing and compiling C code.</p>

<p>What's a good way of getting Python/Perl to interface to a Windows DLL. My first thought was to write a server program and have a Python script communicate with it via TCP but there's got to be an easier solution.</p>
","<p>In Perl, <a href=""http://search.cpan.org/perldoc/P5NCI"" rel=""nofollow"">P5NCI</a> will also do that, at least in some cases.  But it seems to me that anything you use that directly manages interfacing with the dll is going to be user-unfriendly, and if you are going to have a user (scriptor?) friendly wrapper, it might as well be an XS module.</p>

<p>I guess I don't see a meaningful distinction between ""compile and send out executables"" and ""compile and send out scripts"".</p>
"
383,199180,2,9,python,Is there any way to get python omnicomplete to work with non-system modules in vim?,"<p>The only thing I can get python omnicomplete to work with are system modules. I get nothing for help with modules in my site-packages or modules that I'm currently working on.</p>
","<p>I get completion for my own modules in my PYTHONPATH or site-packages. I'm not sure what version of the pythoncomplete.vim script you're using, but you may want to make sure it's the latest.</p>

<p>EDIT: Here's some examples of what I'm seeing on my system...</p>

<p>This file (mymodule.py), I puth in a directory in PYTHONPATH, and then in site-packages. Both times I was able to get the screenshot below.</p>

<pre><code>myvar = 'test'

def myfunction(foo='test'):
    pass

class MyClass(object):
    pass
</code></pre>

<p><img src=""http://i437.photobucket.com/albums/qq96/jmcantrell/screenshot.png"" alt=""screenshot"" /></p>
"
52,51010,1,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>It seems that this isn't supported, since there wouldn't be a good way to deal with overflows in datetime.time.  I know this isn't an answer directly, but maybe someone with more python experience than me can take this a little further.  For more info, see this: <a href=""http://bugs.python.org/issue3250"" rel=""nofollow"">http://bugs.python.org/issue3250</a></p>
"
56,51010,3,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>Python has pytz (<a href=""http://pytz.sourceforge.net"" rel=""nofollow"">http://pytz.sourceforge.net</a>) module which can be used for arithmetic of 'time' objects. It takes care of DST offsets as well. The above page has a number of examples that illustrate the usage of pytz.</p>
"
57,51010,-1,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>Retrieve the times in milliseconds and then do the subtraction.</p>
"
58,51010,-3,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>Environment.TickCount seems to work well if you need something quick.</p>

<p>int start = Environment.TickCount</p>

<p>...DoSomething()</p>

<p>int elapsedtime = Environment.TickCount - start</p>

<p>Jon</p>
"
508,255700,2,9,python,How to implement Google Suggest in your own web application (e.g. using Python),"<p>In my website, users have the possibility to store links.</p>

<p>During typing the internet address into the designated field I would like to display a suggest/autocomplete box similar to Google Suggest or the Chrome Omnibar.</p>

<p>Example:</p>

<p>User is typing as URL:</p>

<pre><code>http://www.sta
</code></pre>

<p>Suggestions which would be displayed:</p>

<pre><code>http://www.staples.com
http://www.starbucks.com
http://www.stackoverflow.com
</code></pre>

<p>How can I achieve this while not reinventing the wheel? :)</p>
","<p>I did this once before in a Django server. There's two parts - client-side and server-side.</p>

<p>Client side you will have to send out XmlHttpRequests to the server as the user is typing, and then when the information comes back, display it. This part will require a decent amount of javascript, including some tricky parts like callbacks and keypress handlers.</p>

<p>Server side you will have to handle the XmlHttpRequests which will be something that contains what the user has typed so far. Like a url of</p>

<pre><code>www.yoursite.com/suggest?typed=www.sta
</code></pre>

<p>and then respond with the suggestions encoded in some way. (I'd recommend JSON-encoding the suggestions.) You also have to actually get the suggestions from your database, this could be just a simple SQL call or something else depending on your framework.</p>

<p>But the server-side part is pretty simple. The client-side part is trickier, I think. I found this <a href=""http://www.phpriot.com/articles/google-suggest-ajaxac"" rel=""nofollow"">article</a> helpful</p>

<p>He's writing things in php, but the client side work is pretty much the same. In particular you might find his CSS helpful.</p>
"
55,51010,16,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>Also a little silly, but you could try picking an arbitrary day and embedding each time in it, using <code>datetime.datetime.combine</code>, then subtracting:</p>

<pre><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; t1 = datetime.time(2,3,4)
&gt;&gt;&gt; t2 = datetime.time(18,20,59)
&gt;&gt;&gt; dummydate = datetime.date(2000,1,1)
&gt;&gt;&gt; datetime.datetime.combine(dummydate,t2) - datetime.datetime.combine(dummydate,t1)
datetime.timedelta(0, 58675)
</code></pre>
"
54,51010,-2,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>Firstly, note that a datetime.time is a time of day, independent of a given day, and so the different between any two datetime.time values is going to be less than 24 hours.</p>

<p>One approach is to convert both datetime.time values into comparable values (such as milliseconds), and find the difference.</p>

<pre><code>t1, t2 = datetime.time(...), datetime.time(...)

t1_ms = (t1.hour*60*60 + t1.minute*60 + t1.second)*1000 + t1.microsecond
t2_ms = (t2.hour*60*60 + t2.minute*60 + t2.second)*1000 + t2.microsecond

delta_ms = max([t1_ms, t2_ms]) - min([t1_ms, t2_ms])
</code></pre>

<p>It's a little lame, but it works.</p>
"
1016,500650,19,9,python,How do Django model fields work?,"<p>First of all,I'm not into web programming. I bumped into django and read a bit about models. I was intrigued by the following code ( from djangoproject.com ) :</p>

<pre><code>
class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)

    def __str__(self):
        # Note use of django.utils.encoding.smart_str() here because
        # first_name and last_name will be unicode strings.
        return smart_str('%s %s' % (self.first_name, self.last_name))
</code></pre>

<p>By my understanding of python , first_name and last_name are class variables , right ? How is that used in code ( because I guess that setting Person.first_name or Person.last_name will affect all Person instances ) ? Why is it used that way ?</p>
","<p>The essence of your question is ""how come these class variables (which I assign Field objects to) suddenly become instance variables (which I assign data to) in Django's ORM""?  The answer to that is the magic of Python <a href=""http://docs.python.org/reference/datamodel.html"">metaclasses</a>.</p>

<p>A metaclass allows you to hook into and modify the process of creating a Python class (not the creation of an instance of that class, the creation of the class itself).</p>

<p>Django's Model object (and thus also your models, which are subclasses) has a <a href=""http://code.djangoproject.com/browser/django/trunk/django/db/models/base.py"">ModelBase metaclass</a>.  It looks through all the class attributes of your model, and any that are instances of a Field subclass it moves into a fields list.  That list is assigned as an attribute of the <code>_meta</code> object, which is a class attribute of the model.  Thus you can always get to the actual Field objects via <code>MyModel._meta.fields</code>, or <code>MyModel._meta.get_field('field_name')</code>.</p>

<p>The <code>Model.__init__</code> method is then able to use the <code>_meta.fields</code> list to determine what instance attributes should be initialized when a model instance is created.</p>

<p>Don't be afraid to dive into the Django source code; it's a great source of education!</p>
"
1015,500650,4,9,python,How do Django model fields work?,"<p>First of all,I'm not into web programming. I bumped into django and read a bit about models. I was intrigued by the following code ( from djangoproject.com ) :</p>

<pre><code>
class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)

    def __str__(self):
        # Note use of django.utils.encoding.smart_str() here because
        # first_name and last_name will be unicode strings.
        return smart_str('%s %s' % (self.first_name, self.last_name))
</code></pre>

<p>By my understanding of python , first_name and last_name are class variables , right ? How is that used in code ( because I guess that setting Person.first_name or Person.last_name will affect all Person instances ) ? Why is it used that way ?</p>
","<p>Yes, first_name and last_name are class variables. They define fields that will be created in a database table. There is a Person table that has first_name and last_name columns, so it makes sense for them to be at Class level at this point.</p>

<p>For more on models, see:
<a href=""http://docs.djangoproject.com/en/dev/topics/db/models/"" rel=""nofollow"">http://docs.djangoproject.com/en/dev/topics/db/models/</a></p>

<p>When it comes to accessing instances of a Person in code, you are typically doing this via Django's ORM, and at this point they essentially behave as instance variables.</p>

<p>For more on model instances, see:
<a href=""http://docs.djangoproject.com/en/dev/ref/models/instances/?from=olddocs"" rel=""nofollow"">http://docs.djangoproject.com/en/dev/ref/models/instances/?from=olddocs</a></p>
"
1008,492860,17,9,python,python: restarting a loop,"<p>i have:</p>

<pre><code>for i in range(2,n):
    if(something):
       do something
    else:
       do something else
       i = 2 **restart the loop
</code></pre>

<p>But that doesn't seem to work. Is there a way to restart that loop? </p>

<p>Thanks</p>
","<p>You may want to consider using a different type of loop where that logic is applicable, because it is the most obvious answer.</p>

<p>perhaps a:</p>

<pre><code>i=2
while i &lt; n:
    if something:
       do something
       i += 1
    else: 
       do something else  
       i = 2 #restart the loop
</code></pre>
"
1007,492860,9,9,python,python: restarting a loop,"<p>i have:</p>

<pre><code>for i in range(2,n):
    if(something):
       do something
    else:
       do something else
       i = 2 **restart the loop
</code></pre>

<p>But that doesn't seem to work. Is there a way to restart that loop? </p>

<p>Thanks</p>
","<p>Changing the index variable <code>i</code> from within the loop is unlikely to do what you expect. You may need to use a <code>while</code> loop instead, and control the incrementing of the loop variable yourself. Each time around the <code>for</code> loop, <code>i</code> is reassigned with the next value from <code>range()</code>. So something like:</p>

<pre><code>i = 2
while i &lt; n:
    if(something):
        do something
    else:
        do something else
        i = 2 # restart the loop
        continue
    i += 1
</code></pre>

<p>In my example, the <a href=""http://python.org/doc/2.5/ref/continue.html""><code>continue</code></a> statement jumps back up to the top of the loop, skipping the <code>i += 1</code> statement for that iteration. Otherwise, <code>i</code> is incremented as you would expect (same as the <code>for</code> loop).</p>
"
506,255700,7,9,python,How to implement Google Suggest in your own web application (e.g. using Python),"<p>In my website, users have the possibility to store links.</p>

<p>During typing the internet address into the designated field I would like to display a suggest/autocomplete box similar to Google Suggest or the Chrome Omnibar.</p>

<p>Example:</p>

<p>User is typing as URL:</p>

<pre><code>http://www.sta
</code></pre>

<p>Suggestions which would be displayed:</p>

<pre><code>http://www.staples.com
http://www.starbucks.com
http://www.stackoverflow.com
</code></pre>

<p>How can I achieve this while not reinventing the wheel? :)</p>
","<p>You could try with
<a href=""http://google.com/complete/search?output=toolbar&amp;q=keyword"">http://google.com/complete/search?output=toolbar&amp;q=keyword</a></p>

<p>and then parse the xml result.</p>
"
53,51010,5,9,python,What is the simplest way to find the difference between 2 times in python?,"<p>I have 2 time values which have the type <code>datetime.time</code>. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type <code>datetime.datetime</code> but not for <code>datetime.time</code>. So what is the best way to do this?</p>
","<p>You could transform both into <a href=""http://docs.python.org/lib/datetime-timedelta.html"" rel=""nofollow"">timedelta objects</a> and subtract these from each other, which will take care to of the carry-overs. For example:</p>

<pre><code>&gt;&gt;&gt; import datetime as dt
&gt;&gt;&gt; t1 = dt.time(23, 5, 5, 5)
&gt;&gt;&gt; t2 = dt.time(10, 5, 5, 5)
&gt;&gt;&gt; dt1 = dt.timedelta(hours=t1.hour, minutes=t1.minute, seconds=t1.second, microseconds=t1.microsecond)
&gt;&gt;&gt; dt2 = dt.timedelta(hours=t2.hour, minutes=t2.minute, seconds=t2.second, microseconds=t2.microsecond)
&gt;&gt;&gt;  print(dt1-dt2)
13:00:00
&gt;&gt;&gt; print(dt2-dt1)
-1 day, 11:00:00
&gt;&gt;&gt; print(abs(dt2-dt1))
13:00:00
</code></pre>

<p>Negative timedelta objects in Python get a negative day field, with the other fields positive. You could check beforehand: comparison works on both time objects and timedelta objects:</p>

<pre><code>&gt;&gt;&gt; dt2 &lt; dt1
True
&gt;&gt;&gt; t2 &lt; t1
True
</code></pre>
"
507,255700,0,9,python,How to implement Google Suggest in your own web application (e.g. using Python),"<p>In my website, users have the possibility to store links.</p>

<p>During typing the internet address into the designated field I would like to display a suggest/autocomplete box similar to Google Suggest or the Chrome Omnibar.</p>

<p>Example:</p>

<p>User is typing as URL:</p>

<pre><code>http://www.sta
</code></pre>

<p>Suggestions which would be displayed:</p>

<pre><code>http://www.staples.com
http://www.starbucks.com
http://www.stackoverflow.com
</code></pre>

<p>How can I achieve this while not reinventing the wheel? :)</p>
","<p>If you want the auto-complete to use date from your own database, you'll need to do the search yourself and update the suggestions using AJAX as users type. For the search part, you might want to look at <a href=""http://lucene.apache.org/java/docs/"" rel=""nofollow"">Lucene</a>.</p>
"
1104,545730,0,9,python,Tool (or combination of tools) for reproducible environments in Python,"<p>I used to be a java developer and we used tools like ant or maven to manage our development/testing/UAT environments in a standardized way. This allowed us to handle library dependencies, setting OS variables, compiling, deploying, running unit tests, and all the required tasks. Also, the scripts generated guaranteed that all the environments were almost equally configured, and all the task were performed in the same way by all the members of the team. </p>

<p>I'm starting to work in Python now and I'd like your advice in which tools should I use to accomplish the same as described for java.</p>
","<p>I do exactly this with a combination of setuptools and Hudson. I know Hudson is a java app, but it can run Python stuff just fine.</p>
"
1103,545730,2,9,python,Tool (or combination of tools) for reproducible environments in Python,"<p>I used to be a java developer and we used tools like ant or maven to manage our development/testing/UAT environments in a standardized way. This allowed us to handle library dependencies, setting OS variables, compiling, deploying, running unit tests, and all the required tasks. Also, the scripts generated guaranteed that all the environments were almost equally configured, and all the task were performed in the same way by all the members of the team. </p>

<p>I'm starting to work in Python now and I'd like your advice in which tools should I use to accomplish the same as described for java.</p>
","<p>You will want <a href=""http://pypi.python.org/pypi/setuptools"" rel=""nofollow"">easy_setup</a> to get the eggs (roughly what Maven calls an artifact).</p>

<p>For setting up your environment, have a look at <a href=""http://blog.ianbicking.org/working-env.html"" rel=""nofollow"">working-env.py</a></p>

<p>Python is not compiled but you can put all files for a project in an egg. This is done with <a href=""http://pypi.python.org/pypi/setuptools"" rel=""nofollow"">setuptools</a></p>

<p>For CI, check <a href=""http://stackoverflow.com/questions/535/continuous-integration-system-for-a-python-codebase"">this answer</a>.</p>
"
1102,545730,3,9,python,Tool (or combination of tools) for reproducible environments in Python,"<p>I used to be a java developer and we used tools like ant or maven to manage our development/testing/UAT environments in a standardized way. This allowed us to handle library dependencies, setting OS variables, compiling, deploying, running unit tests, and all the required tasks. Also, the scripts generated guaranteed that all the environments were almost equally configured, and all the task were performed in the same way by all the members of the team. </p>

<p>I'm starting to work in Python now and I'd like your advice in which tools should I use to accomplish the same as described for java.</p>
","<p>I also work with both java and python.
For python development the maven equivalent is setuptools (<a href=""http://peak.telecommunity.com/DevCenter/setuptools"" rel=""nofollow"">http://peak.telecommunity.com/DevCenter/setuptools</a>). For web application development I use this in combination with paster (<a href=""http://pythonpaste.org/"" rel=""nofollow"">http://pythonpaste.org/</a>) for the deployment process</p>
"
1101,545730,2,9,python,Tool (or combination of tools) for reproducible environments in Python,"<p>I used to be a java developer and we used tools like ant or maven to manage our development/testing/UAT environments in a standardized way. This allowed us to handle library dependencies, setting OS variables, compiling, deploying, running unit tests, and all the required tasks. Also, the scripts generated guaranteed that all the environments were almost equally configured, and all the task were performed in the same way by all the members of the team. </p>

<p>I'm starting to work in Python now and I'd like your advice in which tools should I use to accomplish the same as described for java.</p>
","<p>Other than <a href=""http://peak.telecommunity.com/DevCenter/EasyInstall"" rel=""nofollow"">easy_install</a>?</p>

<p>For our Linux servers, we use easy_install and yum.</p>

<p>For our Windows development laptops, we use easy_install and a few MSI's for some projects.</p>

<p>Most of the Python libraries we use are source-only, so we can use the same distribution on all boxes.  If we could have a network shared device, we'd put them all there.  Sadly, our infrastructure is kind of scattered, so we have to either move .TAR files around or redo the installs to rebuild the environments.</p>

<p>In a few cases (e.g., PIL), we have to recompile and check the version numbers.</p>
"
467,239020,12,9,python,How can I call a DLL from a scripting language?,"<p>I have a third-party product, a terminal emulator, which provides a DLL that can be linked to a C program to basically automate the driving of this product (send keystrokes, detect what's on the screen and so forth).</p>

<p>I want to drive it from a scripting language (I'm comfortable with Python and slightly less so with Perl) so that we don't have to compile and send out executables to our customers whenever there's a problem found.</p>

<p>We also want the customers to be able to write their own scripts using ours as baselines and they won't entertain the idea of writing and compiling C code.</p>

<p>What's a good way of getting Python/Perl to interface to a Windows DLL. My first thought was to write a server program and have a Python script communicate with it via TCP but there's got to be an easier solution.</p>
","<p>In Perl, <a href=""http://search.cpan.org/perldoc?Win32::API"" rel=""nofollow"">Win32::API</a> is an easy way to some interfacing to DLLs. There is also <a href=""http://search.cpan.org/perldoc?Inline::C"" rel=""nofollow"">Inline::C</a>, if you have access to a compiler and the windows headers.</p>

<p>Perl <a href=""http://search.cpan.org/perldoc?perlxs"" rel=""nofollow"">XSUB</a>s can also create an interface between Perl and C. </p>
"
384,199180,3,9,python,Is there any way to get python omnicomplete to work with non-system modules in vim?,"<p>The only thing I can get python omnicomplete to work with are system modules. I get nothing for help with modules in my site-packages or modules that I'm currently working on.</p>
","<p>Once I generated ctags for one of my site-packages, it started working for that package -- so I'm guessing that the omnicomplete function depends on ctags for non-sys modules.</p>

<p>EDIT: Not true at all.</p>

<p>Here's the problem -- poor testing on my part -- omnicomplete WAS working for parts of my project, just not most of it.</p>

<p>The issue was that I'm working on a django project, and in order to import django.db, you need to have an environment variable set. Since I couldn't import django.db, any class that inherited from django.db, or any module that imported a class that inherited from django.db wouldn't complete.</p>
"
466,239020,15,9,python,How can I call a DLL from a scripting language?,"<p>I have a third-party product, a terminal emulator, which provides a DLL that can be linked to a C program to basically automate the driving of this product (send keystrokes, detect what's on the screen and so forth).</p>

<p>I want to drive it from a scripting language (I'm comfortable with Python and slightly less so with Perl) so that we don't have to compile and send out executables to our customers whenever there's a problem found.</p>

<p>We also want the customers to be able to write their own scripts using ours as baselines and they won't entertain the idea of writing and compiling C code.</p>

<p>What's a good way of getting Python/Perl to interface to a Windows DLL. My first thought was to write a server program and have a Python script communicate with it via TCP but there's got to be an easier solution.</p>
","<p>One way to call C libraries from Python is to use <a href=""https://docs.python.org/library/ctypes.html"" rel=""nofollow"">ctypes</a>:</p>

<pre><code>&gt;&gt;&gt; from ctypes import *
&gt;&gt;&gt; windll.user32.MessageBoxA(None, ""Hello world"", ""ctypes"", 0);
</code></pre>
"
469,239020,4,9,python,How can I call a DLL from a scripting language?,"<p>I have a third-party product, a terminal emulator, which provides a DLL that can be linked to a C program to basically automate the driving of this product (send keystrokes, detect what's on the screen and so forth).</p>

<p>I want to drive it from a scripting language (I'm comfortable with Python and slightly less so with Perl) so that we don't have to compile and send out executables to our customers whenever there's a problem found.</p>

<p>We also want the customers to be able to write their own scripts using ours as baselines and they won't entertain the idea of writing and compiling C code.</p>

<p>What's a good way of getting Python/Perl to interface to a Windows DLL. My first thought was to write a server program and have a Python script communicate with it via TCP but there's got to be an easier solution.</p>
","<p>For Python, you could compile an extension which links to the DLL, so that in Python you could just import it like a normal module. You could do this by hand, by using a library like Boost.Python, or by using a tool such as SWIG (which also supports Perl and other scripting languages) to generate a wrapper automatically.</p>
"
470,239020,3,9,python,How can I call a DLL from a scripting language?,"<p>I have a third-party product, a terminal emulator, which provides a DLL that can be linked to a C program to basically automate the driving of this product (send keystrokes, detect what's on the screen and so forth).</p>

<p>I want to drive it from a scripting language (I'm comfortable with Python and slightly less so with Perl) so that we don't have to compile and send out executables to our customers whenever there's a problem found.</p>

<p>We also want the customers to be able to write their own scripts using ours as baselines and they won't entertain the idea of writing and compiling C code.</p>

<p>What's a good way of getting Python/Perl to interface to a Windows DLL. My first thought was to write a server program and have a Python script communicate with it via TCP but there's got to be an easier solution.</p>
","<p>The Python <strong>Py_InitModule</strong> API function allows you to create a module from c/c++ functions which can then be call from Python. </p>

<p>It takes about a dozen or so lines of c/c++ code to achieve but it is pretty easy code to write:</p>

<p><a href=""https://python.readthedocs.org/en/v2.7.2/extending/extending.html#the-module-s-method-table-and-initialization-function"" rel=""nofollow"">https://python.readthedocs.org/en/v2.7.2/extending/extending.html#the-module-s-method-table-and-initialization-function</a></p>

<p>The <a href=""http://www.zeusedit.com"" rel=""nofollow"">Zeus</a> editor that I wrote, uses this appoach to allow <a href=""http://www.zeusedit.com"" rel=""nofollow"">Zeus</a> macros to be written in Python and it works very well.</p>
"
150,91890,2,8,python,Reading quicken data files,"<p>Looking for an open source library, for C++, Java, C# or Python, for reading the data from Quicken <strong>.qdf</strong> files.</p>

<p>@<a href=""#91941"">Swati</a>:  Quicken <strong>.qif</strong> format is for transfer only and is not kept up to date by the application  like the .qdf file is.</p>
","<p><a href=""http://www.west-wind.com/Weblog/posts/10491.aspx"" rel=""nofollow"">http://www.west-wind.com/Weblog/posts/10491.aspx</a></p>

<p>And i know one other blog where the author was developing a parser for qfx/qif... lemme look it up... googling hasnt helped yet :(</p>

<p>Update: Found one more:</p>

<p><a href=""http://blogs.msdn.com/lucabol/archive/2007/08/31/parsing-qif-quicken-files-in-c.aspx"" rel=""nofollow"">http://blogs.msdn.com/lucabol/archive/2007/08/31/parsing-qif-quicken-files-in-c.aspx</a></p>
"
596,295670,6,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>A partial class is simply a class that's contained in more than one file.  Sometimes it's so that one part can be machine-generated, and another part user-edited.</p>

<p>I use them in C# when I'm making a class that's getting a bit too large.  I'll put the accessors and constructors in one file, and all of the interesting methods in a different file.</p>

<p>In Perl, you'd simply have two (or more) files that each declare themselves to be in a package:</p>

<p>(main program)</p>

<pre><code>    use MyClass;
</code></pre>

<p>(in MyClass.pm)</p>

<pre><code>    use MyClassOtherStuff;
    package MyClass;
    # [..class code here...]
</code></pre>

<p>(in MyClassOtherStuff.pm)</p>

<pre><code>    package MyClass;
    # [...rest of code here...]
</code></pre>
"
1042,520210,1,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>In 10 years of web development I've had 1 client have me write an email parsing app with it.  Not that it doesn't get used, but I've seen Ruby/php/.net way more often in the wild.</p>

<p>Edit:
From the other posts if you plan on working at Google, it sounds like the language to learn - LOL!</p>
"
1041,520210,10,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>In many large companies it is a primary scripting language.
Google is using it along with Java and C++ and almost nothing else.
Also many web pages are built on top of python and Django. 
Another place is game development. Many games have their engines written in C++ but all the logic in Python.</p>

<p>In other words it is one of the most valuable tools.</p>

<p>This might be of interest for you as well:</p>

<ul>
<li><a href=""http://stackoverflow.com/questions/35753/is-python-good-for-big-software-projects-not-web-based"">Is Python good for big software projects (not web based)?</a></li>
<li><a href=""http://stackoverflow.com/questions/371966/are-there-any-good-reasons-why-i-should-not-use-python"">Are there any good reasons why I should not use Python?</a></li>
<li><a href=""http://stackoverflow.com/questions/111857/what-did-you-use-to-teach-yourself-python"">What did you use to teach yourself python?</a></li>
</ul>
"
1039,520210,4,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>It definitely has job value. For instance Google requires it. Have a look at <a href=""http://www.google.co.in/support/jobs/bin/topic.py?dep_id=1054&amp;loc_id=1100&amp;topic=1054"" rel=""nofollow"">Google openings in India</a>:</p>

<blockquote>
  <p>Excellent programming skills in at
  least one of the following languages:
  C, C++, Java or Python (C++/Python
  preferred)</p>
</blockquote>
"
1040,520210,1,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>Try looking at Mark Pilgrim's excellent book ""<a href=""http://www.diveintopython.org/"" rel=""nofollow"">Dive Into Python</a>"" which is available for download under GNU Free Documentation License.</p>

<p>HTH</p>

<p>cheers,</p>

<p>Rob</p>
"
598,295670,9,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>The c# partial class has been already explained here so I'll just cover the python part. You can use multiple inheritance to elegantly distribute the definition of a class.</p>

<pre><code>class A_part1:
    def m1(self):
        print ""m1""

class A_part2:
    def m2(self):
        print ""m2""

class A(A_part1, A_part2):
    pass

a = A()
a.m1()
a.m2()
</code></pre>
"
1038,520210,1,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>Not sure about India, but you can get a decent overview of available Python jobs on the python.org jobs page <a href=""http://www.python.org/community/jobs/"" rel=""nofollow"">here</a>. </p>
"
595,295670,2,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>The concept of partial types have already been explained.</p>

<p>This can be done in python. As an example, do the following in a python shell.</p>

<pre><code>class A(object):
    pass

obj = A()

def _some_method(self):
    print self.__class__
A.identify = _some_method

obj.identify()
</code></pre>
"
1037,520210,17,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>Everywhere. It's used <a href=""http://panela.blog-city.com/python_at_google_greg_stein__sdforum.htm"">extensively by google</a> for one.</p>

<p>See <a href=""http://en.wikipedia.org/wiki/Python_software"">list of python software</a> for more info, and also <a href=""http://www.python.org/doc/essays/ppt/www8-py-www/sld010.htm"">who uses python on the web?</a></p>
"
594,295670,1,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>Because python is a dynamic language you don't need a concept like partial class. In python is possible to extend object with functionality in runtime so it possible to break class declaration into different files</p>
"
593,295670,19,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>A <a href=""http://msdn.microsoft.com/en-us/library/wa80x488.aspx"">partial type</a> (it doesn't have to be a class; structs and interfaces can be partial too) is basically a single type which has its code spread across multiple files.</p>

<p>The main use for this is to allow a code generator (e.g. a Visual Studio designer) to ""own"" one file, while hand-written code is put in another.</p>

<p>I've no idea whether Python/Perl have the same capabilities, I'm afraid.</p>
"
465,238600,14,8,python,How can I support wildcards in user-defined search strings in Python?,"<p>Is there a simple way to support wildcards (""*"") when searching strings - without using RegEx?</p>

<p>Users are supposed to enter search terms using wildcards, but should not have to deal with the complexity of RegEx:</p>

<pre><code>""foo*""   =&gt;  str.startswith(""foo"")
""*foo""   =&gt;  str.endswith(""foo"")
""*foo*""  =&gt;  ""foo"" in str
</code></pre>

<p>(it gets more complicated when there are multiple search terms though, e.g. ""foo*bar*baz"")</p>

<p>This seems like a common issue, so I wonder whether there's a ready-made solution for it.</p>

<p>Any help would be greatly appreciated!</p>
","<p>You could try the <a href=""http://www.python.org/doc/2.5.2/lib/module-fnmatch.html""><code>fnmatch</code></a> module, it's got a shell-like wildcard syntax.</p>
"
597,295670,0,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>A Partial type is a type whose declaration is separated across multiple files. It makes sense to use them if you have a big class, which is hard to handle and read for a typical developer, to separate that class definition in separate files and to put in each file a logically separated section of code (for instance all public methods and proprieties in one file, private in other, db handling code in third and so on..)</p>

<p>No you don't have the same syntactical element in Python. </p>
"
599,295670,0,8,python,What is a partial class?,"<p>What is and how can it be used in C#.<br/>
Can you use the same concept in Python/Perl?</p>
","<p>Python also has meta classes but that is more like a template class than a partial class.  A good example of meta class usage is the Django ORM.  All of your table models inherit from a base model class which also gets functionality included from a meta class.  It is a pretty cool concept that enables an active record like pattern (is it full active record?).</p>
"
95,74430,0,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>Seems to work fine for me. Check out the methods in the <a href=""http://docs.python.org/lib/module-random.html"" rel=""nofollow"">official python documentation</a> for random:</p>

<pre><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; random.random()
0.69130806168332215
&gt;&gt;&gt; random.uniform(1, 10)
8.8384170917436293
&gt;&gt;&gt; random.randint(1, 10)
4
</code></pre>
"
97,74430,34,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>You probably have a file named random.py or random.pyc in your working directory.  That's shadowing the built-in random module.  You need to rename random.py to something like my_random.py and/or remove the random.pyc file.</p>

<p>To tell for sure what's going on, do this:</p>

<pre><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; print random.__file__
</code></pre>

<p>That will show you exactly which file is being imported.</p>
"
475,244750,3,8,python,AJAX console window with ANSI/VT100 support?,"<p>I'm planning to write gateway web application, which would need ""terminal window"" with VT100/ANSI escape code support. Are there any AJAX based alternatives for such a task?</p>

<p>I'm thinking something like this: <a href=""http://tryruby.hobix.com/"">http://tryruby.hobix.com/</a></p>

<p>My preferred backend for the system is Python/Twisted/Pylons, but since I'm just planning, I will explore every option.</p>
","<p>AjaxTerm has a terminal, with mostly felicitous terminal emulation, done on the Python backend (it just pushes display updates to the client Javascript).</p>

<p>The <a href=""http://antony.lesuisse.org/qweb/trac/wiki/AjaxTerm"" rel=""nofollow"">AjaxTerm</a> website has been down for some time, but you can still find it <a href=""http://packages.debian.org/etch/ajaxterm"" rel=""nofollow"">packaged</a> in Debian.</p>
"
99,74430,3,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>This is happening because you have a random.py file in the python search path, most likely the current directory.</p>

<p>Python is searching for modules using sys.path, which normally includes the current directory before the standard site-packages, which contains the expected random.py.</p>

<p>This is expected to be fixed in Python 3.0, so that you can't import modules from the current directory without using a special import syntax.</p>

<p>Just remove the random.py + random.pyc in the directory you're running python from and it'll work fine.</p>
"
98,74430,1,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>Is it possible that the script you run is called random.py itself?</p>
"
476,244750,9,8,python,AJAX console window with ANSI/VT100 support?,"<p>I'm planning to write gateway web application, which would need ""terminal window"" with VT100/ANSI escape code support. Are there any AJAX based alternatives for such a task?</p>

<p>I'm thinking something like this: <a href=""http://tryruby.hobix.com/"">http://tryruby.hobix.com/</a></p>

<p>My preferred backend for the system is Python/Twisted/Pylons, but since I'm just planning, I will explore every option.</p>
","<p>Try</p>

<p><a href=""http://wiki.kartbuilding.net/index.php/Anyterm"">AnyTerm</a></p>

<p><a href=""http://wiki.kartbuilding.net/index.php/Ajaxterm"">AjaxTerm</a></p>

<p><a href=""http://www-personal.umich.edu/~mressl/webshell/"">WebShell</a></p>
"
92,74430,2,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>I think you need to give some more information.  It's not really possible to answer why it's not working based on the information in the question.  The basic documentation for random is at: 
<a href=""https://docs.python.org/library/random.html"" rel=""nofollow"">https://docs.python.org/library/random.html</a></p>

<p>You might check there.  </p>
"
93,74430,0,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>Can you post an example of what you're trying to do?  It's not clear from your question what the actual problem is.</p>

<p>Here's an example of how to use the random module:</p>

<pre><code>import random
print random.randint(0,10)
</code></pre>
"
94,74430,1,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<pre><code>Python 2.5.2 (r252:60911, Jun 16 2008, 18:27:58)
[GCC 3.3.4 (pre 3.3.5 20040809)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import random
&gt;&gt;&gt; random.seed()
&gt;&gt;&gt; dir(random)
['BPF', 'LOG4', 'NV_MAGICCONST', 'RECIP_BPF', 'Random', 'SG_MAGICCONST', 'SystemRandom', 'TWOPI', 'WichmannHill', '_BuiltinMethodType', '_MethodType', '__all__', '__builtins__', '__doc__', '__file__', '__name__', '_acos', '_ceil', '_cos', '_e', '_exp', '_hexlify', '_inst', '_log', '_pi', '_random', '_sin', '_sqrt', '_test', '_test_generator', '_urandom', '_warn', 'betavariate', 'choice', 'expovariate', 'gammavariate', 'gauss', 'getrandbits', 'getstate', 'jumpahead', 'lognormvariate', 'normalvariate', 'paretovariate', 'randint', 'random', 'randrange', 'sample', 'seed', 'setstate', 'shuffle', 'uniform', 'vonmisesvariate', 'weibullvariate']
&gt;&gt;&gt; random.randint(0,3)
3
&gt;&gt;&gt; random.randint(0,3)
1
&gt;&gt;&gt;
</code></pre>
"
1043,520210,1,8,python,Where is Python used? I read about it a lot on Reddit,"<p>I have downloaded the Pyscripter and learning Python. But I have no Idea if it has any job value , especially in India. I am learning Python as a Hobby. But it would be comforting to know if Python programmers are in demand in India.</p>
","<p>It's juste one example but I know it is widely used in large scientific institutions with high tech machinery where non-programmers (typically physicists) need quick prototypes or tools to cover their data collection/processing needs. The easy-to access scripting language aspect clearly plays its role here. So I don't know about building a career out of that only but I'd definitely say that knowing Python is a very valuable asset on your resume, it'll strengthen your ""smell of usefulness"".</p>
"
96,74430,0,8,python,Random in python 2.5 not working?,"<p>I am trying to use the <code>import random</code> statement in python, but it doesn't appear to have any methods in it to use.</p>

<p>Am I missing something?</p>
","<p>Works for me:</p>

<pre><code>Python 2.5.1 (r251:54863, Jun 15 2008, 18:24:51) 
[GCC 4.3.0 20080428 (Red Hat 4.3.0-8)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import random
&gt;&gt;&gt; brothers = ['larry', 'curly', 'moe']
&gt;&gt;&gt; random.choice(brothers)
'moe'
&gt;&gt;&gt; random.choice(brothers)
'curly'
</code></pre>
"
299,164460,1,7,python,Programmatically launching standalone Adobe flashplayer on Linux/X11,"<p>The standalone flashplayer takes no arguments other than a .swf file when you launch it from the command line. I need the player to go full screen, no window borders and such. This can be accomplished by hitting ctrl+f once the program has started. I want to do this programmatically as I need it to launch into full screen without any human interaction.</p>

<p>My guess is that I need to some how get a handle to the window and then send it an event that looks like the ""ctrl+f"" keystroke. </p>

<p>If it makes any difference, it looks like flashplayer is a gtk application and I have python with pygtk installed.</p>

<p><b>UPDATE</b> (the solution I used... thanks to ypnos' answer):</p>

<pre><code>./flashplayer http://example.com/example.swf &amp; sleep 3 &amp;&amp; ~/xsendkey -window ""Adobe Flash Player 10"" Control+F
</code></pre>
","<p>I've actually done this a long time ago, but it wasn't petty.  What we did is use the <a href=""http://sawfish.wikia.com/wiki/Main_Page"" rel=""nofollow"">Sawfish window manager</a> and wrote a hook to recognize the flashplayer window, then strip all the decorations and snap it full screen.</p>

<p>This may be possible without using the window manager, by registering for X window creation events from an external application, but I'm not familiar enough with X11 to tell you how that would be done.</p>

<p>Another option would be to write a pygtk application that embedded the standalone flash player inside a gtk.Socket and then resized itself.  After a bit of thought, this might be your best bet.</p>
"
340,174170,4,7,python,Python - Py2exe can't build .exe using the 'email' module,"<p>py2exe does not work with the standard email module</p>

<p>Hello. I am trying to use py2exe for converting a script into an exe. The build process shows this:</p>

<p><hr /></p>

<p>The following modules appear to be missing</p>

<h2>['email.Encoders', 'email.Generator', 'email.Iterators', 'email.MIMEBase', 'email.MIMEMultipart', 'email.MIMEText', 'email.Utils', 'email.base64MIME']</h2>

<p>The executable does not work. The referenced modules are not included. I researched this on the Internet and I found out that py2exe has a problem with the Lazy import used in the standard lib email module. Unfortunately I have not succeeded in finding a workaround for this problem. Can anyone help?</p>

<p>Thank you,</p>

<p>P.S.
Imports in the script look like this:</p>

<p>Code: Select all
    import string,time,sys,os,smtplib
    from email.MIMEMultipart import MIMEMultipart
    from email.MIMEBase import MIMEBase
    from email.MIMEText import MIMEText
    from email import Encoders</p>
","<p>What version of Python are you using?  If you are using 2.5 or 2.6, then you should be doing your import like:</p>

<pre><code>import string,time,sys,os,smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.base import MIMEBase
from email.mime.text import MIMEText
from email import Encoders
</code></pre>

<p>I'm pretty certain that py2exe's modulefinder can correctly find the email package if you use it correctly (i.e. use the above names in Python 2.5+, or use the old names in Python 2.4-).  Certainly the SpamBayes setup script does not need to explicitly include the email package, and it includes the email modules without problem.</p>

<p>The other answers are correct in that if you do need to specifically include a module, you use the ""includes"" option, either via the command-line, or passing them in when you call setup.</p>
"
520,261500,4,7,python,How to build Python C extension modules with autotools,"<p>Most of the documentation available for building Python extension modules
uses distutils, but I would like to achieve this by using the appropriate
python autoconf &amp; automake macros instead.</p>

<p>I'd like to know if there is an open source project out there that does
exactly this. Most of the ones I've found end up relying on a setup.py file.
Using that approach works, but unfortunately ends up rebuilding the entire
source tree any time I make a modification to the module source files.</p>
","<p>All PyGTK extensions use autotools, so if the PyGTK aspects don't kill the whole thing for you, it might be worth having a look at the <a href=""http://svn.gnome.org/viewvc/pygtk/trunk/"" rel=""nofollow"">PyGTK source code</a>. Additionally, <a href=""http://bazaar.launchpad.net/~poppler-python/poppler-python/trunk/files"" rel=""nofollow"">here is one I wrote which is more simple.</a></p>
"
300,164460,7,7,python,Programmatically launching standalone Adobe flashplayer on Linux/X11,"<p>The standalone flashplayer takes no arguments other than a .swf file when you launch it from the command line. I need the player to go full screen, no window borders and such. This can be accomplished by hitting ctrl+f once the program has started. I want to do this programmatically as I need it to launch into full screen without any human interaction.</p>

<p>My guess is that I need to some how get a handle to the window and then send it an event that looks like the ""ctrl+f"" keystroke. </p>

<p>If it makes any difference, it looks like flashplayer is a gtk application and I have python with pygtk installed.</p>

<p><b>UPDATE</b> (the solution I used... thanks to ypnos' answer):</p>

<pre><code>./flashplayer http://example.com/example.swf &amp; sleep 3 &amp;&amp; ~/xsendkey -window ""Adobe Flash Player 10"" Control+F
</code></pre>
","<p>You can use a dedicated application which sends the keystroke to the window manager, which should then pass it to flash, if the window starts as being the active window on the screen. This is quite error prone, though, due to delays between starting flash and when the window will show up.</p>

<p>For example, your script could do something like this:
flashplayer *.swf
sleep 3 &amp;&amp; xsendkey Control+F</p>

<p>The application xsendkey can be found here: <a href=""http://people.csail.mit.edu/adonovan/hacks/xsendkey.html"" rel=""nofollow"">http://people.csail.mit.edu/adonovan/hacks/xsendkey.html</a>
Without given a specific window, it will send it to the root window, which is handled by your window manager. You could also try to figure out the Window id first, using xprop or something related to it.</p>

<p>Another option is a Window manager, which is able to remember your settings and automatically apply them. Fluxbos for example provides this feature. You could set fluxbox to make the Window decor-less and stretch it over the whole screen, if flashplayer supports being resized. This is also not-so-nice, as it would probably affect all the flashplayer windows you open ever.</p>
"
339,174170,2,7,python,Python - Py2exe can't build .exe using the 'email' module,"<p>py2exe does not work with the standard email module</p>

<p>Hello. I am trying to use py2exe for converting a script into an exe. The build process shows this:</p>

<p><hr /></p>

<p>The following modules appear to be missing</p>

<h2>['email.Encoders', 'email.Generator', 'email.Iterators', 'email.MIMEBase', 'email.MIMEMultipart', 'email.MIMEText', 'email.Utils', 'email.base64MIME']</h2>

<p>The executable does not work. The referenced modules are not included. I researched this on the Internet and I found out that py2exe has a problem with the Lazy import used in the standard lib email module. Unfortunately I have not succeeded in finding a workaround for this problem. Can anyone help?</p>

<p>Thank you,</p>

<p>P.S.
Imports in the script look like this:</p>

<p>Code: Select all
    import string,time,sys,os,smtplib
    from email.MIMEMultipart import MIMEMultipart
    from email.MIMEBase import MIMEBase
    from email.MIMEText import MIMEText
    from email import Encoders</p>
","<p>Use the ""includes"" option.  See: <a href=""http://www.py2exe.org/index.cgi/ListOfOptions"" rel=""nofollow"">http://www.py2exe.org/index.cgi/ListOfOptions</a></p>
"
338,174170,1,7,python,Python - Py2exe can't build .exe using the 'email' module,"<p>py2exe does not work with the standard email module</p>

<p>Hello. I am trying to use py2exe for converting a script into an exe. The build process shows this:</p>

<p><hr /></p>

<p>The following modules appear to be missing</p>

<h2>['email.Encoders', 'email.Generator', 'email.Iterators', 'email.MIMEBase', 'email.MIMEMultipart', 'email.MIMEText', 'email.Utils', 'email.base64MIME']</h2>

<p>The executable does not work. The referenced modules are not included. I researched this on the Internet and I found out that py2exe has a problem with the Lazy import used in the standard lib email module. Unfortunately I have not succeeded in finding a workaround for this problem. Can anyone help?</p>

<p>Thank you,</p>

<p>P.S.
Imports in the script look like this:</p>

<p>Code: Select all
    import string,time,sys,os,smtplib
    from email.MIMEMultipart import MIMEMultipart
    from email.MIMEBase import MIMEBase
    from email.MIMEText import MIMEText
    from email import Encoders</p>
","<p>If you don't have to work with py2exe, bbfreeze works better, and I've tried it with the email module. <a href=""http://pypi.python.org/pypi/bbfreeze/0.95.4"" rel=""nofollow"">http://pypi.python.org/pypi/bbfreeze/0.95.4</a></p>
"
50,45500,3,7,python,Wacom tablet Python interface,"<p>If possible I want to catch pressure sensitive input from a Wacom tablet in Python. Are there any Python libraries available that can do this?</p>
","<p>You could perhaps take a look at the <a href=""http://www.alexmac.cc/tablet-apps/tablet-apps-0.3.1.tar.bz2"" rel=""nofollow"">software</a> described <a href=""http://www.alexmac.cc/tablet-apps/"" rel=""nofollow"">here</a>. It is a gnome applet, written in Python.</p>

<p>From the web site:</p>

<p>""The gnome wacom applet is a small gnome panel applet that shows how much pressure is being applied to your wacom tablet by the current device. Clicking on the panel icon brings up a dialog allowing you to select a different device and check what pressure and tilt information is being recieved from it. This dialog also contains a small drawing test area to give your pen a quick test.""</p>

<p><a href=""http://www.google.com/search?q=wacom+tablet+python"" rel=""nofollow"">Google is your friend</a></p>
"
301,164460,1,7,python,Programmatically launching standalone Adobe flashplayer on Linux/X11,"<p>The standalone flashplayer takes no arguments other than a .swf file when you launch it from the command line. I need the player to go full screen, no window borders and such. This can be accomplished by hitting ctrl+f once the program has started. I want to do this programmatically as I need it to launch into full screen without any human interaction.</p>

<p>My guess is that I need to some how get a handle to the window and then send it an event that looks like the ""ctrl+f"" keystroke. </p>

<p>If it makes any difference, it looks like flashplayer is a gtk application and I have python with pygtk installed.</p>

<p><b>UPDATE</b> (the solution I used... thanks to ypnos' answer):</p>

<pre><code>./flashplayer http://example.com/example.swf &amp; sleep 3 &amp;&amp; ~/xsendkey -window ""Adobe Flash Player 10"" Control+F
</code></pre>
","<pre><code>nspluginplayer --fullscreen src=path/to/flashfile.swf
</code></pre>

<p>which is from the http://gwenole.beauchesne.info//en/projects/nspluginwrapper</p>
"
337,174170,4,7,python,Python - Py2exe can't build .exe using the 'email' module,"<p>py2exe does not work with the standard email module</p>

<p>Hello. I am trying to use py2exe for converting a script into an exe. The build process shows this:</p>

<p><hr /></p>

<p>The following modules appear to be missing</p>

<h2>['email.Encoders', 'email.Generator', 'email.Iterators', 'email.MIMEBase', 'email.MIMEMultipart', 'email.MIMEText', 'email.Utils', 'email.base64MIME']</h2>

<p>The executable does not work. The referenced modules are not included. I researched this on the Internet and I found out that py2exe has a problem with the Lazy import used in the standard lib email module. Unfortunately I have not succeeded in finding a workaround for this problem. Can anyone help?</p>

<p>Thank you,</p>

<p>P.S.
Imports in the script look like this:</p>

<p>Code: Select all
    import string,time,sys,os,smtplib
    from email.MIMEMultipart import MIMEMultipart
    from email.MIMEBase import MIMEBase
    from email.MIMEText import MIMEText
    from email import Encoders</p>
","<p>Have a look at this question <a href=""http://stackoverflow.com/questions/169897/how-to-package-twisted-program-with-py2exe"">how-to-package-twisted-program-with-py2exe</a> it seems to be the same problem.</p>

<p>The answer given there is to explicitly include the modules on the command line to py2exe.</p>
"
656,343210,3,7,python,What happened to the python bindings for CGAL?,"<p>I found the <a href=""http://www.cgal.org/"">Computational Geometry Algorithms Library</a> in my search for an algorithm to decompose a concave polygon into the minimum number of convex components.  Links off the site and numerous google results indicate there are python bindings for it, which would be really handy, but all the links are dead!  What happened to it?  Where can I get it now?</p>
","<p><a href=""http://cgal-python.gforge.inria.fr/"" rel=""nofollow"">CGAL-Python</a> has been inert for over a year but the code (available through the ""Download"" link) seems to work fine, though not with Python 3.</p>
"
1019,501940,2,7,python,Simple simulations for Physics in Python?,"<p>I would like to know similar, concrete simulations, as the simulation about watering a field <a href=""http://stackoverflow.com/questions/494184/simulation-problem-with-mouse-in-pygame"">here</a>.</p>

<p>What is your favorite library/internet page for such simulations in Python?</p>

<p>I know little Simpy, Numpy and Pygame. I would like to get examples about them.</p>
","<p>Maybe <a href=""http://pyode.sourceforge.net/"" rel=""nofollow"">PyODE</a>?</p>
"
436,222450,2,7,python,How to script Visual Studio 2008 from Python?,"<p>I'd like to write Python scripts that drive Visual Studio 2008 and Visual C++ 2008.  All the examples I've found so far use <code>win32com.client.Dispatch</code>.  This works fine for Excel 2007 and Word 2007 but fails for Visual Studio 2008:</p>

<pre><code>import win32com.client
app1 = win32com.client.Dispatch( 'Excel.Application' ) # ok
app2 = win32com.client.Dispatch( 'Word.Application' )  # ok
app3 = win32com.client.Dispatch( 'MSDev.Application' ) # error
</code></pre>

<p>Any ideas?  Does Visual Studio 2008 use a different string to identify itself?  Is the above method out-dated?</p>
","<p>You can try <em>.Net</em>'s own version, <a href=""http://www.codeplex.com/ironpython"" rel=""nofollow"">IronPython</a>.
It has a <em>VS</em> addon, <a href=""http://www.codeplex.com/IronPythonStudio"" rel=""nofollow"">IronPythonStudio</a>.</p>

<p>Being a <em>.Net</em> language, you can access all the available assemblies, including <a href=""http://msdn.microsoft.com/en-us/office/aa905533.aspx"" rel=""nofollow"">Visual Studio Tools for Office</a>.</p>
"
1018,501940,10,7,python,Simple simulations for Physics in Python?,"<p>I would like to know similar, concrete simulations, as the simulation about watering a field <a href=""http://stackoverflow.com/questions/494184/simulation-problem-with-mouse-in-pygame"">here</a>.</p>

<p>What is your favorite library/internet page for such simulations in Python?</p>

<p>I know little Simpy, Numpy and Pygame. I would like to get examples about them.</p>
","<p>If you are looking for some <em>game</em> physics (collisions, deformations, gravity, etc.) which <em>looks</em> real and is reasonably <em>fast</em> consider re-using some <em>physics engine</em> libraries.</p>

<p>As a first reference, you may want to look into <a href=""http://www.pymunk.org/"" rel=""nofollow"">pymunk</a>, a Python wrapper of <a href=""http://wiki.slembcke.net/main/published/Chipmunk"" rel=""nofollow"">Chipmunk</a> 2D physics library. You can find a list of various Open Source physics engines (2D and 3D) in Wikipedia.</p>

<p>If you are looking for <em>physically correct</em> simulations, no matter what language you want to use, it will be much <em>slower</em> (almost never real-time), and you need to use some <em>numerical analysis</em> software (and probably to write something yourself). Exact answer depends on the problem you want to solve. It is a fairly complicated field (of math).</p>

<p>For example, if you need to do simulations in continuum mechanics or electromagnetism, you probably need Finite Difference, Finite Volume or Finite Element methods. For Python, there are some ready-to-use libraries, for example: <a href=""http://www.ctcms.nist.gov/fipy/"" rel=""nofollow"">FiPy</a> (FVM), <a href=""http://home.gna.org/getfem/"" rel=""nofollow"">GetFem++</a> (FEM), <a href=""http://www.fenics.org/wiki/FEniCS_Project"" rel=""nofollow"">FEniCS/DOLFIN</a> (FEM), and some other.</p>
"
438,222450,3,7,python,How to script Visual Studio 2008 from Python?,"<p>I'd like to write Python scripts that drive Visual Studio 2008 and Visual C++ 2008.  All the examples I've found so far use <code>win32com.client.Dispatch</code>.  This works fine for Excel 2007 and Word 2007 but fails for Visual Studio 2008:</p>

<pre><code>import win32com.client
app1 = win32com.client.Dispatch( 'Excel.Application' ) # ok
app2 = win32com.client.Dispatch( 'Word.Application' )  # ok
app3 = win32com.client.Dispatch( 'MSDev.Application' ) # error
</code></pre>

<p>Any ideas?  Does Visual Studio 2008 use a different string to identify itself?  Is the above method out-dated?</p>
","<p>I don't know if this will help you with 2008, but with Visual Studio 2005 and win32com I'm able to do this:</p>

<pre><code>&gt;&gt;&gt; import win32com.client
&gt;&gt;&gt; b = win32com.client.Dispatch('VisualStudio.DTE')
&gt;&gt;&gt; b
&lt;COMObject VisualStudio.DTE&gt;
&gt;&gt;&gt; b.name
u'Microsoft Visual Studio'
&gt;&gt;&gt; b.Version
u'8.0'
</code></pre>

<p>Unfortunately I don't have 2008 to test with though.</p>
"
437,222450,3,7,python,How to script Visual Studio 2008 from Python?,"<p>I'd like to write Python scripts that drive Visual Studio 2008 and Visual C++ 2008.  All the examples I've found so far use <code>win32com.client.Dispatch</code>.  This works fine for Excel 2007 and Word 2007 but fails for Visual Studio 2008:</p>

<pre><code>import win32com.client
app1 = win32com.client.Dispatch( 'Excel.Application' ) # ok
app2 = win32com.client.Dispatch( 'Word.Application' )  # ok
app3 = win32com.client.Dispatch( 'MSDev.Application' ) # error
</code></pre>

<p>Any ideas?  Does Visual Studio 2008 use a different string to identify itself?  Is the above method out-dated?</p>
","<p>Depending on what exactly you're trying to do, <a href=""http://www.autoitscript.com/autoit3/index.shtml"" rel=""nofollow"">AutoIt</a> may meet your needs.  In fact, I'm sure it will do anything you need it to do.</p>

<p>Taken from my <a href=""http://stackoverflow.com/questions/151846/get-other-running-processes-window-sizes-in-python#155587"">other post</a> about how to use AutoIt with Python:</p>

<pre><code>import win32com.client
oAutoItX = win32com.client.Dispatch( ""AutoItX3.Control"" )

oAutoItX.Opt(""WinTitleMatchMode"", 2) #Match text anywhere in a window title

width = oAutoItX.WinGetClientSizeWidth(""Firefox"")
height = oAutoItX.WinGetClientSizeHeight(""Firefox"")

print width, height
</code></pre>

<p>You can of course use any of the <a href=""http://www.autoitscript.com/autoit3/docs/functions.htm"" rel=""nofollow"">AutoItX functions</a> (note that that link goes to the AutoIt function reference, the com version of AutoIt - AutoItX has a subset of that list...the documentation is included in the download) in this way.  I don't know what you're wanting to do, so I can't point you towards the appropriate functions, but this should get you started.</p>
"
657,343210,1,7,python,What happened to the python bindings for CGAL?,"<p>I found the <a href=""http://www.cgal.org/"">Computational Geometry Algorithms Library</a> in my search for an algorithm to decompose a concave polygon into the minimum number of convex components.  Links off the site and numerous google results indicate there are python bindings for it, which would be really handy, but all the links are dead!  What happened to it?  Where can I get it now?</p>
","<p>You may also be interested in the GEOS library, which is available in Python through <a href=""http://trac.gispython.org/lab/wiki/Shapely"" rel=""nofollow"">Shapely</a> and <a href=""http://geodjango.org/docs/geos.html"" rel=""nofollow"">the GEOS API included in GeoDjango</a>.</p>
"
954,469200,6,7,python,Any Python OLAP/MDX ORM engines?,"<p>I'm new to the MDX/OLAP and I'm wondering if there is any ORM similar like Django ORM for Python that would support OLAP.</p>

<p>I'm a Python/Django developer and if there would be something that would have some level of integration with Django I would be much interested in learning more about it.</p>
","<p>Django has some OLAP features that are nearing release.</p>

<p>Read <a href=""http://www.eflorenzano.com/blog/post/secrets-django-orm/"" rel=""nofollow"">http://www.eflorenzano.com/blog/post/secrets-django-orm/</a></p>

<p><a href=""http://doughellmann.com/2007/12/30/using-raw-sql-in-django.html"" rel=""nofollow"">http://doughellmann.com/2007/12/30/using-raw-sql-in-django.html</a>, also</p>

<p>If you have a proper star schema design in the first place, then one-dimensional results can have the following form.</p>

<pre><code>from myapp.models import SomeFact
from collections import defaultdict

facts = SomeFact.objects.filter( dimension1__attribute=this, dimension2__attribute=that )
myAggregates = defaultdict( int )
for row in facts:
    myAggregates[row.dimension3__attribute] += row.someMeasure
</code></pre>

<p>If you want to create a two-dimensional summary, you have to do something like the following.</p>

<pre><code>facts = SomeFact.objects.filter( dimension1__attribute=this, dimension2__attribute=that )
myAggregates = defaultdict( int )
for row in facts:
    key = ( row.dimension3__attribute, row.dimension4__attribute )
    myAggregates[key] += row.someMeasure
</code></pre>

<p>To compute multiple SUM's and COUNT's and what-not, you have to do something like this.</p>

<pre><code>class MyAgg( object ):
    def __init__( self ):
        self.count = 0
        self.thisSum= 0
        self.thatSum= 0

myAggregates= defaultdict( MyAgg )
for row in facts:
    myAggregates[row.dimension3__attr].count += 1
    myAggregates[row.dimension3__attr].thisSum += row.this
    myAggregates[row.dimension3__attr].thatSum += row.that
</code></pre>

<p>This -- at first blush -- seems inefficient.  You're trolling through the fact table returning lots of rows which you are then aggregating in your application.</p>

<p>In some cases, this may be <em>faster</em> than the RDBMS's native sum/group_by.  Why?  You're using a simple mapping, not the more complex sort-based grouping operation that the RDBMS often has to use for this.  Yes, you're getting a lot of rows; but you're doing less to get them.</p>

<p>This has the disadvantage that it's not so declarative as we'd like.  It has the advantage that it's pure Django ORM.</p>
"
1017,501940,3,7,python,Simple simulations for Physics in Python?,"<p>I would like to know similar, concrete simulations, as the simulation about watering a field <a href=""http://stackoverflow.com/questions/494184/simulation-problem-with-mouse-in-pygame"">here</a>.</p>

<p>What is your favorite library/internet page for such simulations in Python?</p>

<p>I know little Simpy, Numpy and Pygame. I would like to get examples about them.</p>
","<p>Here is some simple <a href=""http://www.astro.sunysb.edu/mzingale/software/astro/"" rel=""nofollow"">astronomy related python</a>.  And here is a <a href=""http://www.astro.sunysb.edu/mzingale/pyro/"" rel=""nofollow"">hardcore code</a> from the same guy.</p>

<p>And <a href=""http://kingkong.amath.washington.edu/claw/examples/index.html"" rel=""nofollow"">Eagleclaw</a> solves and plots various hyperbolic equations using some python.  However, most of the code is written in Fortran to do the computations and python to plot the results.   If you are studying physics though you may have to get used to this kind of Fortran wrapped code.  It is a reality.  But this isn't really what your looking for I guess.  The good thing it that it is documented in a literate programming style so it should be understandable.</p>
"
1020,501940,1,7,python,Simple simulations for Physics in Python?,"<p>I would like to know similar, concrete simulations, as the simulation about watering a field <a href=""http://stackoverflow.com/questions/494184/simulation-problem-with-mouse-in-pygame"">here</a>.</p>

<p>What is your favorite library/internet page for such simulations in Python?</p>

<p>I know little Simpy, Numpy and Pygame. I would like to get examples about them.</p>
","<p>I've heard of <a href=""http://www.box2d.org/wiki/index.php?title=PyBox2D"" rel=""nofollow"">PyBox2D</a>, which is a port of the really nice Box2D.  To quote the site:</p>

<blockquote>
  <p>Box2D is a feature rich 2d rigid body physics engine, written in C++ by Erin Catto. It has been used in many games, including Crayon Physics Deluxe, winner of the 2008 Independent Game Festival Grand Prize.</p>
</blockquote>
"
655,343210,0,7,python,What happened to the python bindings for CGAL?,"<p>I found the <a href=""http://www.cgal.org/"">Computational Geometry Algorithms Library</a> in my search for an algorithm to decompose a concave polygon into the minimum number of convex components.  Links off the site and numerous google results indicate there are python bindings for it, which would be really handy, but all the links are dead!  What happened to it?  Where can I get it now?</p>
","<p>The fastest would probably be just to look at the code and re-implement it yourself in python. carrying around all of CGAL just for this tiny bit seems redundant.<br />
Also this calculation doesn't strike me as something that would extremely benefit by running compiled.</p>
"
949,467800,2,6,python,Is there a Perl equivalent of Python's re.findall/re.finditer (iterative regex results)?,"<p>In Python compiled regex patterns <a href=""http://docs.python.org/library/re.html#re.findall"">have a <code>findall</code> method</a> that does the following:</p>

<blockquote>
  <p>Return all non-overlapping matches of
  pattern in string, as a list of
  strings. The string is scanned
  left-to-right, and matches are
  returned in the order found. If one or
  more groups are present in the
  pattern, return a list of groups; this
  will be a list of tuples if the
  pattern has more than one group. Empty
  matches are included in the result
  unless they touch the beginning of
  another match.</p>
</blockquote>

<p>What's the canonical way of doing this in Perl? A naive algorithm I can think of is along the lines of ""while a search and replace with the empty string is successful, do [suite]"". I'm hoping there's a nicer way. :-)</p>

<p>Thanks in advance!</p>
","<p>Nice beginner reference with similar content to <a href=""http://stackoverflow.com/questions/467800/is-there-a-perl-equivalent-of-pythons-re-findall-re-finditer-iterative-regex-re#467874"">@kyle</a>'s answer: <a href=""http://perldoc.perl.org/perlretut.html#Using-regular-expressions-in-Perl"" rel=""nofollow"">Perl Tutorial: Using regular expressions</a></p>
"
83,66730,4,6,python,How do I create a new signal in pygtk,"<p>I've created a python object, but I want to send signals on it.  I made it inherit from gobject.GObject, but there doesn't seem to be any way to create a new signal on my object.</p>
","<p>Here is how:</p>

<pre><code>import gobject

class MyGObjectClass(gobject.GObject):
    ...

gobject.signal_new(""signal-name"", MyGObjectClass, gobject.SIGNAL_RUN_FIRST,
    None, (str, int))
</code></pre>

<p>Where the second to last argument is the return type and the last argument is a tuple of argument types.</p>
"
104,78450,0,6,python,Python ReportLab use of splitfirst/splitlast,"<p>I'm trying to use Python with ReportLab 2.2 to create a PDF report.<br />
According to the <a href=""http://www.reportlab.com/docs/userguide.pdf"">user guide</a>,</p>

<blockquote>
  <p>Special TableStyle Indeces [sic]</p>
  
  <p>In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation. This allows splitting tables with nicer effects around the split.</p>
</blockquote>

<p>I've tried using several style elements, including:</p>

<pre><code>('TEXTCOLOR', (0, 'splitfirst'), (1, 'splitfirst'), colors.black) 
('TEXTCOLOR', (0, 'splitfirst'), (1, 0), colors.black) 
('TEXTCOLOR', (0, 'splitfirst'), (1, -1), colors.black)
</code></pre>

<p>and none of these seems to work.  The first generates a TypeError with the message: </p>

<pre><code>TypeError: cannot concatenate 'str' and 'int' objects
</code></pre>

<p>and the latter two generate TypeErrors with the message:</p>

<pre><code>TypeError: an integer is required
</code></pre>

<p>Is this functionality simply broken or am I doing something wrong?  If the latter, what am I doing wrong?</p>
","<blockquote>
  <p>[...] In any style command <strong>the first row
  index</strong> may be set to one of the special strings [...]</p>
</blockquote>

<p>In your first example you're setting the <em>second</em> row index to a special string as well.</p>

<p>Not sure why the other two don't work... Are you sure this is where the exception is coming from?</p>
"
982,486490,7,6,python,Python shelve module question,"<p>Does the Python shelve module have any protection built in to make sure two processes aren't writing to a file at the same time?</p>
","<p>The shelve module uses an underlying database package (such as dbm, <a href=""http://docs.python.org/library/gdbm.html#module-gdbm"" rel=""nofollow"">gdbm</a> or bsddb) .</p>

<p>The <a href=""http://docs.python.org/library/shelve.html#restrictions"" rel=""nofollow""><em>restrictions</em> pragraph</a> says (my emphasis):</p>

<blockquote>
  <p>The shelve module <strong>does not support concurrent read/write access to shelved objects</strong>. (Multiple simultaneous read accesses are safe.) When a program has a shelf open for writing, no other program should have it open for reading or writing. Unix file locking can be used to solve this, but this differs across Unix versions and requires knowledge about the database implementation used.</p>
</blockquote>

<p>Conclusion: it depends on OS and the underlying DB. To keep things portable, do not build on concurrency.</p>
"
85,66730,2,6,python,How do I create a new signal in pygtk,"<p>I've created a python object, but I want to send signals on it.  I made it inherit from gobject.GObject, but there doesn't seem to be any way to create a new signal on my object.</p>
","<p>If you use kiwi available <a href=""http://kiwi.async.com.br/"" rel=""nofollow"">here</a> you can just do:</p>

<pre><code>from kiwi.utils import gsignal

class MyObject(gobject.GObject):
    gsignal('signal-name')
</code></pre>
"
948,467800,7,6,python,Is there a Perl equivalent of Python's re.findall/re.finditer (iterative regex results)?,"<p>In Python compiled regex patterns <a href=""http://docs.python.org/library/re.html#re.findall"">have a <code>findall</code> method</a> that does the following:</p>

<blockquote>
  <p>Return all non-overlapping matches of
  pattern in string, as a list of
  strings. The string is scanned
  left-to-right, and matches are
  returned in the order found. If one or
  more groups are present in the
  pattern, return a list of groups; this
  will be a list of tuples if the
  pattern has more than one group. Empty
  matches are included in the result
  unless they touch the beginning of
  another match.</p>
</blockquote>

<p>What's the canonical way of doing this in Perl? A naive algorithm I can think of is along the lines of ""while a search and replace with the empty string is successful, do [suite]"". I'm hoping there's a nicer way. :-)</p>

<p>Thanks in advance!</p>
","<p>To build on Chris' response, it's probably most relevant to encase the <code>//g</code> regex in a <code>while</code> loop, like:</p>

<pre><code>my @matches;
while ( 'foobarbaz' =~ m/([aeiou])/g )
{
    push @matches, $1;
}
</code></pre>

<p>Pasting some quick Python I/O:</p>

<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; re.findall(r'([aeiou])([nrs])','I had a sandwich for lunch')
[('a', 'n'), ('o', 'r'), ('u', 'n')]
</code></pre>

<p>To get something comparable in Perl, the construct could be something like:</p>

<pre><code>my $matches = [];
while ( 'I had a sandwich for lunch' =~ m/([aeiou])([nrs])/g )
{
    push @$matches, [$1,$2];
}
</code></pre>

<p>But in general, whatever function you're iterating for, you can probably do within the <code>while</code> loop itself.</p>
"
947,467800,13,6,python,Is there a Perl equivalent of Python's re.findall/re.finditer (iterative regex results)?,"<p>In Python compiled regex patterns <a href=""http://docs.python.org/library/re.html#re.findall"">have a <code>findall</code> method</a> that does the following:</p>

<blockquote>
  <p>Return all non-overlapping matches of
  pattern in string, as a list of
  strings. The string is scanned
  left-to-right, and matches are
  returned in the order found. If one or
  more groups are present in the
  pattern, return a list of groups; this
  will be a list of tuples if the
  pattern has more than one group. Empty
  matches are included in the result
  unless they touch the beginning of
  another match.</p>
</blockquote>

<p>What's the canonical way of doing this in Perl? A naive algorithm I can think of is along the lines of ""while a search and replace with the empty string is successful, do [suite]"". I'm hoping there's a nicer way. :-)</p>

<p>Thanks in advance!</p>
","<p>Use the <code>/g</code> modifier in your match. From the <code>perlop</code> manual:</p>

<blockquote>
  <p>The ""<code>/g</code>"" modifier specifies global pattern matching--that is, matching as many times as possible within the string.  How it behaves depends on the context.  In list context, it returns a list of the substrings matched by any capturing parentheses in the regular expression.  If there are no parentheses, it returns a list of all the matched strings, as if there were parentheses around the whole pattern.</p>
  
  <p>In scalar context, each execution of ""<code>m//g</code>"" finds the next match, returning true if it matches, and false if there is no further match.  The position after the last match can be read or set using the <code>pos()</code> function; see ""<code>pos</code>"" in <code>perlfunc</code>.   A failed match normally resets the search position to the beginning of the string, but you can avoid that by adding the ""<code>/c</code>"" modifier (e.g. ""<code>m//gc</code>"").  Modifying the target string also resets the search position.</p>
</blockquote>
"
84,66730,10,6,python,How do I create a new signal in pygtk,"<p>I've created a python object, but I want to send signals on it.  I made it inherit from gobject.GObject, but there doesn't seem to be any way to create a new signal on my object.</p>
","<p>You can also define signals inside the class definition:</p>

<pre><code>class MyGObjectClass(gobject.GObject):
    __gsignals__ = {
      ""some-signal"": (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE, (object, )),
    }
</code></pre>

<p>The contents of the tuple are the the same as the three last arguments to <code>gobject.signal_new</code>.</p>
"
105,78450,2,6,python,Python ReportLab use of splitfirst/splitlast,"<p>I'm trying to use Python with ReportLab 2.2 to create a PDF report.<br />
According to the <a href=""http://www.reportlab.com/docs/userguide.pdf"">user guide</a>,</p>

<blockquote>
  <p>Special TableStyle Indeces [sic]</p>
  
  <p>In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation. This allows splitting tables with nicer effects around the split.</p>
</blockquote>

<p>I've tried using several style elements, including:</p>

<pre><code>('TEXTCOLOR', (0, 'splitfirst'), (1, 'splitfirst'), colors.black) 
('TEXTCOLOR', (0, 'splitfirst'), (1, 0), colors.black) 
('TEXTCOLOR', (0, 'splitfirst'), (1, -1), colors.black)
</code></pre>

<p>and none of these seems to work.  The first generates a TypeError with the message: </p>

<pre><code>TypeError: cannot concatenate 'str' and 'int' objects
</code></pre>

<p>and the latter two generate TypeErrors with the message:</p>

<pre><code>TypeError: an integer is required
</code></pre>

<p>Is this functionality simply broken or am I doing something wrong?  If the latter, what am I doing wrong?</p>
","<p>Well, it looks as if I will be answering my own question.</p>

<p>First, the documentation flat out lies where it reads ""In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation.""  In the current release, the ""splitlast"" and ""splitfirst"" row indices break with the aforementioned TypeErrors on the TEXTCOLOR and BACKGROUND commnds.</p>

<p>My suspicion, based on reading the source code, is that only the tablestyle line commands (GRID, BOX, LINEABOVE, and LINEBELOW) are currently compatible with the 'splitfirst' and 'splitlast' row indices.  I suspect that all cell commands break with the aforementioned TypeErrors.</p>

<p>However, I was able to do what I wanted by subclassing the Table class and overriding the onSplit method.  Here is my code:</p>

<pre><code>class XTable(Table):
    def onSplit(self, T, byRow=1):
        T.setStyle(TableStyle([
          ('TEXTCOLOR', (0, 1), (1, 1), colors.black)]))
</code></pre>

<p>What this does is apply the text color black to the first and second cell of the second row of each page.  (The first row is a header, repeated by the repeatRows parameter of the Table.)  More precisely, it is doing this to the first and second cell of each frame, but since I am using the SimpleDocTemplate, frames and pages are identical.</p>
"
843,421050,0,6,python,python setup.py develop not updating easy_install.pth,"<p>According to <a href=""http://peak.telecommunity.com/DevCenter/setuptools#development-mode"" rel=""nofollow"">setuptools</a> documentation, setup.py develop is supposed to create the egg-link file and update easy_install.pth when installing into site-packages folder.  However, in my case it's only creating the egg-link file.  How does setuptools decide if it needs to update easy_install.pth?</p>

<p>Some more info:
It works when I have setuptools 0.6c7 installed as a folder under site-packages.  But when I use setuptools 0.6c9 installed as a zipped egg, it does not work.</p>
","<p>I'd try to debug it with pdb. The issue is most likely with the easy install's method check_site_dir, which seeks for easy-install.pth. </p>
"
309,169810,10,6,python,2D animation in Python,"<p>I'm writing a simulator in Python, and am curious about options and opinions regarding basic 2D animations. By animation, I'm referring to rendering on the fly, not displaying prerendered images.</p>

<p>I'm currently using matplotlib (Wxagg backend), and it's possible that I'll be able to continue using it, but I suspect it won't be able to sufficiently scale in terms of performance or capabilities.</p>

<p>Requirements are:</p>

<ul>
<li>Cross-platform (Linux, MacOS X,
Windows)</li>
<li>Low complexity overhead</li>
<li>Plays well with wxpython (at least won't step on each other's toes unduly)</li>
<li>Interactivity. Detect when objects are clicked on, moused over, etc. </li>
</ul>

<p>Note that high performance isn't on the list, but the ability to handle ~100 bitmap objects on the screen would be good.</p>

<p>Your thoughts?</p>
","<p>I am a fan of <a href=""http://pyglet.org"" rel=""nofollow"">pyglet</a> which is a completely self contained library for doing graphical work under win32, linux, and OS X. </p>

<p>It has very low overhead, and you can see this for yourself from the tutorial on the website. It <em>should</em> play well with wxpython, or at least I seem to recall posts to the mailing list about wxpython and pyglet being used together.</p>

<p>It however does not offer selection of objects via mouse clicks - this you will have to handle yourself. Generally speaking for a 2D application this is not too difficult to do.</p>

<p><a href=""https://github.com/freespace/mactorii"" rel=""nofollow"">mactorii</a> is an OS X application of mine written in pure python+pyglet, and has some basic animation (scrolling) and click detection. It doesn't use wxpython, but perhaps it will give you an idea of what is involved. Note however mactorii is using the old pyglet api, so the run loop I have in there is obsolete. I will get around to updating it one day... :P</p>
"
844,421050,3,6,python,python setup.py develop not updating easy_install.pth,"<p>According to <a href=""http://peak.telecommunity.com/DevCenter/setuptools#development-mode"" rel=""nofollow"">setuptools</a> documentation, setup.py develop is supposed to create the egg-link file and update easy_install.pth when installing into site-packages folder.  However, in my case it's only creating the egg-link file.  How does setuptools decide if it needs to update easy_install.pth?</p>

<p>Some more info:
It works when I have setuptools 0.6c7 installed as a folder under site-packages.  But when I use setuptools 0.6c9 installed as a zipped egg, it does not work.</p>
","<p>Reinstall setuptools with the command <code>easy_install --always-unzip --upgrade setuptools</code>. If that fixes it then the zipping was the problem.</p>
"
857,426820,3,6,python,What is the easiest way to export data from a live google app engine application?,"<p>I'm especially interested in solutions with source code available (django independency is a plus, but I'm willing to hack my way through)</p>
","<p><strong>Update</strong>: New version of Google AppEngine supports data import to and export from the online application natively. In their terms this is called <code>upload_data</code> and <code>download_data</code> respectively (names of subcommands of <code>appcfg.py</code>).</p>

<p>Please refer to Google documentation <a href=""http://code.google.com/appengine/docs/python/tools/uploadingdata.html"" rel=""nofollow"">how to export and import data from/to GAE</a>. This is probably the better way to do it today.</p>

<p>My old answer is below:</p>

<hr>

<p>I use <a href=""http://code.google.com/intl/ru/appengine/docs/datastore/modelclass.html#Model_to_xml"" rel=""nofollow"">to_xml()</a> method of the Model class to export the datastore.</p>

<pre><code>class XmlExport(webapp.RequestHandler):
    def get(self):
        objects=MyModel.all().fetch(1000)
        xml='&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;\n&lt;site&gt;\n'
        for o in objects:
            xml = xml + o.to_xml()
        xml = xml + '&lt;/site&gt;'
        self.response.headers['Content-Type']='text/xml; charset=utf-8'
        self.response.out.write(xml)
</code></pre>
"
856,426820,6,6,python,What is the easiest way to export data from a live google app engine application?,"<p>I'm especially interested in solutions with source code available (django independency is a plus, but I'm willing to hack my way through)</p>
","<p>You can, of course, write your own handler. Other than that, your options currently are limited to:</p>

<ul>
<li><a href=""http://github.com/fczuardi/gae-rest/tree/master"">gae-rest</a>, which provides a RESTful interface to the datastore.</li>
<li><a href=""http://code.google.com/p/approcket/"">approcket</a>, a tool for replicating between MySQL and App Engine.</li>
<li>The amusingly named <a href=""http://aralbalkan.com/1784"">GAEBAR</a> - Google App Engine Backup and Restore.</li>
</ul>
"
241,133860,0,6,python,Running subversion under apache and mod_python,"<p>My Apache server runs on some non-default (not-root) account. When it tries to run a python script which in turn executes a subversion check-out command, 'svn checkout' fails with the following error message:</p>

<pre><code>svn: Can't open file '/root/.subversion/servers': Permission denied
</code></pre>

<p>At the same time running that python script with subversion checkout command inside from command line under the same user account goes on perfectly well.</p>

<p>Apache server 2.2.6 with mod_python 3.2.8 runs on Fedora Core 6 machine.</p>

<p>Can anybody help me out? Thanks a lot.</p>
","<p>Try granting the Apache user (the user that the apache service is running under) r+w permissions on that file.</p>
"
243,133860,0,6,python,Running subversion under apache and mod_python,"<p>My Apache server runs on some non-default (not-root) account. When it tries to run a python script which in turn executes a subversion check-out command, 'svn checkout' fails with the following error message:</p>

<pre><code>svn: Can't open file '/root/.subversion/servers': Permission denied
</code></pre>

<p>At the same time running that python script with subversion checkout command inside from command line under the same user account goes on perfectly well.</p>

<p>Apache server 2.2.6 with mod_python 3.2.8 runs on Fedora Core 6 machine.</p>

<p>Can anybody help me out? Thanks a lot.</p>
","<p>Doesn't Apache's error log give you a clue?</p>

<p>Maybe it has to do with SELinux. Check /var/log/audit/audit.log and adjust your SELinux configuration accordingly, if the audit.log file indicates that it's SELinux which denies Apache access.</p>
"
244,133860,0,6,python,Running subversion under apache and mod_python,"<p>My Apache server runs on some non-default (not-root) account. When it tries to run a python script which in turn executes a subversion check-out command, 'svn checkout' fails with the following error message:</p>

<pre><code>svn: Can't open file '/root/.subversion/servers': Permission denied
</code></pre>

<p>At the same time running that python script with subversion checkout command inside from command line under the same user account goes on perfectly well.</p>

<p>Apache server 2.2.6 with mod_python 3.2.8 runs on Fedora Core 6 machine.</p>

<p>Can anybody help me out? Thanks a lot.</p>
","<p>The Permission Denied error is showing that the script is running with root credentials, because it's looking in root's home dir for files.</p>

<p>I suggest you change the hook script to something that does:</p>

<pre><code>id &gt; /tmp/id
</code></pre>

<p>so that you can check the results of that to make sure what the uid/gid and euid/egid are.  You will probably find it's not actually running as the user you think it is.</p>

<p>My first guess, like Troels, was also SELinux, but that would only be my guess if you are absolutely sure the script through Apache is running with exactly the same user/group as your manual test.</p>
"
245,133860,0,6,python,Running subversion under apache and mod_python,"<p>My Apache server runs on some non-default (not-root) account. When it tries to run a python script which in turn executes a subversion check-out command, 'svn checkout' fails with the following error message:</p>

<pre><code>svn: Can't open file '/root/.subversion/servers': Permission denied
</code></pre>

<p>At the same time running that python script with subversion checkout command inside from command line under the same user account goes on perfectly well.</p>

<p>Apache server 2.2.6 with mod_python 3.2.8 runs on Fedora Core 6 machine.</p>

<p>Can anybody help me out? Thanks a lot.</p>
","<p>Well, thanks to all who answered the question. Anyway, I think I solved the mistery. </p>

<p>SELinux is completely disabled on the machine, so the problem is definitely in 'svn co' not being able to found config_dir for the user account it runs under.</p>

<p>Apache / mod_python doesn't read in shell environment of the user account which apache is running  on. Thus for examle no $HOME is seen by mod_python when apache 
is running under some  real user ( not nobody ) </p>

<p>Now 'svn co' has a flag --config-dir which points to configuration directory to read params from. By default it is $HOME/.subversion, i.e. it corresponds to the user account home directory. Apparently when no $HOME exists mod_python goes to root home dir ( /root) and tries to fiddle with .subversion content over there - which is obviously
fails miserably.</p>

<p>putting </p>

<p>SetEnv HOME /home/qa </p>

<p>into the /etc/httpd/conf/httpd.conf doesn't solve the problem because of SetEnv having nothing to do with shell environment - it only sets apache related environment</p>

<p>Likewise PythonOption - sets only mod_python related variables which can be read with req.get_options()  after that</p>

<p>Running 'svn co --config-dir /home/ ...' definitely gives a workaround for running from within mod_python, but gets in the way of those who will try to run the script from command line.</p>

<p>So the proposed ( and working) solution is to set HOME environment variable prior to starting appache.</p>

<p>For example in /etc/init.d/httpd  script </p>

<pre><code>    QAHOME=/home/qa
    ...
    HOME=$QAHOME LANG=$HTTPD_LANG daemon $httpd $OPTIONS
</code></pre>
"
297,159990,7,6,python,"What is the difference between Ruby and Python versions of""self""?","<p>I've done some Python but have just now starting to use Ruby<br />
I could use a good explanation of the difference between ""self"" in these two languages.  </p>

<p><strong>Obvious on first glance:</strong><br />
Self is not a keyword in Python, but there is a ""self-like"" value no matter what you call it.<br />
Python methods receive self as an explicit argument, whereas Ruby does not.<br />
Ruby sometimes has methods explicitly defined as part of self using dot notation.</p>

<p><strong>Initial Googling reveals</strong><br />
<a href=""http://rubylearning.com/satishtalim/ruby_self.html"">http://rubylearning.com/satishtalim/ruby_self.html</a><br />
<a href=""http://www.ibiblio.org/g2swap/byteofpython/read/self.html"">http://www.ibiblio.org/g2swap/byteofpython/read/self.html</a>  </p>
","<p>Python is designed to support more than just object-oriented programming. Preserving the same interface between methods and functions lets the two styles interoperate more cleanly.</p>

<p>Ruby was built from the ground up to be object-oriented. Even the literals are objects (evaluate 1.class and you get Fixnum). The language was built such that self is a reserved keyword that returns the current instance wherever you are.</p>

<p>If you're inside an instance method of one of your class, self is a reference to said instance. </p>

<p>If you're in the definition of the class itself (not in a method), self is the class itself:</p>

<pre><code>class C
  puts ""I am a #{self}""
  def instance_method
    puts 'instance_method'
  end
  def self.class_method
    puts 'class_method'
  end
end
</code></pre>

<p>At class definition time, 'I am a C' will be printed.</p>

<p>The straight 'def' defines an instance method, whereas the 'def self.xxx' defines a class method.</p>

<pre><code>c=C.new

c.instance_method
#=&gt; instance_method
C.class_method
#=&gt; class_method
</code></pre>
"
296,159990,5,6,python,"What is the difference between Ruby and Python versions of""self""?","<p>I've done some Python but have just now starting to use Ruby<br />
I could use a good explanation of the difference between ""self"" in these two languages.  </p>

<p><strong>Obvious on first glance:</strong><br />
Self is not a keyword in Python, but there is a ""self-like"" value no matter what you call it.<br />
Python methods receive self as an explicit argument, whereas Ruby does not.<br />
Ruby sometimes has methods explicitly defined as part of self using dot notation.</p>

<p><strong>Initial Googling reveals</strong><br />
<a href=""http://rubylearning.com/satishtalim/ruby_self.html"">http://rubylearning.com/satishtalim/ruby_self.html</a><br />
<a href=""http://www.ibiblio.org/g2swap/byteofpython/read/self.html"">http://www.ibiblio.org/g2swap/byteofpython/read/self.html</a>  </p>
","<p>self is used only as a convention, you can use spam, bacon or sausage instead of self and get the same result. It's just the first argument passed to bound methods. But stick to using self as it will confuse others and some editors.</p>
"
295,159990,5,6,python,"What is the difference between Ruby and Python versions of""self""?","<p>I've done some Python but have just now starting to use Ruby<br />
I could use a good explanation of the difference between ""self"" in these two languages.  </p>

<p><strong>Obvious on first glance:</strong><br />
Self is not a keyword in Python, but there is a ""self-like"" value no matter what you call it.<br />
Python methods receive self as an explicit argument, whereas Ruby does not.<br />
Ruby sometimes has methods explicitly defined as part of self using dot notation.</p>

<p><strong>Initial Googling reveals</strong><br />
<a href=""http://rubylearning.com/satishtalim/ruby_self.html"">http://rubylearning.com/satishtalim/ruby_self.html</a><br />
<a href=""http://www.ibiblio.org/g2swap/byteofpython/read/self.html"">http://www.ibiblio.org/g2swap/byteofpython/read/self.html</a>  </p>
","<p>Well, I don't know much about Ruby. But the obvious point about Python's ""self"" is that it's not a ""keyword"" ...it's just the name of an argument that's sent to your method.</p>

<p>You can use any name you like for this argument. ""Self"" is just a convention.</p>

<p>For example :</p>

<pre><code>class X :
    def __init__(a,val) :
        a.x = val
    def p(b) :
        print b.x

x = X(6)
x.p()
</code></pre>

<p>Prints the number 6 on the terminal. In the constructor the self object is actually called a. But in the p() method, it's called b.</p>

<p>Update : In October 2008, Guido pointed out that having an explicit self was also necessary to allow Python decorators to be general enough to work on pure functions, methods or classmethods : <a href=""http://neopythonic.blogspot.com/2008/10/why-explicit-self-has-to-stay.html"" rel=""nofollow"">http://neopythonic.blogspot.com/2008/10/why-explicit-self-has-to-stay.html</a></p>
"
242,133860,5,6,python,Running subversion under apache and mod_python,"<p>My Apache server runs on some non-default (not-root) account. When it tries to run a python script which in turn executes a subversion check-out command, 'svn checkout' fails with the following error message:</p>

<pre><code>svn: Can't open file '/root/.subversion/servers': Permission denied
</code></pre>

<p>At the same time running that python script with subversion checkout command inside from command line under the same user account goes on perfectly well.</p>

<p>Apache server 2.2.6 with mod_python 3.2.8 runs on Fedora Core 6 machine.</p>

<p>Can anybody help me out? Thanks a lot.</p>
","<p>It sounds like the environment you apache process is running under is a little unusual.  For whatever reason, svn seems to think the user configuration files it needs are in /root.  You can avoid having svn use the root versions of the files by specifying on the command line which config directory to use, like so:</p>

<pre><code>svn --config-dir /home/myuser/.subversion checkout http://example.com/path
</code></pre>

<p>While not fixing your enviornment, it will at least allow you to have your script run properly...</p>
"
298,159990,5,6,python,"What is the difference between Ruby and Python versions of""self""?","<p>I've done some Python but have just now starting to use Ruby<br />
I could use a good explanation of the difference between ""self"" in these two languages.  </p>

<p><strong>Obvious on first glance:</strong><br />
Self is not a keyword in Python, but there is a ""self-like"" value no matter what you call it.<br />
Python methods receive self as an explicit argument, whereas Ruby does not.<br />
Ruby sometimes has methods explicitly defined as part of self using dot notation.</p>

<p><strong>Initial Googling reveals</strong><br />
<a href=""http://rubylearning.com/satishtalim/ruby_self.html"">http://rubylearning.com/satishtalim/ruby_self.html</a><br />
<a href=""http://www.ibiblio.org/g2swap/byteofpython/read/self.html"">http://www.ibiblio.org/g2swap/byteofpython/read/self.html</a>  </p>
","<p>Despite webmat's claim, Guido <a href=""http://markmail.org/message/n6fs5pec5233mbfg"">wrote</a> that explicit self is ""not an implementation hack -- it is a semantic device"".</p>

<blockquote>
  <p>The reason for explicit self in method
  definition signatures is semantic
  consistency. If you write</p>
  
  <p>class C: def foo(self, x, y): ...</p>
  
  <p>This really <em>is</em> the same as writing</p>
  
  <p>class C: pass</p>
  
  <p>def foo(self, x, y): ... C.foo = foo</p>
</blockquote>

<p>This was an intentional design decision, not a result of introducing OO behaviour at a latter date.</p>

<p>Everything in Python -is- an object, including literals.</p>

<p>See also <a href=""http://effbot.org/pyfaq/why-must-self-be-used-explicitly-in-method-definitions-and-calls.htm"">Why must 'self' be used explicitly in method definitions and calls?</a></p>
"
661,346840,9,6,python,Django.contrib.flatpages without models,"<p>I have some flatpages with empty <code>content</code> field and their content inside the template (given with <code>template_name</code> field).</p>

<h3>Why I am using <code>django.contrib.flatpages</code></h3>

<ul>
<li>It allows me to serve (mostly) static pages with minimal URL configuration.</li>
<li>I don't have to write views for each of them.</li>
</ul>

<h3>Why I don't need the model <code>FlatPage</code></h3>

<ul>
<li>I leave the content empty and just supply a template path. Therefore I can take advantage of having the source in a file;
<ul>
<li>I can edit the source directly from the file system, without the help of a server (such as admin).</li>
<li>I can take advantage of syntax highlightning and other editor features.</li>
</ul></li>
<li>With the model I have to maintain fixtures for flatpages.
<ul>
<li>So the data for the same entity is in two seperate places.</li>
<li>If I move the content inside the fixture it'll be more difficult to edit.
<ul>
<li>Even if fixture maintenance was a non-issue I'd still need to dump and load these fixtures again and again during development.</li>
</ul></li>
</ul></li>
</ul>

<h3>What I am looking for</h3>

<p>Basically; getting rid of <code>FlatPage</code> model while maintaining <code>contrib.flatpages</code> functionality. I don't have a clear idea how this should be solved. If there's a clean way of modifying (like <code>add_to_class</code>) <code>FlatPages</code> to get the information somewhere other than the database I'd prefer that. Maybe the metadata can be inserted to the templates and then a special manager that reads this data would replace the default manager of <code>FlatPages</code>.</p>

<p>If I don't prefer manual editing over admin functionality for flatpages, how can take the database out of the equation?</p>
","<p>Using the <a href=""https://docs.djangoproject.com/en/1.4/ref/generic-views/#django-views-generic-simple-direct-to-template"" rel=""nofollow""><code>direct_to_template</code></a> generic view would be a lot simpler.  You could use the passed in parameters on one view to specify the actual template in urls.py, if you don't want to add an entry for each page:</p>

<pre><code>r'^foo/(?P&lt;template_name&gt;.+)/$','direct_to_template', {'template': 'foo_index.html'}),
</code></pre>

<p>Then import the template in your <code>foo_index.html</code>:</p>

<pre><code>{% include template_name %}
</code></pre>
"
697,356830,0,6,python,"Pexpect, running ssh-copy-id is hanging when trying to spawn a second process","<p>I'm doing a Python script where I need to spawn several ssh-copy-id processes, and they need for me to type in a password, so i'm using PExpect.</p>

<p>I have basically this:</p>

<pre><code>child = pexpect.spawn('command')
child.expect('password:')
child.sendline('the password')
</code></pre>

<p>and then I want to spawn another process, I don't care about this one anymore, whether it ended or not.</p>

<pre><code>child = pexpect.spawn('command2')
child.expect('password:')
child.sendline('the password')
</code></pre>

<p>And the code is hanging at the second ""spawn""</p>

<p>However, if I comment out the first call, the second one works, so i'm guessing that the fact that the first one is still running or something is keeping it from working.</p>

<p>Now, the other thing I haven't been able to do is wait until the first one stops.
I've tried:<br />
child.close() - it hangs (both with True and False as parameters)
child.read(-1) - it hangs<br />
child.expect(pexpect.EOF) - it hangs.<br />
child.terminate() - it hangs  (both with True and False as parameters)</p>

<p>Any ideas on what could be happening?<br />
NOTE: I'm not a Python expert, and i have never used pexpect before, so ANY idea is more than welcome.</p>

<p>Thanks!</p>

<p><hr /></p>

<p>UPDATE: This is definitely related to ssh-copy-id, because with other processes, spawn works well even if they don't return.
Also, apparently ssh-copy-id never returns an EOF.</p>
","<p>Actually, I tried many of these alternatives, and neither worked.  </p>

<ul>
<li>Calling close() or terminate() hangs (both with True and False as parameters)</li>
<li>Calling wait() or read(-1) or expect(pexpect.EOF) hangs</li>
<li>calling spawn again without caring about the previous spawn command hangs</li>
</ul>

<p>I made some tests with other commands (like 'ftp', and they work as i'd expect, for example, if you call .expect('something'), and something is not found before EOF, they don't wait forever, they throw an exception, so I believe this is related to the ssh-copy-id command specifically.</p>
"
696,356830,0,6,python,"Pexpect, running ssh-copy-id is hanging when trying to spawn a second process","<p>I'm doing a Python script where I need to spawn several ssh-copy-id processes, and they need for me to type in a password, so i'm using PExpect.</p>

<p>I have basically this:</p>

<pre><code>child = pexpect.spawn('command')
child.expect('password:')
child.sendline('the password')
</code></pre>

<p>and then I want to spawn another process, I don't care about this one anymore, whether it ended or not.</p>

<pre><code>child = pexpect.spawn('command2')
child.expect('password:')
child.sendline('the password')
</code></pre>

<p>And the code is hanging at the second ""spawn""</p>

<p>However, if I comment out the first call, the second one works, so i'm guessing that the fact that the first one is still running or something is keeping it from working.</p>

<p>Now, the other thing I haven't been able to do is wait until the first one stops.
I've tried:<br />
child.close() - it hangs (both with True and False as parameters)
child.read(-1) - it hangs<br />
child.expect(pexpect.EOF) - it hangs.<br />
child.terminate() - it hangs  (both with True and False as parameters)</p>

<p>Any ideas on what could be happening?<br />
NOTE: I'm not a Python expert, and i have never used pexpect before, so ANY idea is more than welcome.</p>

<p>Thanks!</p>

<p><hr /></p>

<p>UPDATE: This is definitely related to ssh-copy-id, because with other processes, spawn works well even if they don't return.
Also, apparently ssh-copy-id never returns an EOF.</p>
","<p>Reading <a href=""http://pexpect.sourceforge.net/pexpect.html#spawn"" rel=""nofollow"">pexpect documentation for spawn</a>, I think it is waiting for the command to terminate.</p>

<p>I would suggest a couple of different possibilities, depending on your needs:</p>

<p>1) Kill the spawned process. However, this may lead to corruption in your operation, so I do not know if it is what you want.</p>

<pre><code>child = pexpect.spawn('command')
child.expect('password:')
child.sendline('the password')
child.close(True)
</code></pre>

<p>2) Wait for completion of the initial task before moving to the next one</p>

<pre><code>child = pexpect.spawn('command')
child.expect('password:')
child.sendline('the password')
child.wait()
child = pexpect.spawn('command2')
...
</code></pre>

<p>3) Use a different instance for all children, then wait on all of them at the end - and this would be most probably the best solution</p>

<pre><code>def exec_command(cmd):
  child = pexpect.spawn(cmd)
  child.expect('password:')
  child.sendline('the password')
  return child

commands = ['command1', 'command2']
childrens = [exec_command(cmd) for cmd in commands]
for child in childrens:
  child.wait()
</code></pre>

<p>Note: all of the code here is untested, and written under the assumption that your script is hanging because deleting a spawn object will hang until the command will terminate.</p>
"
698,356830,1,6,python,"Pexpect, running ssh-copy-id is hanging when trying to spawn a second process","<p>I'm doing a Python script where I need to spawn several ssh-copy-id processes, and they need for me to type in a password, so i'm using PExpect.</p>

<p>I have basically this:</p>

<pre><code>child = pexpect.spawn('command')
child.expect('password:')
child.sendline('the password')
</code></pre>

<p>and then I want to spawn another process, I don't care about this one anymore, whether it ended or not.</p>

<pre><code>child = pexpect.spawn('command2')
child.expect('password:')
child.sendline('the password')
</code></pre>

<p>And the code is hanging at the second ""spawn""</p>

<p>However, if I comment out the first call, the second one works, so i'm guessing that the fact that the first one is still running or something is keeping it from working.</p>

<p>Now, the other thing I haven't been able to do is wait until the first one stops.
I've tried:<br />
child.close() - it hangs (both with True and False as parameters)
child.read(-1) - it hangs<br />
child.expect(pexpect.EOF) - it hangs.<br />
child.terminate() - it hangs  (both with True and False as parameters)</p>

<p>Any ideas on what could be happening?<br />
NOTE: I'm not a Python expert, and i have never used pexpect before, so ANY idea is more than welcome.</p>

<p>Thanks!</p>

<p><hr /></p>

<p>UPDATE: This is definitely related to ssh-copy-id, because with other processes, spawn works well even if they don't return.
Also, apparently ssh-copy-id never returns an EOF.</p>
","<p>I think the problem is, that SSH tries to open PTY and it does not work
on anything else than PTY for security reasons. This won't work well
with pexpect.</p>

<p>I have another ssh client:</p>

<p><a href=""http://www.digmia.com/index.php?option=com_content&amp;view=article&amp;id=54:Digmia%20Enterprise%20SSH&amp;Itemid=56"" rel=""nofollow"">http://www.digmia.com/index.php?option=com_content&amp;view=article&amp;id=54:Digmia%20Enterprise%20SSH&amp;Itemid=56</a></p>

<p>It's open-source, you can use it. What you are trying to do would
be more commands, but you don't need expect at all.</p>

<ol>
<li><p>First install it accordingly to manual, then do something like this:</p></li>
<li><p>Run dssh-agent, add the password you need like this:</p>

<pre><code>dssh-add -l &lt; passwordfile
</code></pre>

<ul>
<li><p>or if it is a secure machine, i.e. no one else can log in there,
this is <em>very</em> important, otherwise this would be a huge security hole:</p>

<pre><code>echo ""name-of-server;22;root;password;"" | dssh-add -l
</code></pre></li>
<li><p><code>password</code> file would be something like:</p>

<pre><code>name-of-server;22;root;password;
</code></pre></li>
</ul></li>
<li><p>And the do something like (replace <code>CONTENTS OF ...</code> with actual content of that file):</p>

<pre><code>dssh root@name-of-server -- echo ""CONTENTS OF ~/.ssh/identity.pub"" &gt; .ssh/authorized_keys \; chmod og-w .ssh .ssh/authorized_keys
</code></pre>

<ul>
<li><p>You can (optionally) do</p>

<pre><code>dssh-add -f passwords
</code></pre></li>
</ul>

<p>(make sure no one else is doing all this stuff, otherwise you would
have a race condition).</p></li>
</ol>

<p>Also, pexpect should probably work with dssh itself (so you don't need
to use dssh-agent). But using dssh-agent is simpler and safer.</p>

<p>Installation manual for DSSH is contained in the tarball.</p>

<p>I don't know any simpler way of doing this, OpenSSH ssh-copy-id is
very picky about where the password comes from...</p>
"
82,65400,10,5,python,How to add method using metaclass,"<p>How do I add an instance method to a class using a metaclass (yes I do need to use a metaclass)? The following kind of works, but the func_name will still be ""foo"":</p>

<pre><code>def bar(self):
    print ""bar""

class MetaFoo(type):
    def __new__(cls, name, bases, dict):
        dict[""foobar""] = bar
        return type(name, bases, dict)

class Foo(object):
    __metaclass__ = MetaFoo

&gt;&gt;&gt; f = Foo()
&gt;&gt;&gt; f.foobar()
bar
&gt;&gt;&gt; f.foobar.func_name
'bar'
</code></pre>

<p>My problem is that some library code actually uses the func_name and later fails to find the 'bar' method of the Foo instance. I could do:</p>

<pre><code>dict[""foobar""] = types.FunctionType(bar.func_code, {}, ""foobar"")
</code></pre>

<p>There is also types.MethodType, but I need an instance that does'nt exist yet to use that. Am I missing someting here?</p>
","<p>Try dynamically extending the bases that way you can take advantage of the mro and the methods are actual methods:</p>

<pre><code>class Parent(object):
    def bar(self):
        print ""bar""

class MetaFoo(type):
    def __new__(cls, name, bases, dict):
    	return type(name, (Parent,) + bases, dict)

class Foo(object):
    __metaclass__ = MetaFoo

if __name__ == ""__main__"":
    f = Foo()
    f.bar()
    print f.bar.func_name
</code></pre>
"
651,337870,6,5,python,Python subprocess.call() fails when using pythonw.exe,"<p>I have some Python code that works correctly when I use python.exe to run it, but fails if I use pythonw.exe.</p>

<pre>
    def runStuff(commandLine):
        outputFileName = 'somefile.txt'
        outputFile = open(outputFileName, ""w"")

        try:
            result = subprocess.call(commandLine, shell=True, stdout=outputFile)
        except:
            print 'Exception thrown:', str(sys.exc_info()[1])

    myThread = threading.Thread(None, target=runStuff, commandLine=['whatever...'])
    myThread.start()
</pre>

<p>The message I get is:</p>

<pre>
    Exception thrown: [Error 6] The handle is invalid
</pre>

<p>However, if I don't specify the 'stdout' parameter, subprocess.call() starts okay.</p>

<p>I can see that pythonw.exe might be redirecting output itself, but I can't see why I'm blocked from specifying stdout for a new thread.</p>
","<p>For the record, my code now looks like this:</p>

<pre><code>def runStuff(commandLine):
    outputFileName = 'somefile.txt'
    outputFile = open(outputFileName, ""w"")

    if guiMode:
        result = subprocess.call(commandLine, shell=True, stdout=outputFile, stderr=subprocess.STDOUT)
    else:
        proc = subprocess.Popen(commandLine, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, stdin=subprocess.PIPE)
        proc.stdin.close()
        proc.wait()
        result = proc.returncode
        outputFile.write(proc.stdout.read())
</code></pre>

<p>Note that, due to an apparent bug in the subprocess module, the call to Popen() has to specify a pipe for stdin as well, which we close immediately afterwards.</p>
"
650,337870,7,5,python,Python subprocess.call() fails when using pythonw.exe,"<p>I have some Python code that works correctly when I use python.exe to run it, but fails if I use pythonw.exe.</p>

<pre>
    def runStuff(commandLine):
        outputFileName = 'somefile.txt'
        outputFile = open(outputFileName, ""w"")

        try:
            result = subprocess.call(commandLine, shell=True, stdout=outputFile)
        except:
            print 'Exception thrown:', str(sys.exc_info()[1])

    myThread = threading.Thread(None, target=runStuff, commandLine=['whatever...'])
    myThread.start()
</pre>

<p>The message I get is:</p>

<pre>
    Exception thrown: [Error 6] The handle is invalid
</pre>

<p>However, if I don't specify the 'stdout' parameter, subprocess.call() starts okay.</p>

<p>I can see that pythonw.exe might be redirecting output itself, but I can't see why I'm blocked from specifying stdout for a new thread.</p>
","<p><code>sys.stdin</code> and <code>sys.stdout</code> handles are invalid because pythonw does not provide console support as it runs as a deamon, so default arguments of <code>subprocess.call()</code> are failing.</p>

<p>Deamon programs close stdin/stdout/stderr purposedly and use logging instead, so that you have to manage this yourself: I would suggest to use subprocess.PIPE.</p>

<p>If you <em>really</em> don't care about what the sub process says for errors and all, you could use <code>os.devnull</code> (I'm not really sure how portable it is?) but I wouldn't recommend that.</p>
"
646,326910,2,5,python,Running unit tests on nested functions,"<p>I come from the Java world, where you can hide variables and functions and then run unit tests against them using reflection.  I have used nested functions to hide implementation details of my classes so that only the public API is visible.  I am trying to write unit tests against these nested functions to make sure that I don't break them as I develop.  I have tried calling one of the nested functions like:</p>

<pre><code>def outer():
    def inner():
        pass

outer.inner()
</code></pre>

<p>which results in the error message:</p>

<blockquote>
  <p>AttributeError: 'function' object has no attribute 'inner'</p>
</blockquote>

<p>Is there a way for me to write unit tests against these nested functions?  If not, is there a way to trigger the name munging for function names like you can for class variables by prefixing them with __?</p>
","<p>I don't think that there is any chance to access inner() from the extern namespace.</p>

<p>However, in my opinion the fact that you keep inner() nested implies that the only ""contract"" that really matters is outer()'s one. inner() is part of the implementation, and you shouldn't want to test the implementation.
If you really want to test inner(), do extensive tests on outer() with data that will involve all the functionalities of inner().</p>
"
645,326910,3,5,python,Running unit tests on nested functions,"<p>I come from the Java world, where you can hide variables and functions and then run unit tests against them using reflection.  I have used nested functions to hide implementation details of my classes so that only the public API is visible.  I am trying to write unit tests against these nested functions to make sure that I don't break them as I develop.  I have tried calling one of the nested functions like:</p>

<pre><code>def outer():
    def inner():
        pass

outer.inner()
</code></pre>

<p>which results in the error message:</p>

<blockquote>
  <p>AttributeError: 'function' object has no attribute 'inner'</p>
</blockquote>

<p>Is there a way for me to write unit tests against these nested functions?  If not, is there a way to trigger the name munging for function names like you can for class variables by prefixing them with __?</p>
","<p>The Python convention is to name ""private"" functions and methods with a leading underscore. When you see a leading underscore, you know not to try and use it.</p>

<p>Remember, <a href=""http://dirtsimple.org/2004/12/python-is-not-java.html"">Python is not Java</a>.</p>
"
644,326910,6,5,python,Running unit tests on nested functions,"<p>I come from the Java world, where you can hide variables and functions and then run unit tests against them using reflection.  I have used nested functions to hide implementation details of my classes so that only the public API is visible.  I am trying to write unit tests against these nested functions to make sure that I don't break them as I develop.  I have tried calling one of the nested functions like:</p>

<pre><code>def outer():
    def inner():
        pass

outer.inner()
</code></pre>

<p>which results in the error message:</p>

<blockquote>
  <p>AttributeError: 'function' object has no attribute 'inner'</p>
</blockquote>

<p>Is there a way for me to write unit tests against these nested functions?  If not, is there a way to trigger the name munging for function names like you can for class variables by prefixing them with __?</p>
","<p>inner doesn't exist until outer makes it.  You should either move inner up to a toplevel function for testability, or have the outer test test all the possible execution paths of itself and inner.</p>

<p>Do note that the inner function isn't a simple function, it's a closure.  Consider this case:</p>

<pre><code>def outer(a):
    b = compute_something_from(a)
    def inner():
        do_something_with(a, b)
</code></pre>

<p>That's the standard testability trade-off.  If your <a href=""http://en.wikipedia.org/wiki/Cyclomatic_complexity"">cyclomatic complexity</a> is too high, your tests will be too numerous.</p>
"
643,326770,2,5,python,How can I dynamically get the set of classes from the current python module?,"<p>I have a python module that defines a number of classes:</p>

<pre><code>class A(object):
    def __call__(self):
        print ""ran a""

class B(object):
    def __call__(self):
        print ""ran b""

class C(object):
    def __call__(self):
        print ""ran c""
</code></pre>

<p>From within the module, how might I add an attribute that gives me all of the classes?</p>

<p>dir() gives me the names of everything from within my module, but I can't seem to figure out how to go from the name of a class to the class itself from <em>within</em> the module.</p>

<p>From outside of the module, I can simply use <code>getattr(mod, 'A')</code>, but I don't have a <code>self</code> kind of module from within the module itself.</p>

<p>This seems pretty obvious.  Can someone tell me what I'm missing?</p>
","<pre>
classes = [x for x in globals().values() if isinstance(x, type)]
</pre>
"
642,326770,5,5,python,How can I dynamically get the set of classes from the current python module?,"<p>I have a python module that defines a number of classes:</p>

<pre><code>class A(object):
    def __call__(self):
        print ""ran a""

class B(object):
    def __call__(self):
        print ""ran b""

class C(object):
    def __call__(self):
        print ""ran c""
</code></pre>

<p>From within the module, how might I add an attribute that gives me all of the classes?</p>

<p>dir() gives me the names of everything from within my module, but I can't seem to figure out how to go from the name of a class to the class itself from <em>within</em> the module.</p>

<p>From outside of the module, I can simply use <code>getattr(mod, 'A')</code>, but I don't have a <code>self</code> kind of module from within the module itself.</p>

<p>This seems pretty obvious.  Can someone tell me what I'm missing?</p>
","<p>You can smash this into one for statement, but that'd have messy code duplication.</p>

<pre><code>import sys
import types
this_module = sys.modules[__name__]
[x for x in
    [getattr(this_module, x) for x in dir(this_module)]
    if type(x) == types.ClassType]
</code></pre>
"
641,326770,9,5,python,How can I dynamically get the set of classes from the current python module?,"<p>I have a python module that defines a number of classes:</p>

<pre><code>class A(object):
    def __call__(self):
        print ""ran a""

class B(object):
    def __call__(self):
        print ""ran b""

class C(object):
    def __call__(self):
        print ""ran c""
</code></pre>

<p>From within the module, how might I add an attribute that gives me all of the classes?</p>

<p>dir() gives me the names of everything from within my module, but I can't seem to figure out how to go from the name of a class to the class itself from <em>within</em> the module.</p>

<p>From outside of the module, I can simply use <code>getattr(mod, 'A')</code>, but I don't have a <code>self</code> kind of module from within the module itself.</p>

<p>This seems pretty obvious.  Can someone tell me what I'm missing?</p>
","<pre><code>import sys
getattr(sys.modules[__name__], 'A')
</code></pre>
"
495,250700,1,5,python,Is it possible to communicate with a sub subprocess with subprocess.Popen?,"<p>I'm trying to write a python script that packages our software. This script needs to build our product, and package it. Currently we have other scripts that do each piece individually which include csh, and perl scripts. One such script is run like:</p>

<pre><code>sudo mod args
</code></pre>

<p>where mod is a perl script; so in python I would do </p>

<pre><code>proc = Popen(['sudo', 'mod', '-p', '-c', 'noresource', '-u', 'dtt', '-Q'], stderr=PIPE, stdout=PIPE, stdin=PIPE)
</code></pre>

<p>The problem is that this mod script needs a few questions answered. For this I thought that the traditional </p>

<pre><code>(stdout, stderr) = proc.communicate(input='y')
</code></pre>

<p>would work. I don't think it's working because the process that Popen is controlling is sudo, not the mod script that is asking the question. Is there any way to communicate with the mod script and still run it through sudo?</p>
","<p>The simplest thing to do would be the run the controlling script (the Python script) via <code>sudo</code>. Are you able to do that, or is that not an option?</p>
"
81,65400,2,5,python,How to add method using metaclass,"<p>How do I add an instance method to a class using a metaclass (yes I do need to use a metaclass)? The following kind of works, but the func_name will still be ""foo"":</p>

<pre><code>def bar(self):
    print ""bar""

class MetaFoo(type):
    def __new__(cls, name, bases, dict):
        dict[""foobar""] = bar
        return type(name, bases, dict)

class Foo(object):
    __metaclass__ = MetaFoo

&gt;&gt;&gt; f = Foo()
&gt;&gt;&gt; f.foobar()
bar
&gt;&gt;&gt; f.foobar.func_name
'bar'
</code></pre>

<p>My problem is that some library code actually uses the func_name and later fails to find the 'bar' method of the Foo instance. I could do:</p>

<pre><code>dict[""foobar""] = types.FunctionType(bar.func_code, {}, ""foobar"")
</code></pre>

<p>There is also types.MethodType, but I need an instance that does'nt exist yet to use that. Am I missing someting here?</p>
","<p>I think what you want to do is this:</p>

<pre><code>&gt;&gt;&gt; class Foo():
...   def __init__(self, x):
...     self.x = x
... 
&gt;&gt;&gt; def bar(self):
...   print 'bar:', self.x
... 
&gt;&gt;&gt; bar.func_name = 'foobar'
&gt;&gt;&gt; Foo.foobar = bar
&gt;&gt;&gt; f = Foo(12)
&gt;&gt;&gt; f.foobar()
bar: 12
&gt;&gt;&gt; f.foobar.func_name
'foobar'
</code></pre>

<p>Now you are free to pass <code>Foo</code>s to a library that expects <code>Foo</code> instances to have a method named <code>foobar</code>.</p>

<p>Unfortunately, (1) I don't know how to use metaclasses and (2) I'm not sure I read your question correctly, but I hope this helps. </p>

<p>Note that <code>func_name</code> is only assignable in Python 2.4 and higher.</p>
"
653,338450,1,5,python,TimedRotatingFileHandler Changing File Name?,"<p>I am trying to implement the python logging handler called TimedRotatingFileHandler. </p>

<p>When it rolls over to midnight it appends the current day in the form: ""YYYY-MM-DD"".</p>

<pre><code>LOGGING_MSG_FORMAT  = '%(name)-14s &gt; [%(levelname)s] [%(asctime)s] : %(message)s'
LOGGING_DATE_FORMAT	= '%Y-%m-%d %H:%M:%S'

logging.basicConfig(
			level=logging.DEBUG,
			format=LOGGING_MSG_FORMAT,
			datefmt=LOGGING_DATE_FORMAT
			)
root_logger = logging.getLogger('')
logger = logging.handlers.TimedRotatingFileHandler(""C:\\logs\\Rotate_Test"",'midnight',1)
root_logger.addHandler(logger)
while True:
	daemon_logger = logging.getLogger('TEST')
	daemon_logger.info(""SDFKLDSKLFFJKLSDD"")
	time.sleep(60)
</code></pre>

<p>The first log file created is called just ""Rotate_Test"" then once it rolls over to the next day it changes the file name to: ""Rotate_Test.YYYY-MM-DD"" Where YYYY-MM-DD is the current day.</p>

<p>How can i change how it alters the filename? I googled and looked at the API and found pretty much nothing.</p>
","<p>Thanks.</p>

<p>I looked at the source.</p>

<p>There isn't really a way to change its form. Since manipulating suffix, only appends to the end of the file name. Ether way, there is no way real way to manipulate the full file name, what i was hoping for was where you can declare a file mask, and when it does the ""RollOver"" it will create a new file name based on the file mask. I am just going to go back to my original idea, was to just kill the whole logging subsystem and reinitialize it with the new file name when it RollsOver.</p>

<p>Thanks Tho.</p>
"
496,250700,3,5,python,Is it possible to communicate with a sub subprocess with subprocess.Popen?,"<p>I'm trying to write a python script that packages our software. This script needs to build our product, and package it. Currently we have other scripts that do each piece individually which include csh, and perl scripts. One such script is run like:</p>

<pre><code>sudo mod args
</code></pre>

<p>where mod is a perl script; so in python I would do </p>

<pre><code>proc = Popen(['sudo', 'mod', '-p', '-c', 'noresource', '-u', 'dtt', '-Q'], stderr=PIPE, stdout=PIPE, stdin=PIPE)
</code></pre>

<p>The problem is that this mod script needs a few questions answered. For this I thought that the traditional </p>

<pre><code>(stdout, stderr) = proc.communicate(input='y')
</code></pre>

<p>would work. I don't think it's working because the process that Popen is controlling is sudo, not the mod script that is asking the question. Is there any way to communicate with the mod script and still run it through sudo?</p>
","<p>I think you should remove the <code>sudo</code> in your <code>Popen</code> call and require the user of <em>your</em> script to type <code>sudo</code>.</p>

<p>This additionally makes more explicit the need for elevated privileges in your script, instead of hiding it inside <code>Popen</code>.</p>
"
804,400050,2,5,python,Reading and running a mathematical expression in Python,"<p>Using Python, how would I go about reading in (be from a string, file or url) a mathematical expression (1 + 1 is a good start) and executing it? </p>

<p>Aside from grabbing a string, file or url I have no idea of where to start with this.</p>
","<p>Don't writing your own parser unless you want to learn how to write a parser. As already mentioned in the comments by @J.F. Sebastian, I would suggest a full-on <a href=""http://en.wikipedia.org/wiki/Computer_algebra_system"" rel=""nofollow"">computer algebra system (CAS)</a> like <a href=""http://www.sagemath.org/"" rel=""nofollow"">SAGE</a>. It will handle mathematical statements <strong>much</strong> more complicated than 1+1 :)</p>
"
803,400050,7,5,python,Reading and running a mathematical expression in Python,"<p>Using Python, how would I go about reading in (be from a string, file or url) a mathematical expression (1 + 1 is a good start) and executing it? </p>

<p>Aside from grabbing a string, file or url I have no idea of where to start with this.</p>
","<p>Because python supports some algebraic forms, you could do:</p>

<pre><code>eval(""1 + 1"")
</code></pre>

<p>But this allows the input to execute about anything defined in your env:</p>

<pre><code>eval(""__import__('sys').exit(1)"")
</code></pre>

<p>Also, if you want to support something python doesn't support, the approach fails:</p>

<pre><code>xÂ³ + yÂ² + c
----------- = 0
     z
</code></pre>

<p>Instead of doing this, you can implement a tokenizer and a parser with <a href=""http://www.dabeaz.com/ply/"">ply</a>. Evaluating a thing like '1 + 1' ought not take more than ten lines or so.</p>

<p>You could also implement the tokenizer and the parser by hand. Read about LL and LR parsers. Before attempting this it's also better to learn using parser generators first.</p>
"
802,400050,1,5,python,Reading and running a mathematical expression in Python,"<p>Using Python, how would I go about reading in (be from a string, file or url) a mathematical expression (1 + 1 is a good start) and executing it? </p>

<p>Aside from grabbing a string, file or url I have no idea of where to start with this.</p>
","<p>Read about the <a href=""http://docs.python.org/library/functions.html#input"" rel=""nofollow"">input</a> function.</p>
"
801,400050,1,5,python,Reading and running a mathematical expression in Python,"<p>Using Python, how would I go about reading in (be from a string, file or url) a mathematical expression (1 + 1 is a good start) and executing it? </p>

<p>Aside from grabbing a string, file or url I have no idea of where to start with this.</p>
","<p>Perhaps <code>eval</code> is what you're after?</p>

<pre><code>&gt;&gt;&gt; eval('1+1')
2
</code></pre>
"
800,400050,2,5,python,Reading and running a mathematical expression in Python,"<p>Using Python, how would I go about reading in (be from a string, file or url) a mathematical expression (1 + 1 is a good start) and executing it? </p>

<p>Aside from grabbing a string, file or url I have no idea of where to start with this.</p>
","<p>If you are receiving an expression as a string you'll need to parse it into its operators and operands and then process the resulting tree.  This isn't a python problem per se. but a general issue of how to deal with mathematical expressions delivered as strings.</p>

<p>A quick google reveals a bunch of lexical parsers for python.  </p>
"
652,338450,15,5,python,TimedRotatingFileHandler Changing File Name?,"<p>I am trying to implement the python logging handler called TimedRotatingFileHandler. </p>

<p>When it rolls over to midnight it appends the current day in the form: ""YYYY-MM-DD"".</p>

<pre><code>LOGGING_MSG_FORMAT  = '%(name)-14s &gt; [%(levelname)s] [%(asctime)s] : %(message)s'
LOGGING_DATE_FORMAT	= '%Y-%m-%d %H:%M:%S'

logging.basicConfig(
			level=logging.DEBUG,
			format=LOGGING_MSG_FORMAT,
			datefmt=LOGGING_DATE_FORMAT
			)
root_logger = logging.getLogger('')
logger = logging.handlers.TimedRotatingFileHandler(""C:\\logs\\Rotate_Test"",'midnight',1)
root_logger.addHandler(logger)
while True:
	daemon_logger = logging.getLogger('TEST')
	daemon_logger.info(""SDFKLDSKLFFJKLSDD"")
	time.sleep(60)
</code></pre>

<p>The first log file created is called just ""Rotate_Test"" then once it rolls over to the next day it changes the file name to: ""Rotate_Test.YYYY-MM-DD"" Where YYYY-MM-DD is the current day.</p>

<p>How can i change how it alters the filename? I googled and looked at the API and found pretty much nothing.</p>
","<p>""How can i change how it alters the filename?""</p>

<p>Since it isn't documented, I elected to read the source.  This is what I concluded from reading the source of <code>logging/handlers.py</code></p>

<pre><code>handler = logging.handlers.TimedRotatingFileHandler(""C:\\isis_ops\\logs\\Rotate_Test"",'midnight',1)
handler.suffix = ""%Y-%m-%d"" # or anything else that strftime will allow
root_logger.addHandler(handler)
</code></pre>

<p>The suffix is the formatting string.</p>
"
389,200250,1,5,python,How do I remove a cookie that I've set on someone's computer?,"<p>I've got a web system where users log in, and it stores a cookie of their session. When they log in as someone else or log out I want to remove that original cookie that I stored. What's the best way to do that?
I'm using Python and Apache, though I suppose the answer will remain the same for most languages.</p>
","<p>Return the header</p>

<pre>
Set-Cookie: token=opaque; Domain=.your.domain; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/ 
</pre>

<p>The Domain and Path must match the original attributes that the cookie was issued under.</p>
"
654,338450,1,5,python,TimedRotatingFileHandler Changing File Name?,"<p>I am trying to implement the python logging handler called TimedRotatingFileHandler. </p>

<p>When it rolls over to midnight it appends the current day in the form: ""YYYY-MM-DD"".</p>

<pre><code>LOGGING_MSG_FORMAT  = '%(name)-14s &gt; [%(levelname)s] [%(asctime)s] : %(message)s'
LOGGING_DATE_FORMAT	= '%Y-%m-%d %H:%M:%S'

logging.basicConfig(
			level=logging.DEBUG,
			format=LOGGING_MSG_FORMAT,
			datefmt=LOGGING_DATE_FORMAT
			)
root_logger = logging.getLogger('')
logger = logging.handlers.TimedRotatingFileHandler(""C:\\logs\\Rotate_Test"",'midnight',1)
root_logger.addHandler(logger)
while True:
	daemon_logger = logging.getLogger('TEST')
	daemon_logger.info(""SDFKLDSKLFFJKLSDD"")
	time.sleep(60)
</code></pre>

<p>The first log file created is called just ""Rotate_Test"" then once it rolls over to the next day it changes the file name to: ""Rotate_Test.YYYY-MM-DD"" Where YYYY-MM-DD is the current day.</p>

<p>How can i change how it alters the filename? I googled and looked at the API and found pretty much nothing.</p>
","<p>Just an update, i ended up going a different approach.</p>

<p>The easiest way i found to modify the file output, was to simply use a FileHandler, then when it is time to do a roll over.</p>

<p>I do this:</p>

<pre><code>if(current_time &gt; old_time):
    for each in logging.getLogger('Debug').handlers:
      each.stream = open(""C:\\NewOutput"", 'a')
</code></pre>

<p>Thats the gist of it. It took alot of poking and looking around but modifying the stream is the easiest way to do so.</p>

<p>:)</p>
"
204,106850,3,5,python,How best to draw in the console?,"<p>I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game.</p>

<p>I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible.</p>

<p>Is there a way to delete characters from the console? '\b' I've heard is unreliable.</p>

<p>Or is there an easier alternative route to outputting to the console for this sort of app?</p>
","<p>There are actually <strong>two</strong> libraries that solve this, the older <a href=""https://docs.python.org/library/curses.html"" rel=""nofollow"">curses</a> and the newer <a href=""http://www.jedsoft.org/slang/"" rel=""nofollow"">S-Lang</a>. Curses has a tendency to make buggy line art, especially on Windows and on unicode consoles (it's unicode support is shit). S-Lang's <a href=""http://www.jedsoft.org/slang/doc/html/cslang-8.html"" rel=""nofollow"">screen management functions</a> are better.</p>

<p>While I haven't used either of them in Python, and it seems curses is better supported, in C at least I'm switching my code to S-Lang because of those issues, and because deep down I never really liked the curses API.</p>
"
887,448120,1,5,python,Filtering models with ReferenceProperties,"<p>I'm using google app engine, and am having trouble writing querys to filter ReferenceProperties.</p>

<p>eg.</p>

<pre><code>class Group(db.Model):
    name = db.StringProperty(required=True)
    creator = db.ReferenceProperty(User)

class GroupMember(db.Model):
    group = db.ReferenceProperty(Group)
    user = db.ReferenceProperty(User)
</code></pre>

<p>And I have tried writing something like this:</p>

<pre><code>members = models.GroupMember.all().filter('group.name =', group_name)
</code></pre>

<p>and various other things that don't work. Hopefully someone can give me a prod in the right direction...</p>
","<p>This would require a join, which isn't possible in App Engine. If you want to filter by a property of another model, you need to include that property on the model you're querying against.</p>
"
888,448120,1,5,python,Filtering models with ReferenceProperties,"<p>I'm using google app engine, and am having trouble writing querys to filter ReferenceProperties.</p>

<p>eg.</p>

<pre><code>class Group(db.Model):
    name = db.StringProperty(required=True)
    creator = db.ReferenceProperty(User)

class GroupMember(db.Model):
    group = db.ReferenceProperty(Group)
    user = db.ReferenceProperty(User)
</code></pre>

<p>And I have tried writing something like this:</p>

<pre><code>members = models.GroupMember.all().filter('group.name =', group_name)
</code></pre>

<p>and various other things that don't work. Hopefully someone can give me a prod in the right direction...</p>
","<p>This would result in two datastore hits but should work.  If you use memcache shouldnt be a problem.</p>

<pre><code>group = models.Group.all().filter(""name ="", group_name).get()
members = models.GroupMember.all().filter('group =', group)
</code></pre>
"
889,448120,5,5,python,Filtering models with ReferenceProperties,"<p>I'm using google app engine, and am having trouble writing querys to filter ReferenceProperties.</p>

<p>eg.</p>

<pre><code>class Group(db.Model):
    name = db.StringProperty(required=True)
    creator = db.ReferenceProperty(User)

class GroupMember(db.Model):
    group = db.ReferenceProperty(Group)
    user = db.ReferenceProperty(User)
</code></pre>

<p>And I have tried writing something like this:</p>

<pre><code>members = models.GroupMember.all().filter('group.name =', group_name)
</code></pre>

<p>and various other things that don't work. Hopefully someone can give me a prod in the right direction...</p>
","<p>If your groups are uniquely named, then your ""group.name"" is a unique identifier of a Group entity.</p>

<p>That means you can write:</p>

<pre><code>  members = models.GroupMember.all().filter(
    ""group ="",model.Group.gql(""WHERE name=:1"", group_name).get()
    )
</code></pre>

<p>though you only need to do that if you don't already have the group entity lying around in the stack somewhere.  </p>

<p>Google's essay on many-to-many with appengine is <a href=""http://code.google.com/appengine/articles/modeling.html"">here</a>.</p>
"
890,448120,4,5,python,Filtering models with ReferenceProperties,"<p>I'm using google app engine, and am having trouble writing querys to filter ReferenceProperties.</p>

<p>eg.</p>

<pre><code>class Group(db.Model):
    name = db.StringProperty(required=True)
    creator = db.ReferenceProperty(User)

class GroupMember(db.Model):
    group = db.ReferenceProperty(Group)
    user = db.ReferenceProperty(User)
</code></pre>

<p>And I have tried writing something like this:</p>

<pre><code>members = models.GroupMember.all().filter('group.name =', group_name)
</code></pre>

<p>and various other things that don't work. Hopefully someone can give me a prod in the right direction...</p>
","<p>If what you want is to get the members of a group, ReferenceProperties have that built-in.  </p>

<pre><code>class GroupMember(db.Model):
    group = db.ReferenceProperty(Group, collection_name=""groupMembers"")
    user = db.ReferenceProperty(User, collection_name=""groupMembers"")
</code></pre>

<p>Then you can write:</p>

<pre><code># get the group entity somehow
group = Group.get(group_key)     
# do something with the members, such as list the nicknames
nicknames = [x.user.nickname for x in group.groupMembers]
</code></pre>
"
894,450210,3,5,python,How to check if a file can be created inside given directory on MS XP/Vista?,"<p>I have a code that creates file(s) in user-specified directory. User can point to a directory in which he can't create files, but he can rename it.</p>

<p>I have created directory for test purposes, let's call it <code>C:\foo</code>.  </p>

<p>I have following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Traversing directory/Execute file  </li>
<li>Removing subfolders and files</li>
<li>Removing</li>
<li>Read permissions</li>
<li>Change permissions</li>
<li>Take ownership</li>
</ul>

<p>I don't have any of the following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Full Control  </li>
<li>File creation  </li>
<li>Folder creation  </li>
</ul>

<p>I have tried following approaches, so far:</p>

<p><code><br />
os.access('C:\foo', os.W_OK) == True  </p>

<p>st = os.stat('C:\foo')<br />
mode = st[stat.ST_MODE]<br />
mode &amp; stat.S_IWRITE == True 
</code>  </p>

<p>I believe that this is caused by the fact that I can rename folder, so it is changeable for me. But it's content - not. </p>

<p>Does anyone know how can I write code that will check for a given directory if current user has permissions to create file in that directory?</p>

<p>In brief - I want to check if current user has <strong>File creation</strong> and <strong>Folder creation</strong> permissions for given folder name.</p>

<p>EDIT: The need for such code arisen from the Test case no 3 from 'Certified for Windows Vista' program, which states: </p>

<blockquote>
  <ol>
  <li>The application must not allow the Least-Privileged user to save any files to Windows System directory in order to pass this test case.  </li>
  </ol>
</blockquote>

<p>Should this be understood as 'Application may try to save file in Windows System directory, but shouldn't crash on failure?' or rather 'Application has to perform security checks before trying to save file?' </p>

<p>Should I stop bothering just because Windows Vista itself won't allow the Least-Privileged user to save any files in %WINDIR%? </p>
","<p>I wouldn't waste time and LOCs on checking for permissions. Ultimate test of file creation in Windows is the creation itself. Other factors may come into play (such as existing files (or worse, folders) with the same name, disk space, background processes. These conditions can even change between the time you make the initial check and the time you actually try to create your file.</p>

<p>So, if I had a scenario like that, I would just design my method to not lose any data in case of failure, to go ahead and try to create my file, and offer the user an option to change the selected directory and try again if creation fails.</p>
"
895,450210,3,5,python,How to check if a file can be created inside given directory on MS XP/Vista?,"<p>I have a code that creates file(s) in user-specified directory. User can point to a directory in which he can't create files, but he can rename it.</p>

<p>I have created directory for test purposes, let's call it <code>C:\foo</code>.  </p>

<p>I have following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Traversing directory/Execute file  </li>
<li>Removing subfolders and files</li>
<li>Removing</li>
<li>Read permissions</li>
<li>Change permissions</li>
<li>Take ownership</li>
</ul>

<p>I don't have any of the following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Full Control  </li>
<li>File creation  </li>
<li>Folder creation  </li>
</ul>

<p>I have tried following approaches, so far:</p>

<p><code><br />
os.access('C:\foo', os.W_OK) == True  </p>

<p>st = os.stat('C:\foo')<br />
mode = st[stat.ST_MODE]<br />
mode &amp; stat.S_IWRITE == True 
</code>  </p>

<p>I believe that this is caused by the fact that I can rename folder, so it is changeable for me. But it's content - not. </p>

<p>Does anyone know how can I write code that will check for a given directory if current user has permissions to create file in that directory?</p>

<p>In brief - I want to check if current user has <strong>File creation</strong> and <strong>Folder creation</strong> permissions for given folder name.</p>

<p>EDIT: The need for such code arisen from the Test case no 3 from 'Certified for Windows Vista' program, which states: </p>

<blockquote>
  <ol>
  <li>The application must not allow the Least-Privileged user to save any files to Windows System directory in order to pass this test case.  </li>
  </ol>
</blockquote>

<p>Should this be understood as 'Application may try to save file in Windows System directory, but shouldn't crash on failure?' or rather 'Application has to perform security checks before trying to save file?' </p>

<p>Should I stop bothering just because Windows Vista itself won't allow the Least-Privileged user to save any files in %WINDIR%? </p>
","<p>I recently wrote a App to pass a set of test to obtain the ISV status from Microsoft and I also add that condition.
The way I understood it was that if the user is Least Priveledge then he won't have permission to write in the system folders. So I approached the problem the the way Ishmaeel described. I try to create the file and catch the exception then inform the user that he doesn't have permission to write files to that directory.</p>

<p>In my understanding an Least-Priviledged user will not have the necessary permissions to write to those folders, if he has then he is not a Least-Priveledge user.</p>

<blockquote>
  <p>Should I stop bothering just because Windows Vista itself won't allow the Least-Privileged user to save any files in %WINDIR%?</p>
</blockquote>

<p>In my opinion? Yes.</p>
"
896,450210,2,5,python,How to check if a file can be created inside given directory on MS XP/Vista?,"<p>I have a code that creates file(s) in user-specified directory. User can point to a directory in which he can't create files, but he can rename it.</p>

<p>I have created directory for test purposes, let's call it <code>C:\foo</code>.  </p>

<p>I have following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Traversing directory/Execute file  </li>
<li>Removing subfolders and files</li>
<li>Removing</li>
<li>Read permissions</li>
<li>Change permissions</li>
<li>Take ownership</li>
</ul>

<p>I don't have any of the following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Full Control  </li>
<li>File creation  </li>
<li>Folder creation  </li>
</ul>

<p>I have tried following approaches, so far:</p>

<p><code><br />
os.access('C:\foo', os.W_OK) == True  </p>

<p>st = os.stat('C:\foo')<br />
mode = st[stat.ST_MODE]<br />
mode &amp; stat.S_IWRITE == True 
</code>  </p>

<p>I believe that this is caused by the fact that I can rename folder, so it is changeable for me. But it's content - not. </p>

<p>Does anyone know how can I write code that will check for a given directory if current user has permissions to create file in that directory?</p>

<p>In brief - I want to check if current user has <strong>File creation</strong> and <strong>Folder creation</strong> permissions for given folder name.</p>

<p>EDIT: The need for such code arisen from the Test case no 3 from 'Certified for Windows Vista' program, which states: </p>

<blockquote>
  <ol>
  <li>The application must not allow the Least-Privileged user to save any files to Windows System directory in order to pass this test case.  </li>
  </ol>
</blockquote>

<p>Should this be understood as 'Application may try to save file in Windows System directory, but shouldn't crash on failure?' or rather 'Application has to perform security checks before trying to save file?' </p>

<p>Should I stop bothering just because Windows Vista itself won't allow the Least-Privileged user to save any files in %WINDIR%? </p>
","<p>I agree with the other answers that the way to do this is to try to create the file and catch the exception. </p>

<p><em>However</em>, on Vista beware of UAC! See for example <a href=""http://stackoverflow.com/questions/370837/why-does-my-application-allow-me-to-save-files-to-the-windows-and-system32-folder"">""Why does my application allow me to save files to the Windows and System32 folders in Vista?""</a>: To support old applications, Vista will ""pretend"" to create the file while in reality it creates it in the so-called Virtual Store under the current user's profile. </p>

<p>To avoid this you have to specifically tell Vista that you don't want administrative privileges, by including the appropriate commands in the .exe's manifest, see the question linked above.</p>
"
897,450210,1,5,python,How to check if a file can be created inside given directory on MS XP/Vista?,"<p>I have a code that creates file(s) in user-specified directory. User can point to a directory in which he can't create files, but he can rename it.</p>

<p>I have created directory for test purposes, let's call it <code>C:\foo</code>.  </p>

<p>I have following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Traversing directory/Execute file  </li>
<li>Removing subfolders and files</li>
<li>Removing</li>
<li>Read permissions</li>
<li>Change permissions</li>
<li>Take ownership</li>
</ul>

<p>I don't have any of the following permissions to <code>C:\foo</code>:  </p>

<ul>
<li>Full Control  </li>
<li>File creation  </li>
<li>Folder creation  </li>
</ul>

<p>I have tried following approaches, so far:</p>

<p><code><br />
os.access('C:\foo', os.W_OK) == True  </p>

<p>st = os.stat('C:\foo')<br />
mode = st[stat.ST_MODE]<br />
mode &amp; stat.S_IWRITE == True 
</code>  </p>

<p>I believe that this is caused by the fact that I can rename folder, so it is changeable for me. But it's content - not. </p>

<p>Does anyone know how can I write code that will check for a given directory if current user has permissions to create file in that directory?</p>

<p>In brief - I want to check if current user has <strong>File creation</strong> and <strong>Folder creation</strong> permissions for given folder name.</p>

<p>EDIT: The need for such code arisen from the Test case no 3 from 'Certified for Windows Vista' program, which states: </p>

<blockquote>
  <ol>
  <li>The application must not allow the Least-Privileged user to save any files to Windows System directory in order to pass this test case.  </li>
  </ol>
</blockquote>

<p>Should this be understood as 'Application may try to save file in Windows System directory, but shouldn't crash on failure?' or rather 'Application has to perform security checks before trying to save file?' </p>

<p>Should I stop bothering just because Windows Vista itself won't allow the Least-Privileged user to save any files in %WINDIR%? </p>
","<pre><code>import os
import tempfile

def can_create_file(folder_path):
    try:
        tempfile.TemporaryFile(dir=folder_path)
        return True
    except OSError:
        return False

def can_create_folder(folder_path):
    try:
        name = tempfile.mkdtemp(dir=folder_path)
        os.rmdir(name)
        return True
    except OSError:
        return False
</code></pre>
"
203,106850,1,5,python,How best to draw in the console?,"<p>I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game.</p>

<p>I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible.</p>

<p>Is there a way to delete characters from the console? '\b' I've heard is unreliable.</p>

<p>Or is there an easier alternative route to outputting to the console for this sort of app?</p>
","<p>You can use curses.</p>

<p>It has a <a href=""http://adamv.com/dev/python/curses/"" rel=""nofollow"" title=""WCurses"">Windows Port</a> and <a href=""https://docs.python.org/library/curses.html"" rel=""nofollow"" title=""Unix Curses"">Unix Port</a>, and plenty of <a href=""https://docs.python.org/howto/curses.html"" rel=""nofollow"" title=""curses howto"">documentation</a>.
You can also use some <a href=""http://urwid.org/"" rel=""nofollow"" title=""gui for curses"">helper libs</a>.</p>
"
797,399980,10,5,python,Ignoring XML errors in Python,"<p>I am using XML minidom (xml.dom.minidom) in Python, but any error in the XML will kill the parser.
Is it possible to ignore them, like a browser for example?
I am trying to write a browser in Python, but it just throws an exception if the tags aren't fully compatible.</p>
","<p>There is a library called <a href=""http://www.crummy.com/software/BeautifulSoup/"">BeautifulSoup</a>, I think it's what you're looking for.
As you're trying to parse a invalid XML, the normal XML parser won't work. BeautifulSoup is more fail-tolerant, it can still extract information from invalid XML.</p>

<blockquote>
  <p>Beautiful Soup is a Python HTML/XML
  parser designed for quick turnaround
  projects like screen-scraping. Three
  features make it powerful:</p>
  
  <ol>
  <li>Beautiful Soup won't choke if you give it bad markup. It yields a
  parse tree that makes approximately as
  much sense as your original document.
  This is usually good enough to collect
  the data you need and run away.</li>
  <li>Beautiful Soup provides a few simple methods and Pythonic idioms for
  navigating, searching, and modifying a
  parse tree: a toolkit for dissecting a
  document and extracting what you need.
  You don't have to create a custom
  parser for each application.</li>
  <li>Beautiful Soup automatically converts incoming documents to Unicode
  and outgoing documents to UTF-8. You
  don't have to think about encodings,
  unless the document doesn't specify an
  encoding and Beautiful Soup can't
  autodetect one. Then you just have to
  specify the original encoding. </li>
  </ol>
  
  <p>Beautiful Soup parses anything you
  give it, and does the tree traversal
  stuff for you. You can tell it ""Find
  all the links"", or ""Find all the links
  of class externalLink"", or ""Find all
  the links whose urls match ""foo.com"",
  or ""Find the table heading that's got
  bold text, then give me that text.""</p>
</blockquote>
"
202,106850,0,5,python,How best to draw in the console?,"<p>I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game.</p>

<p>I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible.</p>

<p>Is there a way to delete characters from the console? '\b' I've heard is unreliable.</p>

<p>Or is there an easier alternative route to outputting to the console for this sort of app?</p>
","<p>This <a href=""http://stackoverflow.com/questions/43267/good-resources-for-writing-console-style-applications-for-windows"">previous StackOverflow question</a> should give you some more useful information.</p>
"
201,106850,0,5,python,How best to draw in the console?,"<p>I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game.</p>

<p>I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible.</p>

<p>Is there a way to delete characters from the console? '\b' I've heard is unreliable.</p>

<p>Or is there an easier alternative route to outputting to the console for this sort of app?</p>
","<p>I would investigate using the <a href=""http://python.org/doc/2.5/lib/module-curses.html"" rel=""nofollow"">curses</a> module. It will take care of a lot of the details and let you focus on the higher level stuff.</p>
"
200,106850,5,5,python,How best to draw in the console?,"<p>I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game.</p>

<p>I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible.</p>

<p>Is there a way to delete characters from the console? '\b' I've heard is unreliable.</p>

<p>Or is there an easier alternative route to outputting to the console for this sort of app?</p>
","<p>It looks like there is a <a href=""http://en.wikipedia.org/wiki/Curses_(programming_library)"" rel=""nofollow"">curses</a> port/library for Python:</p>

<p><a href=""https://docs.python.org/library/curses.html"" rel=""nofollow"">https://docs.python.org/library/curses.html</a></p>
"
199,106630,7,5,python,Why unicode() uses str() on my object only with no encoding given?,"<p>I start by creating a string variable with some <strong>non-ascii</strong> <em>utf-8</em> encoded data on it:</p>

<pre><code>&gt;&gt;&gt; text = 'Ã¡'
&gt;&gt;&gt; text
'\xc3\xa1'
&gt;&gt;&gt; text.decode('utf-8')
u'\xe1'
</code></pre>

<p>Using <code>unicode()</code> on it raises errors...</p>

<pre><code>&gt;&gt;&gt; unicode(text)
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: 
                    ordinal not in range(128)
</code></pre>

<p>...but if I know the encoding I can use it as second parameter:</p>

<pre><code>&gt;&gt;&gt; unicode(text, 'utf-8')
u'\xe1'
&gt;&gt;&gt; unicode(text, 'utf-8') == text.decode('utf-8')
True
</code></pre>

<p>Now if I have a class that returns this text in the <code>__str__()</code> method:</p>

<pre><code>&gt;&gt;&gt; class ReturnsEncoded(object):
...     def __str__(self):
...         return text
... 
&gt;&gt;&gt; r = ReturnsEncoded()
&gt;&gt;&gt; str(r)
'\xc3\xa1'
</code></pre>

<p><code>unicode(r)</code> seems to use <code>str()</code> on it, since it raises the same error as <code>unicode(text)</code> above:</p>

<pre><code>&gt;&gt;&gt; unicode(r)
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: 
                    ordinal not in range(128)
</code></pre>

<p>Until now everything is as planned!</p>

<p><strong>But as no one would ever expect, <code>unicode(r, 'utf-8')</code> won't even try:</strong></p>

<pre><code>&gt;&gt;&gt; unicode(r, 'utf-8')
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
TypeError: coercing to Unicode: need string or buffer, ReturnsEncoded found
</code></pre>

<p>Why? Why this inconsistent behavior? Is it a bug? is it intended? Very awkward.</p>
","<p>The behaviour does seem confusing, but intensional. I reproduce here the entirety of the unicode documentation from the <a href=""http://docs.python.org/lib/built-in-funcs.html"" rel=""nofollow"">Python Built-In Functions documentation</a> (for version 2.5.2, as I write this):</p>

<blockquote>
  <p><strong>unicode([object[, encoding [, errors]]])</strong></p>
  
  <p>Return the Unicode string version of object using one of the following modes:</p>
  
  <p>If encoding and/or errors are given, unicode() will decode the
     object which can either be an 8-bit string or a character buffer
     using the codec for encoding. The encoding parameter is a string
     giving the name of an encoding; if the encoding is not known,
     LookupError is raised. Error handling is done according to
     errors; this specifies the treatment of characters which are
     invalid in the input encoding. If errors is 'strict' (the
     default), a ValueError is raised on errors, while a value of
     'ignore' causes errors to be silently ignored, and a value of
     'replace' causes the official Unicode replacement character,
     U+FFFD, to be used to replace input characters which cannot be
     decoded. See also the <a href=""http://docs.python.org/lib/module-codecs.html"" rel=""nofollow"">codecs</a> module.</p>
  
  <p>If no optional parameters are given, unicode() will mimic the
     behaviour of str() except that it returns Unicode strings
     instead of 8-bit strings. More precisely, if object is a Unicode
     string or subclass it will return that Unicode string without
     any additional decoding applied.</p>
  
  <p>For objects which provide a __unicode__() method, it will call
     this method without arguments to create a Unicode string. For
     all other objects, the 8-bit string version or representation is
     requested and then converted to a Unicode string using the codec
     for the default encoding in 'strict' mode.</p>
  
  <p>New in version 2.0. Changed in version 2.2: Support for __unicode__() added. </p>
</blockquote>

<p>So, when you call <code>unicode(r, 'utf-8')</code>, it requires an 8-bit string or a character buffer as the first argument, so it coerces your object using the <code>__str__()</code> method, and attempts to decode that using the <code>utf-8</code> codec. Without the <code>utf-8</code>, the <code>unicode()</code> function looks for a for a <code>__unicode__()</code> method on your object, and not finding it, calls the <code>__str__()</code> method, as you suggested, attempting to use the default codec to convert to unicode.</p>
"
198,106630,4,5,python,Why unicode() uses str() on my object only with no encoding given?,"<p>I start by creating a string variable with some <strong>non-ascii</strong> <em>utf-8</em> encoded data on it:</p>

<pre><code>&gt;&gt;&gt; text = 'Ã¡'
&gt;&gt;&gt; text
'\xc3\xa1'
&gt;&gt;&gt; text.decode('utf-8')
u'\xe1'
</code></pre>

<p>Using <code>unicode()</code> on it raises errors...</p>

<pre><code>&gt;&gt;&gt; unicode(text)
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: 
                    ordinal not in range(128)
</code></pre>

<p>...but if I know the encoding I can use it as second parameter:</p>

<pre><code>&gt;&gt;&gt; unicode(text, 'utf-8')
u'\xe1'
&gt;&gt;&gt; unicode(text, 'utf-8') == text.decode('utf-8')
True
</code></pre>

<p>Now if I have a class that returns this text in the <code>__str__()</code> method:</p>

<pre><code>&gt;&gt;&gt; class ReturnsEncoded(object):
...     def __str__(self):
...         return text
... 
&gt;&gt;&gt; r = ReturnsEncoded()
&gt;&gt;&gt; str(r)
'\xc3\xa1'
</code></pre>

<p><code>unicode(r)</code> seems to use <code>str()</code> on it, since it raises the same error as <code>unicode(text)</code> above:</p>

<pre><code>&gt;&gt;&gt; unicode(r)
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: 
                    ordinal not in range(128)
</code></pre>

<p>Until now everything is as planned!</p>

<p><strong>But as no one would ever expect, <code>unicode(r, 'utf-8')</code> won't even try:</strong></p>

<pre><code>&gt;&gt;&gt; unicode(r, 'utf-8')
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
TypeError: coercing to Unicode: need string or buffer, ReturnsEncoded found
</code></pre>

<p>Why? Why this inconsistent behavior? Is it a bug? is it intended? Very awkward.</p>
","<p><code>unicode</code> does not guess the encoding of your text. If your object can print itself as <code>unicode</code>, define the <code>__unicode__()</code> method that returns a Unicode string.</p>

<p><hr /></p>

<p>The secret is that <code>unicode(r)</code> is not actually calling <code>__str__()</code> itself. Instead, it's looking for a <code>__unicode__()</code> method. The default implementation of <code>__unicode__()</code> will call <code>__str__()</code> and then attempt to decode it using the <code>ascii</code> charset. When you pass the encoding, <code>unicode()</code> expects the first object to be something that can be decoded -- that is, an instance of <code>basestring</code>.</p>

<p><hr /></p>

<blockquote>
  <p>Behavior is weird because it tries to decode as ascii if I don't pass 'utf-8'. But if I pass 'utf-8' it gives a different error...</p>
</blockquote>

<p>That's because when you specify ""utf-8"", it treats the first parameter as a string-like object to be decoded. Without it, it treats the parameter as an object to be coerced to unicode.</p>

<p>I do not understand the confusion. If you know that the object's <code>text</code> attribute will always be UTF-8 encoded, just define <code>__unicode__()</code> and then everything will work fine.</p>
"
829,414230,5,5,python,"python ""'NoneType' object has no attribute 'encode'""","<p>I wrote this tiny Python snippet that scrapes a feed and prints it out. When I run the code, something in the feed triggers the error message you see here as my question. Here's the complete console output on error:</p>

<pre><code>&gt; Traceback (most recent call last):  
&gt; File ""/home/vijay/ffour/ffour5.py"",
&gt; line 20, in &lt;module&gt;
&gt;     myfeed()   File ""/home/vijay/ffour/ffour5.py"", line
&gt; 15, in myfeed
&gt;     sys.stdout.write(entry[""title""]).encode('utf-8')
&gt; AttributeError: 'NoneType' object has
&gt; no attribute 'encode'
</code></pre>
","<p>Lets try to clear up some of the confusion in the exception message.</p>

<p>The function call</p>

<pre><code>sys.stdout.write(entry[""title""])
</code></pre>

<p>Returns None.  The "".encode('utf-8')"" is a call to the encode function on what is returned by the above function.</p>

<p>The problem is that None doesn't have an encode function (or an encode attribute) and so you get an attribute error that names the type you were trying to get an attribute of and the attribute you were trying to get.</p>
"
828,414230,12,5,python,"python ""'NoneType' object has no attribute 'encode'""","<p>I wrote this tiny Python snippet that scrapes a feed and prints it out. When I run the code, something in the feed triggers the error message you see here as my question. Here's the complete console output on error:</p>

<pre><code>&gt; Traceback (most recent call last):  
&gt; File ""/home/vijay/ffour/ffour5.py"",
&gt; line 20, in &lt;module&gt;
&gt;     myfeed()   File ""/home/vijay/ffour/ffour5.py"", line
&gt; 15, in myfeed
&gt;     sys.stdout.write(entry[""title""]).encode('utf-8')
&gt; AttributeError: 'NoneType' object has
&gt; no attribute 'encode'
</code></pre>
","<blockquote>
<pre><code>&gt; sys.stdout.write(entry[""title""]).encode('utf-8')
</code></pre>
</blockquote>

<p>This is the culprit. You probably mean:</p>

<pre><code>sys.stdout.write(entry[""title""].encode('utf-8'))
</code></pre>

<p>(Notice the position of the last closing bracket.)</p>
"
388,200250,7,5,python,How do I remove a cookie that I've set on someone's computer?,"<p>I've got a web system where users log in, and it stores a cookie of their session. When they log in as someone else or log out I want to remove that original cookie that I stored. What's the best way to do that?
I'm using Python and Apache, though I suppose the answer will remain the same for most languages.</p>
","<p>Set the cookie again, as if you hadn't set it the first time, but specify an expiration date that is in the past.</p>
"
798,399980,0,5,python,Ignoring XML errors in Python,"<p>I am using XML minidom (xml.dom.minidom) in Python, but any error in the XML will kill the parser.
Is it possible to ignore them, like a browser for example?
I am trying to write a browser in Python, but it just throws an exception if the tags aren't fully compatible.</p>
","<p>See, for example, <a href=""http://stackoverflow.com/questions/328356/extracting-text-from-html-file-using-python"">extracting-text-from-html-file-using-python</a> for suggestions regarding ways for parsing HTML in Python.</p>
"
799,399980,3,5,python,Ignoring XML errors in Python,"<p>I am using XML minidom (xml.dom.minidom) in Python, but any error in the XML will kill the parser.
Is it possible to ignore them, like a browser for example?
I am trying to write a browser in Python, but it just throws an exception if the tags aren't fully compatible.</p>
","<p>It should be noted that while HTML looks like XML it is not XML.  XHTML is an XML form of HTML.</p>
"
516,258390,5,5,python,Python filter/remove URLs from a list,"<p>I have a text file of URLs, about 14000.  Below is a couple of examples:</p>

<p><a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=10"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=10</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=11"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=11</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123</a><br /></p>

<p>I have loaded the text file into a Python list and I am trying to get all the URLs with CONTENT_ITEM_ID separated off into a list of their own.  What would be the best way to do this in Python?</p>

<p>Cheers</p>
","<pre><code>list2 = filter( lambda x: x.find( 'CONTENT_ITEM_ID ') != -1,  list1 )
</code></pre>

<p>The filter calls the function (first parameter) on each element of list1 (second parameter). If the function returns true (non-zero), the element is copied to the output list.</p>

<p>The lambda basically creates a temporary unnamed function. This is just to avoid having to create a function and then pass it, like this:</p>

<pre><code>function look_for_content_item_id( elem ):
    if elem.find( 'CONTENT_ITEM_ID') == -1:
        return 0
    return 1
list2 = filter( look_for_content_item_id, list1 )
</code></pre>
"
519,258390,5,5,python,Python filter/remove URLs from a list,"<p>I have a text file of URLs, about 14000.  Below is a couple of examples:</p>

<p><a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=10"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=10</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=11"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=11</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123</a><br /></p>

<p>I have loaded the text file into a Python list and I am trying to get all the URLs with CONTENT_ITEM_ID separated off into a list of their own.  What would be the best way to do this in Python?</p>

<p>Cheers</p>
","<p>For completeness; You can also use <code>ifilter</code>. It is like filter, but doesn't build up a list.</p>

<pre><code>from itertools import ifilter

for line in ifilter(lambda line: 'CONTENT_ITEM_ID' in line, urls):
    do_something(line)
</code></pre>
"
583,293300,5,5,python,"""Unknown column 'user_id' error in django view","<p>I'm having an error where I am not sure what caused it.</p>

<p>Here is the error:</p>

<pre><code>Exception Type:     OperationalError
Exception Value:    
(1054, ""Unknown column 'user_id' in 'field list'"")
</code></pre>

<p>Does anyone know why I am getting this error? I can't figure it out. Everything seems to be fine. </p>

<p>My view code is below:</p>

<pre><code>if ""login"" in request.session:
    t = request.POST.get('title', '')
    d = request.POST.get('description', '')
    fid = request.session[""login""]
    fuser = User.objects.get(id=fid)
    i = Idea(user=fuser, title=t, description=d, num_votes=1)
    i.save()
    return HttpResponse(""true"", mimetype=""text/plain"")
else:
    return HttpResponse(""false"", mimetype=""text/plain"")
</code></pre>

<p>I appreciate any help! Thanks!</p>

<p>Edit: Also a side question. Do I use objects.get(id= or objects.get(pk= ?   If I use a primary key, do I need to declare an id field or an index in the model?</p>

<p>Edit: Here are the relevant models:</p>

<pre><code>class User (models.Model):
    first_name = models.CharField(max_length=200)
    last_name = models.CharField(max_length=200)
    email = models.CharField(max_length=200)
    password = models.CharField(max_length=200)

class Idea (models.Model):
    user = models.ForeignKey(User)
    title = models.CharField(max_length=200)
    description = models.CharField(max_length=255)
    num_votes = models.IntegerField()
</code></pre>
","<ol>
<li><p>The <code>user_id</code> field is the FK reference from <code>Idea</code> to <code>User</code>.  It looks like you've changed your model, and not updated your database, then you'll have this kind of problem.</p>

<p>Drop the old table, rerun syncdb.</p></li>
<li><p>Your model tables get an <code>id</code> field by default.  You can call it <code>id</code> in your queries.  You can also use the synonym of <code>pk</code>.</p>

<p>If you define your own primary key field you, you don't get the automatic <code>id</code> field.  But you can still use <code>pk</code> to refer to the Primary Key.</p></li>
</ol>
"
582,293300,4,5,python,"""Unknown column 'user_id' error in django view","<p>I'm having an error where I am not sure what caused it.</p>

<p>Here is the error:</p>

<pre><code>Exception Type:     OperationalError
Exception Value:    
(1054, ""Unknown column 'user_id' in 'field list'"")
</code></pre>

<p>Does anyone know why I am getting this error? I can't figure it out. Everything seems to be fine. </p>

<p>My view code is below:</p>

<pre><code>if ""login"" in request.session:
    t = request.POST.get('title', '')
    d = request.POST.get('description', '')
    fid = request.session[""login""]
    fuser = User.objects.get(id=fid)
    i = Idea(user=fuser, title=t, description=d, num_votes=1)
    i.save()
    return HttpResponse(""true"", mimetype=""text/plain"")
else:
    return HttpResponse(""false"", mimetype=""text/plain"")
</code></pre>

<p>I appreciate any help! Thanks!</p>

<p>Edit: Also a side question. Do I use objects.get(id= or objects.get(pk= ?   If I use a primary key, do I need to declare an id field or an index in the model?</p>

<p>Edit: Here are the relevant models:</p>

<pre><code>class User (models.Model):
    first_name = models.CharField(max_length=200)
    last_name = models.CharField(max_length=200)
    email = models.CharField(max_length=200)
    password = models.CharField(max_length=200)

class Idea (models.Model):
    user = models.ForeignKey(User)
    title = models.CharField(max_length=200)
    description = models.CharField(max_length=255)
    num_votes = models.IntegerField()
</code></pre>
","<p>You'll have to show your models to get real help, but it looks like your Idea table doesn't have a user_id column?  Did you modify the SQL table structure?</p>
"
497,250700,0,5,python,Is it possible to communicate with a sub subprocess with subprocess.Popen?,"<p>I'm trying to write a python script that packages our software. This script needs to build our product, and package it. Currently we have other scripts that do each piece individually which include csh, and perl scripts. One such script is run like:</p>

<pre><code>sudo mod args
</code></pre>

<p>where mod is a perl script; so in python I would do </p>

<pre><code>proc = Popen(['sudo', 'mod', '-p', '-c', 'noresource', '-u', 'dtt', '-Q'], stderr=PIPE, stdout=PIPE, stdin=PIPE)
</code></pre>

<p>The problem is that this mod script needs a few questions answered. For this I thought that the traditional </p>

<pre><code>(stdout, stderr) = proc.communicate(input='y')
</code></pre>

<p>would work. I don't think it's working because the process that Popen is controlling is sudo, not the mod script that is asking the question. Is there any way to communicate with the mod script and still run it through sudo?</p>
","<p>We need more information.</p>

<ol>
<li>Is sudo asking you for a password?</li>
<li>What kind of interface does the mod script have for asking questions?</li>
</ol>

<p>Because these kind of things are not handled as normal over the pipe.</p>

<p>A solution for both of these might be <a href=""http://www.noah.org/wiki/Pexpect"" rel=""nofollow"">Pexpect</a>, which is rather expert at handling funny scripts that ask for passwords, and various other input issues.</p>
"
498,250700,4,5,python,Is it possible to communicate with a sub subprocess with subprocess.Popen?,"<p>I'm trying to write a python script that packages our software. This script needs to build our product, and package it. Currently we have other scripts that do each piece individually which include csh, and perl scripts. One such script is run like:</p>

<pre><code>sudo mod args
</code></pre>

<p>where mod is a perl script; so in python I would do </p>

<pre><code>proc = Popen(['sudo', 'mod', '-p', '-c', 'noresource', '-u', 'dtt', '-Q'], stderr=PIPE, stdout=PIPE, stdin=PIPE)
</code></pre>

<p>The problem is that this mod script needs a few questions answered. For this I thought that the traditional </p>

<pre><code>(stdout, stderr) = proc.communicate(input='y')
</code></pre>

<p>would work. I don't think it's working because the process that Popen is controlling is sudo, not the mod script that is asking the question. Is there any way to communicate with the mod script and still run it through sudo?</p>
","<p>I would choose to go with Pexpect. </p>

<pre><code>import pexpect
child = pexpect.spawn ('sudo mod -p -c noresource -u dtt -Q')
child.expect ('First question:')
child.sendline ('Y')
child.expect ('Second question:')
child.sendline ('Yup')
</code></pre>
"
517,258390,21,5,python,Python filter/remove URLs from a list,"<p>I have a text file of URLs, about 14000.  Below is a couple of examples:</p>

<p><a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=10"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=10</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=11"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=11</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123</a><br /></p>

<p>I have loaded the text file into a Python list and I am trying to get all the URLs with CONTENT_ITEM_ID separated off into a list of their own.  What would be the best way to do this in Python?</p>

<p>Cheers</p>
","<p>Here's another alternative to Graeme's, using the newer list comprehension syntax:</p>

<pre><code>list2= [line for line in file if 'CONTENT_ITEM_ID' in line]
</code></pre>

<p>Which you prefer is a matter of taste!</p>
"
518,258390,6,5,python,Python filter/remove URLs from a list,"<p>I have a text file of URLs, about 14000.  Below is a couple of examples:</p>

<p><a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=100&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=10"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=10</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=101&amp;param2=123</a><br />
<a href=""http://www.domainname.com/images?IMAGE_ID=11"" rel=""nofollow"">http://www.domainname.com/images?IMAGE_ID=11</a><br />
<a href=""http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123"" rel=""nofollow"">http://www.domainname.com/pagename?CONTENT_ITEM_ID=102&amp;param2=123</a><br /></p>

<p>I have loaded the text file into a Python list and I am trying to get all the URLs with CONTENT_ITEM_ID separated off into a list of their own.  What would be the best way to do this in Python?</p>

<p>Cheers</p>
","<p>I liked @<a href=""#258415"">bobince</a>'s answer (+1), but will up the ante.</p>

<p>Since you have a rather large starting set, you may wish to avoid loading the entire list into memory. Unless you need the whole list for something else, you could use a <a href=""http://www.python.org/doc/2.5.2/ref/genexpr.html"">Python generator expression</a> to perform the same task by building up the filtered list item by item as they're requested:</p>

<pre><code>for filtered_url in (line for line in file if 'CONTENT_ITEM_ID' in line):
   do_something_with_filtered_url(filtered_url)
</code></pre>
"
51,45540,1,5,python,How to know whether a window with a given title is already open in Tk?,"<p>Iâve writen a little python script that just pops up a message box containing the text passed on the command line. I want to pop it up only when the window âresulting from a previous callâ is not open.</p>

<pre><code>from Tkinter import *
import tkMessageBox

root = Tk()
root.withdraw() 

# TODO not if a window with this title exists
tkMessageBox.showinfo(""Key you!"", "" "".join(sys.argv[1:]))
</code></pre>

<p>Any idea how to check that?</p>
","<p>I believe you want:</p>

<pre><code>if 'normal' != root.state():
    tkMessageBox.showinfo(""Key you!"", "" "".join(sys.argv[1:]))
</code></pre>
"
304,167120,3,5,python,Removing a subset of a dict from within a list,"<p>This is really only easy to explain with an example, so to remove the intersection of a list from within a dict I usually do something like this:</p>

<pre><code>a = {1:'', 2:'', 3:'', 4:''}
exclusion = [3, 4, 5]

# have to build up a new list or the iteration breaks
toRemove = []
for var in a.iterkeys():
    if var in exclusion:
        toRemove.append(var)

for var in toRemove:
    del a[var]
</code></pre>

<p>This might seem like an unusual example, but it's surprising the number of times I've had to do something like this. Doing this with sets would be much nicer, but I clearly want to retain the 'values' for the dict.</p>

<p>This method is annoying because it requires two loops and an extra array. Is there a cleaner and more efficient way of doing this.</p>
","<pre><code>a = dict((key,value) for (key,value) in a.iteritems() if key not in exclusion)
</code></pre>
"
1071,529830,3,5,python,Do Python regexes support something like Perl's \G?,"<p>I have a Perl regular expression (shown <a href=""http://stackoverflow.com/questions/529657/how-do-i-write-a-regex-that-performs-multiple-substitutions-on-each-line-except/529735#529735"">here</a>, though understanding the whole thing isn't hopefully necessary to answering this question) that contains the \G metacharacter. I'd like to translate it into Python, but Python doesn't appear to support \G. What can I do?</p>
","<p>Try these:</p>

<pre><code>import re
re.sub()
re.findall()
re.finditer()
</code></pre>

<p>for example:</p>

<pre><code># Finds all words of length 3 or 4
s = ""the quick brown fox jumped over the lazy dogs.""
print re.findall(r'\b\w{3,4}\b', s)

# prints ['the','fox','over','the','lazy','dogs']
</code></pre>
"
1072,529830,2,5,python,Do Python regexes support something like Perl's \G?,"<p>I have a Perl regular expression (shown <a href=""http://stackoverflow.com/questions/529657/how-do-i-write-a-regex-that-performs-multiple-substitutions-on-each-line-except/529735#529735"">here</a>, though understanding the whole thing isn't hopefully necessary to answering this question) that contains the \G metacharacter. I'd like to translate it into Python, but Python doesn't appear to support \G. What can I do?</p>
","<p>You can use <code>re.match</code> to match anchored patterns. <code>re.match</code> will only match at the beginning (position 0) of the text, or where you specify.</p>

<pre><code>def match_sequence(pattern,text,pos=0):
  pat = re.compile(pattern)
  match = pat.match(text,pos)
  while match:
    yield match
    if match.end() == pos:
      break # infinite loop otherwise
    pos = match.end()
    match = pat.match(text,pos)
</code></pre>

<p>This will only match pattern from the given position, and any matches that follow 0 characters after.</p>

<pre><code>&gt;&gt;&gt; for match in match_sequence(r'[^\W\d]+|\d+',""he11o world!""):
...   print match.group()
...
he
11
o
</code></pre>
"
1073,529830,1,5,python,Do Python regexes support something like Perl's \G?,"<p>I have a Perl regular expression (shown <a href=""http://stackoverflow.com/questions/529657/how-do-i-write-a-regex-that-performs-multiple-substitutions-on-each-line-except/529735#529735"">here</a>, though understanding the whole thing isn't hopefully necessary to answering this question) that contains the \G metacharacter. I'd like to translate it into Python, but Python doesn't appear to support \G. What can I do?</p>
","<p>Python does not have the /g modifier for their regexen, and so do not have the \G regex token.  A pity, really.</p>
"
1074,529830,0,5,python,Do Python regexes support something like Perl's \G?,"<p>I have a Perl regular expression (shown <a href=""http://stackoverflow.com/questions/529657/how-do-i-write-a-regex-that-performs-multiple-substitutions-on-each-line-except/529735#529735"">here</a>, though understanding the whole thing isn't hopefully necessary to answering this question) that contains the \G metacharacter. I'd like to translate it into Python, but Python doesn't appear to support \G. What can I do?</p>
","<p>Don't try to put everything into one expression as it become very hard to read, translate (as you see for yourself) and maintain.</p>

<pre><code>import re
lines = [re.sub(r'http://[^\s]+', r'&lt;\g&lt;0&gt;&gt;', line) for line in text_block.splitlines() if not line.startedwith('//')]
print '\n'.join(lines)
</code></pre>

<p>Python is not usually best when you literally translate from Perl, it has it's own programming patterns.</p>
"
746,380420,10,5,python,How do I respond to mouse clicks on sprites in PyGame?,"<p>What is the canonical way of making your sprites respond to mouse clicks in PyGame ? </p>

<p>Here's something simple, in my event loop:</p>

<pre><code>for event in pygame.event.get():
    if event.type == pygame.QUIT:
        exit_game()
    [...]
    elif (  event.type == pygame.MOUSEBUTTONDOWN and
            pygame.mouse.get_pressed()[0]):
        for sprite in sprites:
            sprite.mouse_click(pygame.mouse.get_pos())
</code></pre>

<p>Some questions about it:</p>

<ol>
<li>Is this the best way of responding to mouse clicks ? </li>
<li>What if the mouse stays pressed on the sprite for some time ? How do I make a single event out of it ?</li>
<li>Is this a reasonable way to notify all my sprites of the click ?</li>
</ol>

<p>Thanks in advance</p>
","<p>I usually give my clickable objects a click function, like in your example. I put all of those objects in a list, for easy iteration when the click functions are to be called.</p>

<p>when checking for which mousebutton you press, use the button property of the event.</p>

<pre><code>import pygame
from pygame.locals import * #This lets you use pygame's constants directly.

for event in pygame.event.get():
    if event.type == MOUSEBUTTONDOWN:  #Better to seperate to a new if statement aswell, since there's more buttons that can be clicked and makes for cleaner code.
        if event.button == 1:
            for object in clickableObjectsList:
                object.clickCheck(event.pos)
</code></pre>

<p>I would say this is the recommended way of doing it. The click only registers once, so it wont tell your sprite if the user is ""dragging"" with a button. That can easily be done with a boolean that is set to true with the MOUSEBUTTONDOWN event, and false with the MOUSEBUTTONUP. The have ""draggable"" objects iterated for activating their functions... and so on.</p>

<p>However, if you don't want to use an event handler, you can let an update function check for input with:</p>

<pre><code>pygame.mouse.get_pos() 
pygame.mouse.get_pressed().
</code></pre>

<p>This is a bad idea for larger projects, since it can create hard to find bugs. Better just keeping events in one place. Smaller games, like simple arcade games might make more sense using the probing style though.</p>
"
387,200250,4,5,python,How do I remove a cookie that I've set on someone's computer?,"<p>I've got a web system where users log in, and it stores a cookie of their session. When they log in as someone else or log out I want to remove that original cookie that I stored. What's the best way to do that?
I'm using Python and Apache, though I suppose the answer will remain the same for most languages.</p>
","<p>I guess the best way is to set the expiration to a date of the cookie to some date in the past.</p>
"
305,167120,1,5,python,Removing a subset of a dict from within a list,"<p>This is really only easy to explain with an example, so to remove the intersection of a list from within a dict I usually do something like this:</p>

<pre><code>a = {1:'', 2:'', 3:'', 4:''}
exclusion = [3, 4, 5]

# have to build up a new list or the iteration breaks
toRemove = []
for var in a.iterkeys():
    if var in exclusion:
        toRemove.append(var)

for var in toRemove:
    del a[var]
</code></pre>

<p>This might seem like an unusual example, but it's surprising the number of times I've had to do something like this. Doing this with sets would be much nicer, but I clearly want to retain the 'values' for the dict.</p>

<p>This method is annoying because it requires two loops and an extra array. Is there a cleaner and more efficient way of doing this.</p>
","<p>You could change your exclusion list to a set, then just use intersection to get the overlap.</p>

<pre><code>exclusion = set([3, 4, 5])

for key in exclusion.intersection(a):
    del a[key]
</code></pre>
"
858,427400,2,5,python,Unit testing and mocking email sender in Python with Google AppEngine,"<p>I'm a newbie to python and the app engine.</p>

<p>I have this code that sends an email based on request params after some auth logic. in my Unit tests (i'm using <a href=""http://code.google.com/p/gaeunit/"" rel=""nofollow"">GAEUnit</a>), how do I confirm an email with specific contents were sent? - i.e. how do I mock the emailer with a fake emailer to verify send was called?</p>

<pre><code>class EmailHandler(webapp.RequestHandler):
 def bad_input(self):
  self.response.set_status(400)
  self.response.headers['Content-Type'] = 'text/plain'
  self.response.out.write(""&lt;html&gt;&lt;body&gt;bad input &lt;/body&gt;&lt;/html&gt;"")

 def get(self):
  to_addr = self.request.get(""to"")
  subj = self.request.get(""subject"")
  msg = self.request.get(""body"")
  if not mail.is_email_valid(to_addr):
    # Return an error message...
    #   self.bad_input()
    pass

  # authenticate here

  message = mail.EmailMessage()
  message.sender = ""my.company@gmail.com""
  message.to = to_addr
  message.subject = subj
  message.body = msg
  message.send()
  self.response.headers['Content-Type'] = 'text/plain'
  self.response.out.write(""&lt;html&gt;&lt;body&gt;success!&lt;/body&gt;&lt;/html&gt;"")
</code></pre>

<p>And the unit tests,</p>

<pre><code>import unittest
from webtest import TestApp
from google.appengine.ext import webapp
from email import EmailHandler

class SendingEmails(unittest.TestCase):

  def setUp(self):
    self.application = webapp.WSGIApplication([('/', EmailHandler)], debug=True)

  def test_success(self):
    app = TestApp(self.application)
    response = app.get('http://localhost:8080/send?to=vijay.santhanam@gmail.com&amp;body=blah_blah_blah&amp;subject=mySubject')
    self.assertEqual('200 OK', response.status)
    self.assertTrue('success' in response)
    # somehow, assert email was sent
</code></pre>
","<p>A very short introduction provides <a href=""http://pypi.python.org/pypi/MiniMock/1.0"" rel=""nofollow"">PyPI: MiniMock 1.0</a>. It's a very small library to establish mocks.</p>

<ol>
<li>Inject your mock into the module, that should be mocked</li>
<li>Define, what your mock will return</li>
<li>Call the method</li>
<li>Your mock will say, which method were called.</li>
</ol>

<p>Good luck!</p>
"
303,167120,2,5,python,Removing a subset of a dict from within a list,"<p>This is really only easy to explain with an example, so to remove the intersection of a list from within a dict I usually do something like this:</p>

<pre><code>a = {1:'', 2:'', 3:'', 4:''}
exclusion = [3, 4, 5]

# have to build up a new list or the iteration breaks
toRemove = []
for var in a.iterkeys():
    if var in exclusion:
        toRemove.append(var)

for var in toRemove:
    del a[var]
</code></pre>

<p>This might seem like an unusual example, but it's surprising the number of times I've had to do something like this. Doing this with sets would be much nicer, but I clearly want to retain the 'values' for the dict.</p>

<p>This method is annoying because it requires two loops and an extra array. Is there a cleaner and more efficient way of doing this.</p>
","<p>Why not just use the <code>keys</code> method, instead of <code>iterkeys</code>? That way you can do it in one loop because it returns a list, not an iterator.</p>
"
788,395960,4,5,python,PHP vs. application server?,"<p>For those of you who have had the opportunity of writing web applications in PHP and then as an application server (eg. Python-based solutions like CherryPy or Pylons), in what context are application servers a better alternative to PHP?</p>

<p>I tend to favor PHP simply because it's available on just about any web server (especially shared host), but I'm looking for other good reasons to make an informed choice. Thank you.</p>
","<p>The advantage of deployment for PHP is a huge one. You will also have a large developer base, and sound like you already have considerable expertise. In general if you know how to use a programming language well, you are safer to stick with it.</p>

<p>The advantages of using a Python web framework like Pylons are that your code will be neater, and more maintainable. Of course this is possible with PHP, but seems much harder to achieve. Python is simply a nicer language than PHP, so that might affect your decision.</p>

<p>Personally, I would not describe either Pylons or CherryPy as an ""application server"", if you want a Python application server, try <a href=""http://www.zope.org/"" rel=""nofollow"">Zope</a>. (They both do serve WSGI Applications, but that is a topic for another question.) There seem to be plenty of equivalent frameworks for PHP, and they have been listed in other answers.</p>
"
789,395960,0,5,python,PHP vs. application server?,"<p>For those of you who have had the opportunity of writing web applications in PHP and then as an application server (eg. Python-based solutions like CherryPy or Pylons), in what context are application servers a better alternative to PHP?</p>

<p>I tend to favor PHP simply because it's available on just about any web server (especially shared host), but I'm looking for other good reasons to make an informed choice. Thank you.</p>
","<p>Using application servers like Pylons, Django, etc. require much more work to setup and deploy then PHP applications which are generally supported out of the box. I run a few Django apps and had to learn a bit of configuring apache with mod_python in order to get things to work. I put forth the effort because coding in python is much more enjoyable to me than PHP and after you get the Apache config right once you never really have to mess with it again.
On another note, if you decide to go with a framework like Django, Rails, Pylons, .... they tend to solve a lot of small repetitive tasks that you would otherwise do on your own. But frameworks are their own huge topic of discussion.</p>
"
302,167120,11,5,python,Removing a subset of a dict from within a list,"<p>This is really only easy to explain with an example, so to remove the intersection of a list from within a dict I usually do something like this:</p>

<pre><code>a = {1:'', 2:'', 3:'', 4:''}
exclusion = [3, 4, 5]

# have to build up a new list or the iteration breaks
toRemove = []
for var in a.iterkeys():
    if var in exclusion:
        toRemove.append(var)

for var in toRemove:
    del a[var]
</code></pre>

<p>This might seem like an unusual example, but it's surprising the number of times I've had to do something like this. Doing this with sets would be much nicer, but I clearly want to retain the 'values' for the dict.</p>

<p>This method is annoying because it requires two loops and an extra array. Is there a cleaner and more efficient way of doing this.</p>
","<p>Consider <a href=""http://docs.python.org/library/stdtypes.html#dict.pop"" rel=""nofollow"">dict.pop</a>:</p>

<pre><code>for key in exclusion:
     a.pop(key, None)
</code></pre>

<p>The <code>None</code> keeps pop from raising an exception when <code>key</code> isn't a key.</p>
"
787,395960,1,5,python,PHP vs. application server?,"<p>For those of you who have had the opportunity of writing web applications in PHP and then as an application server (eg. Python-based solutions like CherryPy or Pylons), in what context are application servers a better alternative to PHP?</p>

<p>I tend to favor PHP simply because it's available on just about any web server (especially shared host), but I'm looking for other good reasons to make an informed choice. Thank you.</p>
","<p>There are several products in PHP which fill the same space as CherryPy or Pylons.</p>

<p>(except, of course, they don't run Python ;)</p>

<p>Have a look at -</p>

<ul>
<li>CakePHP - <a href=""http://www.cakephp.org/"" rel=""nofollow"">http://www.cakephp.org/</a></li>
<li>Symfony - <a href=""http://www.symfony-project.org/"" rel=""nofollow"">http://www.symfony-project.org/</a></li>
<li>Code Igniter - <a href=""http://codeigniter.com/"" rel=""nofollow"">http://codeigniter.com/</a></li>
<li>Zend Framework - <a href=""http://framework.zend.com/"" rel=""nofollow"">http://framework.zend.com/</a></li>
</ul>

<p>Personally, I prefer Drupal, which works as a great framework and comes with a lot of CMS and community site features out of the box. The ones above are quite different in many ways, but any of these should offer you the best of both worlds if you want an app framework / appserver that runs on PHP. </p>

<ul>
<li>Drupal - <a href=""http://drupal.org/"" rel=""nofollow"">http://drupal.org/</a></li>
</ul>

<p>Which one is the right choice is largely a matter of taste, although each has its various advantages and disadvantages.</p>

<p>There are many more - these are just the ones I've heard good things about from colleagues and collaborators. It's not a complete list.</p>
"
790,395960,1,5,python,PHP vs. application server?,"<p>For those of you who have had the opportunity of writing web applications in PHP and then as an application server (eg. Python-based solutions like CherryPy or Pylons), in what context are application servers a better alternative to PHP?</p>

<p>I tend to favor PHP simply because it's available on just about any web server (especially shared host), but I'm looking for other good reasons to make an informed choice. Thank you.</p>
","<p>Python web-apps tend to require more initial setup and development than the equivalent PHP site (particularly so for small sites).  There also tend to be more reusable pieces for PHP (ie Wordpress as a blog).  Configuring a server to run Python web-apps can be a difficult process, and not always well documented.  PHP tends to be very easy to get running with Apache.</p>

<p>Also, as PHP is very widely used and is heavily used by beginners, there tends to be very good documentation for it.</p>

<p>However, Python is much more fun, and much more maintainable.  It scales well (in development complexity terms, rather than traffic).</p>

<p>Personally, I would also say that using Python tends to train you to solve problems in a better way.  I am definitely a better developer for having learned the Pythonic way of doing things.</p>
"
791,395960,4,5,python,PHP vs. application server?,"<p>For those of you who have had the opportunity of writing web applications in PHP and then as an application server (eg. Python-based solutions like CherryPy or Pylons), in what context are application servers a better alternative to PHP?</p>

<p>I tend to favor PHP simply because it's available on just about any web server (especially shared host), but I'm looking for other good reasons to make an informed choice. Thank you.</p>
","<p>I have a feeling that some of the responses didn't address the initial question directly, so I decided to post my own. I understand that the question was about the difference between the <code>mod_php</code> deployment model and the application server deployment model.</p>

<p>In simple words, PHP executes a given script on every request, and the application has no knowledge of what has happened before (unless it is emulated somehow). Moreover even the source code is being parsed on every request (unless you use a bytecode cache like APC). This process can be slow, especially if you have a framework with complex initialization.</p>

<p>In contrast to this, the application server has to be started once, and then it waits for a request to be processed. The application server should clean up resources after every requests (allocated memory, open descriptors, etc.), it can also pool certain resources (like database connections) that can be reused between requests for extra performance.</p>

<p>This later model (application server) is more efficient in most cases, but on the other hand more difficult to setup and maintain. It is also more demanding, as you have to pay more attention to the resources you utilize, in order to avoid resource leaks.</p>
"
600,296270,2,4,python,Which is more efficient in Python: standard imports or contextual imports?,"<p>I apologize in advance if this question seems remedial.</p>

<p>Which would be considered more efficient in Python:</p>

<p><strong>Standard import</strong></p>

<pre><code>import logging

try:
  ...some code...
exception Exception, e:
  logging.error(e)
</code></pre>

<p>...or...</p>

<p><strong>Contextual import</strong></p>

<pre><code>try:
  ...some code...
exception Exception, e:
  import logging
  logging.error(e)
</code></pre>
","<p>They're essentially the same. The Python interpreter will only load a used module <em>once</em>, no matter how many times you import it. Changing the location of the import statement only has an effect on where the name is bound -- for example, if your <code>import</code> statement is inside a function, the name can only be used in that function.</p>

<p>Generally, though, imports are usually done as close to the ""top"" of a file as possible.</p>
"
910,452520,4,4,python,A SuggestBox for wxPython?,"<p>Is there a widget for wxPython like the <a href=""http://google-web-toolkit.googlecode.com/svn/javadoc/1.5/index.html"" rel=""nofollow"">SuggestBox</a> in Google Web Toolkit? It is basically a magic text box that can invoke some code to come up with suggestions relevant to whatever the user has entered so far. Like the search box on Google's web page.</p>

<p>If such a widget isn't already floating out there, I'd appreciate a sketch of how I might implement it with the existing widgets.</p>
","<p>You might want to look at <a href=""http://wiki.wxpython.org/Combo%20Box%20that%20Suggests%20Options"" rel=""nofollow"">Combo Box that Suggests Options</a>.</p>

<p>I hope this is what you were thinking of.</p>
"
591,294520,1,4,python,What are some techniques for code generation?,"<p>I'm generating C++ code, and it seems like it's going to get very messy, even my simple generating classes already have tons of special cases.  Here is the code as it stands now: <a href=""http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp"" rel=""nofollow"">http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp</a> .</p>
","<p>I agree with S.Lott, that you should write out an example of what you want to generate.</p>

<p>Solving a problem with code generation should be less complicated than without.</p>

<p>This is because your total program has to deal with a lot of input information, and if a subset of that information changes very seldom, like once a week, the code generator only has to condition on that subset. The generated code conditions on the remaining input that changes more frequently.
It's a divide-and-conquer strategy. Another name for it is ""partial evaluation"".</p>

<p>Generated code should also run a lot faster because it's less general.</p>

<p>In your specific case, there's no harm in doing the code generation in 2 (or more) passes. Like on pass 1 you generate declarations. On pass 2 you generate process code. Alternatively you could generate two output streams, and concatenate them at the end.</p>

<p>Hope that helps. Sorry if I'm just saying what's obvious.</p>
"
528,263550,4,4,python,"We have a graphical designer, now they want a text based designer. Suggestions?","<p>I'm sorry I could not think of a better title.</p>

<p>The problem is the following:</p>

<p>For our customer we have created (as part of a larger application) a
graphical designer which they can use to build ""scenario's"".</p>

<p>These scenario's consist of ""Composites"" which in turn consist
of ""Commands"". These command objects all derive from CommandBase and
implement an interface called ICompilable.</p>

<p>The scenario class also implements ICompilable. When Compile() is called
on a command an array of bytes is returned which can then be send to the device
for which they are intended (can't disclose to much info about that hardware, sorry)</p>

<p>Just to give you an idea:</p>

<pre><code>var scenario = new Scenario();

scenario.Add(new DelayCommand(1));
scenario.Add(new CountWithValueCommand(1,ActionEnum.Add,1));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new WaitCommand(3));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new SkipIfCommand(1,OperatorEnum.SmallerThan,10));
scenario.Add(new JumpCommand(2));

byte[] compiledData = scenario.Compile();
</code></pre>

<p>The graphical designer abstracts all this from the user and allows
him (or her) to simply drag en drop composites onto the designer surface.
(Composites can group commands so we can provide building blocks for returning tasks)</p>

<p>Recently our customer came to us and said, ""well the designer is really cool,
but we have some people who would rather have some kind of programming language,
just something simple.""</p>

<p>(Simple to them of course)</p>

<p>I would very much like to provide them with a simple language,
that can call various commmands and also replace SkipIfCommand with
a nicer structure, etc...</p>

<p>I have no idea where to start or what my options are (without breaking what we have)</p>

<p>I have heard about people embedding languages such as Python,
people writing their own language an parsers, etc...</p>

<p>Any suggestions?</p>

<p>PS: Users only work with composites, never with commands.
    Composites are loaded dynamically at runtime (along with their graphical designer)
    and may be provided by third parties in seperate assemblies.</p>
","<p>From what i think i've understood you have two options</p>

<p>you could either use an XML style ""markup"" to let them define entities and their groupings, but that may not be best.</p>

<p>Your alternatives are yes, yoou could embedd a language, but do you really need to, wouldnt that be overkill, and how can you control it?</p>

<p>If you only need really simple syntax then perhaps write your own language. Its actually not that hard to create a simple interpreter, as long as you have a strict, unambiguous language. Have a look for some examples of compilers in whatever youre using, c#?</p>

<p>I wrote a very simple interperter in java at uni, it wasnt as hard as you'd think.</p>
"
560,275980,2,4,python,import mechanize module to python script,"<p>I tried to import mechanize module to my python script like this,</p>

<p>from mechanize import Browser</p>

<p>But, Google appengine throws HTTP 500 when accessing my script.</p>

<p>To make things more clear, Let me give you the snapshot of my package structure,</p>

<pre><code>root
 ....mechanize(where all the mechanize related files there)
 ....main.py
 ....app.yaml
 ....image
 ....script
</code></pre>

<p>Can anyone help me out to resolve this issue?</p>

<p>Thanks,
Ponmalar</p>
","<p>The mechanize main page says:</p>

<blockquote>
  <p>mechanize.Browser is a subclass of mechanize.UserAgentBase, which is, in turn, a subclass of urllib2.OpenerDirector</p>
</blockquote>

<p>My understanding is that urllib2 is one of the sandboxed modules in GAE, with its functionality being replaced by the Google-provided urlfetch. You'd need to re-implement the mechanize.UserAgentBase class to use urlfetch, if that's at all possible.</p>
"
1095,539430,0,4,python,Connecting to MS SQL Server using python on linux with 'Windows Credentials',"<p>Is there any way to connect to an MS SQL Server database with python on linux using Windows Domain Credentials?</p>

<p>I can connect perfectly fine from my windows machine using Windows Credentials, but attempting to do the same from a linux python with pyodbs + freetds + unixodbc </p>

<pre><code>&gt;&gt;import pyodbc
&gt;&gt;conn = pyodbc.connect(""DRIVER={FreeTDS};SERVER=servername;UID=username;PWD=password;DATABASE=dbname"")
</code></pre>

<p>results in this error:</p>

<pre><code>class 'pyodbc.Error'&gt;: ('28000', '[28000] [unixODBC][FreeTDS][SQL Server]Login incorrect. (20014) (SQLDriverConnectW)')
</code></pre>

<p>I'm sure the password is written correctly, but I've tried many different combinations of username:</p>

<pre><code>DOMAIN\username
DOMAIN\\username
</code></pre>

<p>or even</p>

<pre><code>UID=username;DOMAIN=domain
</code></pre>

<p>to no avail. Any ideas?</p>
","<p>I don't believe you'll be able to log in to a windows domain account in this way. You need to set up a user in sql directly for this manner of passing credentials.</p>
"
1096,539430,1,4,python,Connecting to MS SQL Server using python on linux with 'Windows Credentials',"<p>Is there any way to connect to an MS SQL Server database with python on linux using Windows Domain Credentials?</p>

<p>I can connect perfectly fine from my windows machine using Windows Credentials, but attempting to do the same from a linux python with pyodbs + freetds + unixodbc </p>

<pre><code>&gt;&gt;import pyodbc
&gt;&gt;conn = pyodbc.connect(""DRIVER={FreeTDS};SERVER=servername;UID=username;PWD=password;DATABASE=dbname"")
</code></pre>

<p>results in this error:</p>

<pre><code>class 'pyodbc.Error'&gt;: ('28000', '[28000] [unixODBC][FreeTDS][SQL Server]Login incorrect. (20014) (SQLDriverConnectW)')
</code></pre>

<p>I'm sure the password is written correctly, but I've tried many different combinations of username:</p>

<pre><code>DOMAIN\username
DOMAIN\\username
</code></pre>

<p>or even</p>

<pre><code>UID=username;DOMAIN=domain
</code></pre>

<p>to no avail. Any ideas?</p>
","<p>I haven't done it in a while, but I remember the whole unixodbc + FreeTDS + pyodbc thing being a little tricky.  However, it can be done, and once setup it's not that hard.</p>

<p>This website provides very good instructions:
<a href=""http://web.archive.org/web/20150214152131/http://www.pauldeden.com/2008/12/how-to-setup-pyodbc-to-connect-to-mssql.html"" rel=""nofollow"" title=""On Archive.org: pauldeden.com/2008/12/how-to-setup-pyodbc-to-connect-to-mssql.html"">http://www.pauldeden.com/2008/12/how-to-setup-pyodbc-to-connect-to-mssql.html (archived copy on Web Archive)</a></p>

<p>Also, in my experience pyodbc had issues compiling/running on 64 bit Linux machines.  Because of that we eventually used ceODBC.  ceODBC isn't quite as stable as pyodbc (encountered more unexpected bugs than in pyodbc when running in python prorgram), but it is very easy to get up and running on Linux 64 bit.</p>
"
533,263550,0,4,python,"We have a graphical designer, now they want a text based designer. Suggestions?","<p>I'm sorry I could not think of a better title.</p>

<p>The problem is the following:</p>

<p>For our customer we have created (as part of a larger application) a
graphical designer which they can use to build ""scenario's"".</p>

<p>These scenario's consist of ""Composites"" which in turn consist
of ""Commands"". These command objects all derive from CommandBase and
implement an interface called ICompilable.</p>

<p>The scenario class also implements ICompilable. When Compile() is called
on a command an array of bytes is returned which can then be send to the device
for which they are intended (can't disclose to much info about that hardware, sorry)</p>

<p>Just to give you an idea:</p>

<pre><code>var scenario = new Scenario();

scenario.Add(new DelayCommand(1));
scenario.Add(new CountWithValueCommand(1,ActionEnum.Add,1));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new WaitCommand(3));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new SkipIfCommand(1,OperatorEnum.SmallerThan,10));
scenario.Add(new JumpCommand(2));

byte[] compiledData = scenario.Compile();
</code></pre>

<p>The graphical designer abstracts all this from the user and allows
him (or her) to simply drag en drop composites onto the designer surface.
(Composites can group commands so we can provide building blocks for returning tasks)</p>

<p>Recently our customer came to us and said, ""well the designer is really cool,
but we have some people who would rather have some kind of programming language,
just something simple.""</p>

<p>(Simple to them of course)</p>

<p>I would very much like to provide them with a simple language,
that can call various commmands and also replace SkipIfCommand with
a nicer structure, etc...</p>

<p>I have no idea where to start or what my options are (without breaking what we have)</p>

<p>I have heard about people embedding languages such as Python,
people writing their own language an parsers, etc...</p>

<p>Any suggestions?</p>

<p>PS: Users only work with composites, never with commands.
    Composites are loaded dynamically at runtime (along with their graphical designer)
    and may be provided by third parties in seperate assemblies.</p>
","<p>While it might be great fun to create this mini-language and code it all up, the real questions you need to ask are:</p>

<ol>
<li>What is the business case for adding this feature / facility?</li>
<li>Who is going to pay for this feature?</li>
<li>Who is going to ""sign off"" on this feature if you build it?</li>
</ol>

<p>""Really neat"" features have a way of getting built when the reality might indicate the true answer to such a request is ""no"".</p>

<p>See if you have a stakeholder willing to sponsor this before proceeding. Then check with the end users to see what they really want before committing to the project.</p>

<p>Cheers,</p>

<p>-R</p>
"
532,263550,1,4,python,"We have a graphical designer, now they want a text based designer. Suggestions?","<p>I'm sorry I could not think of a better title.</p>

<p>The problem is the following:</p>

<p>For our customer we have created (as part of a larger application) a
graphical designer which they can use to build ""scenario's"".</p>

<p>These scenario's consist of ""Composites"" which in turn consist
of ""Commands"". These command objects all derive from CommandBase and
implement an interface called ICompilable.</p>

<p>The scenario class also implements ICompilable. When Compile() is called
on a command an array of bytes is returned which can then be send to the device
for which they are intended (can't disclose to much info about that hardware, sorry)</p>

<p>Just to give you an idea:</p>

<pre><code>var scenario = new Scenario();

scenario.Add(new DelayCommand(1));
scenario.Add(new CountWithValueCommand(1,ActionEnum.Add,1));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new WaitCommand(3));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new SkipIfCommand(1,OperatorEnum.SmallerThan,10));
scenario.Add(new JumpCommand(2));

byte[] compiledData = scenario.Compile();
</code></pre>

<p>The graphical designer abstracts all this from the user and allows
him (or her) to simply drag en drop composites onto the designer surface.
(Composites can group commands so we can provide building blocks for returning tasks)</p>

<p>Recently our customer came to us and said, ""well the designer is really cool,
but we have some people who would rather have some kind of programming language,
just something simple.""</p>

<p>(Simple to them of course)</p>

<p>I would very much like to provide them with a simple language,
that can call various commmands and also replace SkipIfCommand with
a nicer structure, etc...</p>

<p>I have no idea where to start or what my options are (without breaking what we have)</p>

<p>I have heard about people embedding languages such as Python,
people writing their own language an parsers, etc...</p>

<p>Any suggestions?</p>

<p>PS: Users only work with composites, never with commands.
    Composites are loaded dynamically at runtime (along with their graphical designer)
    and may be provided by third parties in seperate assemblies.</p>
","<p>To add to S.Lott's comment, here's how you <a href=""http://www.redmountainsw.com/wordpress/archives/embedding-ironpython-c-calling-python-script"" rel=""nofollow"">eval a Python script from C# </a></p>
"
531,263550,1,4,python,"We have a graphical designer, now they want a text based designer. Suggestions?","<p>I'm sorry I could not think of a better title.</p>

<p>The problem is the following:</p>

<p>For our customer we have created (as part of a larger application) a
graphical designer which they can use to build ""scenario's"".</p>

<p>These scenario's consist of ""Composites"" which in turn consist
of ""Commands"". These command objects all derive from CommandBase and
implement an interface called ICompilable.</p>

<p>The scenario class also implements ICompilable. When Compile() is called
on a command an array of bytes is returned which can then be send to the device
for which they are intended (can't disclose to much info about that hardware, sorry)</p>

<p>Just to give you an idea:</p>

<pre><code>var scenario = new Scenario();

scenario.Add(new DelayCommand(1));
scenario.Add(new CountWithValueCommand(1,ActionEnum.Add,1));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new WaitCommand(3));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new SkipIfCommand(1,OperatorEnum.SmallerThan,10));
scenario.Add(new JumpCommand(2));

byte[] compiledData = scenario.Compile();
</code></pre>

<p>The graphical designer abstracts all this from the user and allows
him (or her) to simply drag en drop composites onto the designer surface.
(Composites can group commands so we can provide building blocks for returning tasks)</p>

<p>Recently our customer came to us and said, ""well the designer is really cool,
but we have some people who would rather have some kind of programming language,
just something simple.""</p>

<p>(Simple to them of course)</p>

<p>I would very much like to provide them with a simple language,
that can call various commmands and also replace SkipIfCommand with
a nicer structure, etc...</p>

<p>I have no idea where to start or what my options are (without breaking what we have)</p>

<p>I have heard about people embedding languages such as Python,
people writing their own language an parsers, etc...</p>

<p>Any suggestions?</p>

<p>PS: Users only work with composites, never with commands.
    Composites are loaded dynamically at runtime (along with their graphical designer)
    and may be provided by third parties in seperate assemblies.</p>
","<p>Here's a Pythonic solution for building a DSL that you can use to compile and create byte code arrays.</p>

<ol>
<li><p>Write a simple module that makes your C# structures available to Python.  The goal is to define each C# class that users are allowed to work with (Composites or Commands or whatever) as a Python class.</p>

<p>Usually, this involves implementing a minimal set of methods with different conversions from C# types to native Python types and vice versa.</p></li>
<li><p>Write some nice demos showing how to use these Python class definitions to create their scripts.  You should be able to create things like this in Python.</p>

<pre><code>import * from someInterfaceModule
scenario= Scenario(
    Delay(1),
    Repeat( Range(10),
        DirectPower( 23, False, 150),
        Wait(3),
        DirectPower( 23, False, 150)
    )
)
scenario.compile()
</code></pre></li>
</ol>

<p>These are relatively simple classes to define.  Each class here be reasonably easy to implement as Python modules that directly call your base C# modules.</p>

<p>The syntax is pure Python with no additional parsing or lexical scanning required.</p>
"
601,296270,5,4,python,Which is more efficient in Python: standard imports or contextual imports?,"<p>I apologize in advance if this question seems remedial.</p>

<p>Which would be considered more efficient in Python:</p>

<p><strong>Standard import</strong></p>

<pre><code>import logging

try:
  ...some code...
exception Exception, e:
  logging.error(e)
</code></pre>

<p>...or...</p>

<p><strong>Contextual import</strong></p>

<pre><code>try:
  ...some code...
exception Exception, e:
  import logging
  logging.error(e)
</code></pre>
","<p>Contextual imports are technically more efficient, but I think they can create other problems.</p>

<p>Later, if you want to add a similar except clause, you now have two places to maintain the same block of code. You also now have the problem of testing the exception, to make sure that the first import doesn't cause any unforeseen issues in your code.</p>
"
559,275980,0,4,python,import mechanize module to python script,"<p>I tried to import mechanize module to my python script like this,</p>

<p>from mechanize import Browser</p>

<p>But, Google appengine throws HTTP 500 when accessing my script.</p>

<p>To make things more clear, Let me give you the snapshot of my package structure,</p>

<pre><code>root
 ....mechanize(where all the mechanize related files there)
 ....main.py
 ....app.yaml
 ....image
 ....script
</code></pre>

<p>Can anyone help me out to resolve this issue?</p>

<p>Thanks,
Ponmalar</p>
","<p>When GAE throws a 500, you can see the actual error in the logs on your admin console. If that doesn't help, paste it here and we'll help further.</p>

<p>Also, does it work on the dev_appserver?</p>
"
1045,521710,5,4,python,How can I get only class variables?,"<p>I have this class definition:</p>

<pre><code>class cols:
    name = 'name'
    size = 'size'
    date = 'date'
    @classmethod
    def foo(cls):
        print ""This is a class method""
</code></pre>

<p>With __dict__ I get all class attributes (members and variables). Also there are the ""Internal attributes"" too (like __main__). How can I get only the class variables without instantiation?</p>
","<p>I wouldn't know a straightforward way, especially since from the interpreter's POV, there is not that much of a difference between a method of a class and any other variable (methods have descriptors, but that's it...).</p>

<p>So when you only want non-callable class members, you have to fiddle around a little:</p>

<pre><code>&gt;&gt;&gt; class cols:
...     name = ""name""
...     @classmethod
...     def foo(cls): pass

&gt;&gt;&gt; import inspect
&gt;&gt;&gt; def get_vars(cls):
...     return [name for name, obj in cls.__dict__.iteritems()
                if not name.startswith(""__"") and not inspect.isroutine(obj)]
&gt;&gt;&gt; get_vars(cols)
['name']
</code></pre>
"
561,275980,0,4,python,import mechanize module to python script,"<p>I tried to import mechanize module to my python script like this,</p>

<p>from mechanize import Browser</p>

<p>But, Google appengine throws HTTP 500 when accessing my script.</p>

<p>To make things more clear, Let me give you the snapshot of my package structure,</p>

<pre><code>root
 ....mechanize(where all the mechanize related files there)
 ....main.py
 ....app.yaml
 ....image
 ....script
</code></pre>

<p>Can anyone help me out to resolve this issue?</p>

<p>Thanks,
Ponmalar</p>
","<p>Thanks All for the prompt reply.</p>

<p>Here is the log content got from the GAE,</p>

<p>: No module named ClientForm
Traceback (most recent call last):
  File ""/base/data/home/apps/seoapp/1.28/main.py"", line 10, in 
    import mechanize
  File ""/base/data/home/apps/seoapp/1.28/mechanize/<strong>init</strong>.py"", line 85, in 
    from _mechanize import <strong>version</strong>
  File ""/base/data/home/apps/seoapp/1.28/mechanize/_mechanize.py"", line 15, in 
    from _useragent import UserAgentBase
  File ""/base/data/home/apps/seoapp/1.28/mechanize/_useragent.py"", line 16, in 
    import _opener
  File ""/base/data/home/apps/seoapp/1.28/mechanize/_opener.py"", line 23, in 
    import _http
  File ""/base/data/home/apps/seoapp/1.28/mechanize/_http.py"", line 22, in 
    from _html import unescape, unescape_charref
  File ""/base/data/home/apps/seoapp/1.28/mechanize/_html.py"", line 12, in 
    import sgmllib, ClientForm</p>
"
603,296270,3,4,python,Which is more efficient in Python: standard imports or contextual imports?,"<p>I apologize in advance if this question seems remedial.</p>

<p>Which would be considered more efficient in Python:</p>

<p><strong>Standard import</strong></p>

<pre><code>import logging

try:
  ...some code...
exception Exception, e:
  logging.error(e)
</code></pre>

<p>...or...</p>

<p><strong>Contextual import</strong></p>

<pre><code>try:
  ...some code...
exception Exception, e:
  import logging
  logging.error(e)
</code></pre>
","<p>This is a microoptimization.  Don't worry about it.</p>
"
640,324980,4,4,python,How do I determine if an email is Base64 encoded?,"<p>I am having difficulty determining if the body of a text email message is base64 encoded.
if it is then use this line of code;
making use of jython 2.2.1</p>

<pre><code>dirty=base64.decodestring(dirty)
</code></pre>

<p>else continue as normal.</p>

<p>This is the code I have atm. What line of code will allow me to extract this from the email:   </p>

<p>""Content-Transfer-Encoding: base64""   </p>

<pre><code>import email, email.Message
import base64

def _get_email_body(self):
    try:
        parts=self._email.get_payload()
        check=parts[0].get_content_type()
        if check==""text/plain"":
            part=parts[0].get_payload()
            enc = part[0]['Content-Transfer-Encoding']
            if enc == ""base64"":
                dirty=base64.decodestring(dirty)
        elif check==""multipart/alternative"":
            part=parts[0].get_payload()
            enc = part[0]['Content-Transfer-Encoding']
            if part[0].get_content_type()==""text/plain"":
                dirty=part[0].get_payload()
                if enc == ""base64"":
                    dirty=base64.decodestring(dirty)
            else:
                return ""cannot obtain the body of the email""
        else:
            return ""cannot obtain the body of the email""
        return dirty
    except:
        raise
</code></pre>

<p>OKAY this code works now! thanks all</p>
","<p>Try:</p>

<pre><code>enc = msg['Content-Transfer-Encoding']
</code></pre>

<p>It's a header so you won't be able to get it looking at the body.  You should be able to get at the same place you find out the Subject.</p>
"
587,294520,7,4,python,What are some techniques for code generation?,"<p>I'm generating C++ code, and it seems like it's going to get very messy, even my simple generating classes already have tons of special cases.  Here is the code as it stands now: <a href=""http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp"" rel=""nofollow"">http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp</a> .</p>
","<p>One technique I've used for code generation is to not worry at all about formatting in the code generator. Then, as a next step after generating the code, run it through <a href=""http://www.gnu.org/software/indent/""><code>indent</code></a> to format it reasonably so you can read (and more importantly, debug) it. </p>
"
586,294520,8,4,python,What are some techniques for code generation?,"<p>I'm generating C++ code, and it seems like it's going to get very messy, even my simple generating classes already have tons of special cases.  Here is the code as it stands now: <a href=""http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp"" rel=""nofollow"">http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp</a> .</p>
","<p>I wrote <a href=""http://nedbatchelder.com/code/cog/index.html"">Cog</a> partly to generate C++ code from an XML data schema.  It lets you use Python code embedded in C++ source files to generate C++ source.</p>
"
588,294520,4,4,python,What are some techniques for code generation?,"<p>I'm generating C++ code, and it seems like it's going to get very messy, even my simple generating classes already have tons of special cases.  Here is the code as it stands now: <a href=""http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp"" rel=""nofollow"">http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp</a> .</p>
","<p>See <a href=""http://homepage.mac.com/s_lott/iblog/architecture/C20071019092637/E20080830091128/index.html"" rel=""nofollow"">Tooling to Build Test Cases</a>.</p>

<p>It's not clear what your problem is.</p>

<p>If you question is ""how do I handle all the special cases in my generating classes?"" then here's some advice.  If your question is something else, then update your question.</p>

<ol>
<li><p>Use a template generator.  <a href=""http://www.makotemplates.org/"" rel=""nofollow"">Mako</a>, for example, will make your life simpler.</p>

<p>Write an example of your result.  Replace parts with <code>${thing}</code> placeholders.  Since you started with something that worked, turning it into a template is easy.</p></li>
<li><p>When generating code in another language, you need to have all of the class definitions in other other language designed for flexible assembly.  You want to generate as little fresh, new code as possible.  You want to tweak and customize a bit, but you don't want to generate a lot of stuff from scratch.</p></li>
<li><p>Special cases are best handled with ordinary polymorphism.  Separate subclasses of a common superclass can implement the various exceptions and special cases.  Really complex situations are handled well by the <strong>Strategy</strong> design pattern.  </p>

<p>In essence, you have Python classes that represent the real-world objects.  Those classes have attributes that can be fit into a C++ template to generate the C++ version of those objects. </p></li>
</ol>
"
614,303360,1,4,python,Is there a better StringCollection editor for use in PropertyGrids?,"<p>I'm making heavy use of PropertySheets in my application framework's configuration editor.  I like them a lot because it's pretty easy to work with them (once you learn how) and make the editing bulletproof.</p>

<p>One of the things that I'm storing in my configuration are Python scripts.  It's possible to edit a Python script in a StringCollection editor, which is what I've been using, but there's a long distance between ""possible"" and ""useable.""  I'd like to have an editor that actually supported resizeable and monospace fonts, preserved blank lines, and - hey, let's go crazy with the wishlist - did syntax coloring.</p>

<p>I can certainly write this if I really have to, but I'd prefer not to.</p>

<p>I've poked around on the Google and can't find anything like what I'm describing, so I thought I'd ask here.  Is this a solved problem?  Has anyone out there already taken a crack at building a better editor?</p>
","<p>You would need to write your own type editor. You can think of this as a user control, in that when you write your own type editor you are providing the UI controls that appear when the property grid edits the property. As such, you can create a type editor that does anything, which means if you have a third-party editor control you can include it as part of type editor.</p>

<p>Some resources to get you started:</p>

<ul>
<li><a href=""http://msdn.microsoft.com/en-us/library/ms171839.aspx"" rel=""nofollow"">User Interface Type Editors Overview</a></li>
<li><a href=""http://msdn.microsoft.com/en-us/library/ms171840.aspx"" rel=""nofollow"">Walkthrough: Implementing a UI Type Editor</a></li>
<li><a href=""http://msdn.microsoft.com/en-us/library/system.drawing.design.uitypeeditor.aspx"" rel=""nofollow"">UITypeEditor Class</a></li>
<li><a href=""http://msdn.microsoft.com/en-us/library/53c49eck.aspx"" rel=""nofollow"">How to: Implement a UI Type Editor</a></li>
<li><a href=""http://www.codeproject.com/KB/miscctrl/UITypeEditorsDemo.aspx"" rel=""nofollow"">Rich Design Time Editing with UITypeEditors (VB.NET)</a></li>
<li><a href=""http://www.codeproject.com/KB/cpp/DropDownPropertyEditor.aspx"" rel=""nofollow"">Creating Property Editors in DesignTime for VS.Net Easily (UITypeEditor Helper)</a></li>
<li><a href=""http://www.codeproject.com/KB/tabs/PropertyGrid.aspx"" rel=""nofollow"">Using PropertyGrid</a></li>
</ul>
"
589,294520,0,4,python,What are some techniques for code generation?,"<p>I'm generating C++ code, and it seems like it's going to get very messy, even my simple generating classes already have tons of special cases.  Here is the code as it stands now: <a href=""http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp"" rel=""nofollow"">http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp</a> .</p>
","<p>I have a code generation system and one of the best choices I have taken with it is to put much of the resultant program in non generated code, e.g. a library/runtime. Using templates works well also. Complex template systems may be hard to work with by hand, but your not working with them by hand so leverage that. </p>
"
590,294520,0,4,python,What are some techniques for code generation?,"<p>I'm generating C++ code, and it seems like it's going to get very messy, even my simple generating classes already have tons of special cases.  Here is the code as it stands now: <a href=""http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp"" rel=""nofollow"">http://github.com/alex/alex-s-language/tree/local%2Fcpp-generation/alexs_lang/cpp</a> .</p>
","<p>It would actually be just recursing straight down, except I need to pull all function declarations out and put them elsewhere, and the fact that for all function calls I need to build a vector of all of the arguments, and then pass that to the function, since C++ doesn't have a syntax for vectors.</p>
"
955,469950,12,4,python,problem using an instance in a with_statement,"<p>I've recently started to learn python , and I reached the <strong>with</strong> statement . I've tried to use it with a class instance , but I think I'm doing something wrong . Here is the code :</p>

<pre><code>
from __future__ import with_statement
import pdb

class Geo:

  def __init__(self,text):
    self.text = text

  def __enter__(self):
    print ""entering""

  def __exit__(self,exception_type,exception_value,exception_traceback):
    print ""exiting""

  def ok(self):
    print self.text

  def __get(self):
    return self.text


with Geo(""line"") as g :
  g.ok()
</code></pre>

<p>The thing is that when the interpreter reaches the <strong>ok</strong> method inside the with statement , the following exception is raised :</p>

<pre><code>
Traceback (most recent call last):
  File ""dec.py"", line 23, in 
    g.ok()
AttributeError: 'NoneType' object has no attribute 'ok'
</code></pre>

<p>Why does the g object have the type NoneType ? How can I use an instance with the <strong>with</strong> statement ?</p>
","<p>Your <code>__enter__</code> method needs to return the object that should be used for the ""<code>as g</code>"" part of the with statement.  See the <a href=""http://docs.python.org/reference/compound_stmts.html#with"">documentation</a>, where it states:</p>

<ul>
<li>If a target was included in the with statement, the return value from <code>__enter__()</code> is assigned to it.</li>
</ul>

<p>Currently, it has no return statement, so g gets bound to <code>None</code> (the default return value)</p>
"
604,296270,1,4,python,Which is more efficient in Python: standard imports or contextual imports?,"<p>I apologize in advance if this question seems remedial.</p>

<p>Which would be considered more efficient in Python:</p>

<p><strong>Standard import</strong></p>

<pre><code>import logging

try:
  ...some code...
exception Exception, e:
  logging.error(e)
</code></pre>

<p>...or...</p>

<p><strong>Contextual import</strong></p>

<pre><code>try:
  ...some code...
exception Exception, e:
  import logging
  logging.error(e)
</code></pre>
","<p>The performance differences between these two approaches will be very small in practice.  I have never seen a case where this has made a difference that was noticeable. </p>

<p>It is worth remembering that the python interpreter will only ever do the work of parsing the module once when it is 1st imported.</p>

<p>In general you will end up with more maintainable code it you just import all the modules you need at the top of the file.</p>
"
662,347010,2,4,python,Questions for python->scheme conversion,"<p>I currently am trying to write a Python program using scheme semantics so I can later translate it into Scheme without relying on a lot of Pythonic stuff.</p>

<p>I'm trying solve the sliding puzzle problem (where you have 9 slots and 8 tiles arranged in a square) using a*, depth first, and breadth first search algorithm.  I did this ~11 years ago in some AI class in Lisp, but basically at the time I had no idea about lisp, I hated it with all my heart, and only in retrospect do I realize I was programming ""C"" in Lisp.  The prof didn't help in this matter.</p>

<p>I have a python function which can swap two tiles easily:  </p>

<pre><code>def swap(p, (r1, c1), (r2, c2)):  
    # Swaps *any* two locations and returns new configuration  
    # Does not concern itself with zero location, etc  
    # Not sure how to do this functionally  
    p_p = p[:]  
    temp = p_p[r1][c1]  
    p_p[r1][c1] = p_p[r2][c2]  
    p_p[r2][c2] = temp  
    return p_p  
</code></pre>

<p>I'd like to turn this into something you might find in SICP, avoiding side effects, etc.  </p>

<p>But this brings up a question.  Everything I read in SICP is loops via recursion.  I didn't see anything in accessing arrays/vectors/lists in constant time.  I can imagine a loopish/recursive way to read an element, but I find it harder to imagine a way to create a new list with a certain element changed, without invoking side-effect producing things like set!, and without resorting to crazy if/then/else clauses concerning which element should be changed.  This of course gets more confusing when considering a 2d array.  In this case the solution with python is obvious because of its native support for multidimensional arrays.</p>

<p>In C/C++/Python/Matlab/Lua/anything else, accessing lists/arrays via the [i] syntax is easy, and directly translates to a hardware-oriented pointer lookup somewhere underneath.  I don't understand how scheme does this, given the atomic operations defined in the SICP version of scheme, which all seem very loop-and-search oriented.  How do the vector and list array access functions work to get constant time access?  (I'm a total newbie here, so I'm not ever sure what functions I'd be talking about).  Is there a C or Assembly library someplace which is secretly being accessed?  Are there any inherent constant-time semantics in scheme which could be used for list/array/vector access, and which would allow me a guilt-free way of using that idiom in Python for the moment?  </p>

<p>How would can I rewrite the above function in python using Schemish semantics?  How would I rewrite the above function in Scheme?</p>
","<p>I wrote an 8-puzzle solver in Lisp about a year ago. I just used a list of 3 lists, each sublist with 3 elements being the numbers. It's not constant time, but it is portable.</p>

<p>Anyways, if you are really interested in doing this functionally (Scheme doesn't require you to) what is easiest to do is to create some helper functions that will get a specific value given row/col and 'set' a value given row/col. Instead of modifying the original data structure, the set operation will construct the new state based on the old state.</p>

<p>Then you can write a swap operation based on these get and set operations. Here's what I wrote about a year ago in Common Lisp, but it's easily convertible to Scheme:</p>

<pre><code>; getval
;
; This function takes a position (r . c) where and returns the corresponding
; number in the 8-puzzle state. For example, if you wanted (1 . 2) from
; ((1 2 3) (4 5 6) (7 8 9)), the value would be 6. The r and c values begin
; at 0.
;
; parameters:  pos    The position to get
;              state  The 8-puzzle state
; returns:     The value at pos in state
(defun getval (pos state)
  (if (null state) 'no-value
      (if (= 0 (car pos))
      (if (= 0 (cdr pos))
          (caar state)
          (getval (cons (car pos) (- (cdr pos) 1)) (list (cdar state))))
      (getval (cons (- (car pos) 1) (cdr pos)) (cdr state)))))

; setval
;
; This function returns a state where the value at pos is replaced by val.
; Like getval, this function is zero-based. Accessing beyond the size of
; the state is undefined (and probably broken)
;
; parameters:  pos    Position to set
;              val    Value to set
;              state  State to modify
; returns:     New state where pos is val
(defun setval (pos val state)
  (if (null state) '()
      (if (= 0 (car pos))
      (if (= 0 (cdr pos))
          (cons (cons val (cdar state)) (cdr state))
          (let ((temp (setval (cons (car pos) (- (cdr pos) 1)) val
    			  (cons (cdar state) (cdr state)))))
    	(cons (cons (caar state) (car temp)) (cdr temp))))
      (cons (car state) (setval (cons (- (car pos) 1) (cdr pos)) val (cdr state))))))

; state-swap
;
; This function takes a state and two positions and returns a new state with
; the values in those two positions swapped.
;
; parameters:  state  State to swap within
;              a      Position to swap with b
;              b      Position to swap with a
; return:      State with a swapped with b
(defun state-swap (state a b)
  (let ((olda (getval a state)) (oldb (getval b state)))
    (setval a oldb (setval b olda state))))
</code></pre>
"
663,347010,4,4,python,Questions for python->scheme conversion,"<p>I currently am trying to write a Python program using scheme semantics so I can later translate it into Scheme without relying on a lot of Pythonic stuff.</p>

<p>I'm trying solve the sliding puzzle problem (where you have 9 slots and 8 tiles arranged in a square) using a*, depth first, and breadth first search algorithm.  I did this ~11 years ago in some AI class in Lisp, but basically at the time I had no idea about lisp, I hated it with all my heart, and only in retrospect do I realize I was programming ""C"" in Lisp.  The prof didn't help in this matter.</p>

<p>I have a python function which can swap two tiles easily:  </p>

<pre><code>def swap(p, (r1, c1), (r2, c2)):  
    # Swaps *any* two locations and returns new configuration  
    # Does not concern itself with zero location, etc  
    # Not sure how to do this functionally  
    p_p = p[:]  
    temp = p_p[r1][c1]  
    p_p[r1][c1] = p_p[r2][c2]  
    p_p[r2][c2] = temp  
    return p_p  
</code></pre>

<p>I'd like to turn this into something you might find in SICP, avoiding side effects, etc.  </p>

<p>But this brings up a question.  Everything I read in SICP is loops via recursion.  I didn't see anything in accessing arrays/vectors/lists in constant time.  I can imagine a loopish/recursive way to read an element, but I find it harder to imagine a way to create a new list with a certain element changed, without invoking side-effect producing things like set!, and without resorting to crazy if/then/else clauses concerning which element should be changed.  This of course gets more confusing when considering a 2d array.  In this case the solution with python is obvious because of its native support for multidimensional arrays.</p>

<p>In C/C++/Python/Matlab/Lua/anything else, accessing lists/arrays via the [i] syntax is easy, and directly translates to a hardware-oriented pointer lookup somewhere underneath.  I don't understand how scheme does this, given the atomic operations defined in the SICP version of scheme, which all seem very loop-and-search oriented.  How do the vector and list array access functions work to get constant time access?  (I'm a total newbie here, so I'm not ever sure what functions I'd be talking about).  Is there a C or Assembly library someplace which is secretly being accessed?  Are there any inherent constant-time semantics in scheme which could be used for list/array/vector access, and which would allow me a guilt-free way of using that idiom in Python for the moment?  </p>

<p>How would can I rewrite the above function in python using Schemish semantics?  How would I rewrite the above function in Scheme?</p>
","<p>You identified that your initial problem was trying to write C semantics in Lisp. Is it not repeating the mistake to try to write scheme semantics in python? I always try to learn language X as a paradigm as much as a language and write in the most x-ish way.</p>

<p>It might be justifiable if this was a business app you knew was going to be migrated, but otherwise I'd just write it in scheme to begin with.</p>
"
562,275980,0,4,python,import mechanize module to python script,"<p>I tried to import mechanize module to my python script like this,</p>

<p>from mechanize import Browser</p>

<p>But, Google appengine throws HTTP 500 when accessing my script.</p>

<p>To make things more clear, Let me give you the snapshot of my package structure,</p>

<pre><code>root
 ....mechanize(where all the mechanize related files there)
 ....main.py
 ....app.yaml
 ....image
 ....script
</code></pre>

<p>Can anyone help me out to resolve this issue?</p>

<p>Thanks,
Ponmalar</p>
","<p>I can finally manage with GAE's urlfetch instead of mechanizer. I can able to retrieve the response using the above said utility.</p>

<p>Thanks all for the great timely help.</p>

<p>^Ponmalar</p>
"
1044,521710,1,4,python,How can I get only class variables?,"<p>I have this class definition:</p>

<pre><code>class cols:
    name = 'name'
    size = 'size'
    date = 'date'
    @classmethod
    def foo(cls):
        print ""This is a class method""
</code></pre>

<p>With __dict__ I get all class attributes (members and variables). Also there are the ""Internal attributes"" too (like __main__). How can I get only the class variables without instantiation?</p>
","<pre><code>import inspect
inspect.getmembers(cols)
</code></pre>

<p>There are a lot if things you can do with the inspect module: <a href=""http://lfw.org/python/inspect.html"" rel=""nofollow"">http://lfw.org/python/inspect.html</a></p>
"
665,347010,1,4,python,Questions for python->scheme conversion,"<p>I currently am trying to write a Python program using scheme semantics so I can later translate it into Scheme without relying on a lot of Pythonic stuff.</p>

<p>I'm trying solve the sliding puzzle problem (where you have 9 slots and 8 tiles arranged in a square) using a*, depth first, and breadth first search algorithm.  I did this ~11 years ago in some AI class in Lisp, but basically at the time I had no idea about lisp, I hated it with all my heart, and only in retrospect do I realize I was programming ""C"" in Lisp.  The prof didn't help in this matter.</p>

<p>I have a python function which can swap two tiles easily:  </p>

<pre><code>def swap(p, (r1, c1), (r2, c2)):  
    # Swaps *any* two locations and returns new configuration  
    # Does not concern itself with zero location, etc  
    # Not sure how to do this functionally  
    p_p = p[:]  
    temp = p_p[r1][c1]  
    p_p[r1][c1] = p_p[r2][c2]  
    p_p[r2][c2] = temp  
    return p_p  
</code></pre>

<p>I'd like to turn this into something you might find in SICP, avoiding side effects, etc.  </p>

<p>But this brings up a question.  Everything I read in SICP is loops via recursion.  I didn't see anything in accessing arrays/vectors/lists in constant time.  I can imagine a loopish/recursive way to read an element, but I find it harder to imagine a way to create a new list with a certain element changed, without invoking side-effect producing things like set!, and without resorting to crazy if/then/else clauses concerning which element should be changed.  This of course gets more confusing when considering a 2d array.  In this case the solution with python is obvious because of its native support for multidimensional arrays.</p>

<p>In C/C++/Python/Matlab/Lua/anything else, accessing lists/arrays via the [i] syntax is easy, and directly translates to a hardware-oriented pointer lookup somewhere underneath.  I don't understand how scheme does this, given the atomic operations defined in the SICP version of scheme, which all seem very loop-and-search oriented.  How do the vector and list array access functions work to get constant time access?  (I'm a total newbie here, so I'm not ever sure what functions I'd be talking about).  Is there a C or Assembly library someplace which is secretly being accessed?  Are there any inherent constant-time semantics in scheme which could be used for list/array/vector access, and which would allow me a guilt-free way of using that idiom in Python for the moment?  </p>

<p>How would can I rewrite the above function in python using Schemish semantics?  How would I rewrite the above function in Scheme?</p>
","<p>Here's one way to achieve it.  Recreate the list using a function which will apply the appropriate mapping.</p>

<pre><code>def swap(p, (r1,c1), (r2,c2)):
    def getitem(r,c):
        if (r,c) == (r1,c1): return p[r2][c2]
        elif (r,c) == (r2,c2): return p[r1][c1]
        return p[r][c]
    return [ [getitem(r,c) for c in range(len(p[0]))] for r in range(len(p)) ]
</code></pre>

<p>You could even take this a step further and make the function be the actual interface, where each swap merely returns a function that does the appropriate conversions before passing through to the function below.  Not particularly performant, but a fairly simple functional approach that dispenses with nasty mutable datastructures:</p>

<pre><code>def swap(f, (r1,c1), (r2,c2)):
    def getitem(r,c):
        if (r,c) == (r1,c1): return f(r2,c2)
        elif (r,c) == (r2,c2): return f(r1,c1)
        return f(r,c)
   return getitem

l=[ [1,2,3], [4,5,6], [7,8,0]]
f=lambda r,c: l[r][c]    # Initial accessor function
f=swap(f, (2,1), (2,2))  # 8 right
f=swap(f, (1,1), (2,1))  # 5 down
print [[f(x,y) for y in range(3)] for x in range(3)]
# Gives: [[1, 2, 3], [4, 0, 6], [7, 5, 8]]
</code></pre>
"
602,296270,3,4,python,Which is more efficient in Python: standard imports or contextual imports?,"<p>I apologize in advance if this question seems remedial.</p>

<p>Which would be considered more efficient in Python:</p>

<p><strong>Standard import</strong></p>

<pre><code>import logging

try:
  ...some code...
exception Exception, e:
  logging.error(e)
</code></pre>

<p>...or...</p>

<p><strong>Contextual import</strong></p>

<pre><code>try:
  ...some code...
exception Exception, e:
  import logging
  logging.error(e)
</code></pre>
","<p>It depends on how often you execute the contextual import.</p>

<p>An <code>import</code> statement requires checking to see if the module exists, which has a non-zero cost.</p>

<p>Lots of contextual imports will be a performance penalty for no real gain in simplicity.  There's very little benefit, unless you are really sure that the import will be used rarely or never.</p>

<p>Contextual imports inside <code>if</code> statements make sense, especially when it's done at the top level, which means precisely once. </p>

<pre><code>if someConfig:
    import this as bigDeal
else:
    import that as bigDeal
</code></pre>
"
664,347010,0,4,python,Questions for python->scheme conversion,"<p>I currently am trying to write a Python program using scheme semantics so I can later translate it into Scheme without relying on a lot of Pythonic stuff.</p>

<p>I'm trying solve the sliding puzzle problem (where you have 9 slots and 8 tiles arranged in a square) using a*, depth first, and breadth first search algorithm.  I did this ~11 years ago in some AI class in Lisp, but basically at the time I had no idea about lisp, I hated it with all my heart, and only in retrospect do I realize I was programming ""C"" in Lisp.  The prof didn't help in this matter.</p>

<p>I have a python function which can swap two tiles easily:  </p>

<pre><code>def swap(p, (r1, c1), (r2, c2)):  
    # Swaps *any* two locations and returns new configuration  
    # Does not concern itself with zero location, etc  
    # Not sure how to do this functionally  
    p_p = p[:]  
    temp = p_p[r1][c1]  
    p_p[r1][c1] = p_p[r2][c2]  
    p_p[r2][c2] = temp  
    return p_p  
</code></pre>

<p>I'd like to turn this into something you might find in SICP, avoiding side effects, etc.  </p>

<p>But this brings up a question.  Everything I read in SICP is loops via recursion.  I didn't see anything in accessing arrays/vectors/lists in constant time.  I can imagine a loopish/recursive way to read an element, but I find it harder to imagine a way to create a new list with a certain element changed, without invoking side-effect producing things like set!, and without resorting to crazy if/then/else clauses concerning which element should be changed.  This of course gets more confusing when considering a 2d array.  In this case the solution with python is obvious because of its native support for multidimensional arrays.</p>

<p>In C/C++/Python/Matlab/Lua/anything else, accessing lists/arrays via the [i] syntax is easy, and directly translates to a hardware-oriented pointer lookup somewhere underneath.  I don't understand how scheme does this, given the atomic operations defined in the SICP version of scheme, which all seem very loop-and-search oriented.  How do the vector and list array access functions work to get constant time access?  (I'm a total newbie here, so I'm not ever sure what functions I'd be talking about).  Is there a C or Assembly library someplace which is secretly being accessed?  Are there any inherent constant-time semantics in scheme which could be used for list/array/vector access, and which would allow me a guilt-free way of using that idiom in Python for the moment?  </p>

<p>How would can I rewrite the above function in python using Schemish semantics?  How would I rewrite the above function in Scheme?</p>
","<p>Cool, thanks for the lisp code.  I'll need to study it to make sure I get it.</p>

<p>As for the first answer, the first time I was ""writing c"" in lisp because that's the only way I knew how to program and didn't have a clue why anyone would use lisp.  This time around, I've been playing around with scheme, but wanted to use python so if I got stuck on something I could ""cheat"" and use something pythonish, then while waiting for usenet answers go on to the next part of the problem.</p>
"
529,263550,2,4,python,"We have a graphical designer, now they want a text based designer. Suggestions?","<p>I'm sorry I could not think of a better title.</p>

<p>The problem is the following:</p>

<p>For our customer we have created (as part of a larger application) a
graphical designer which they can use to build ""scenario's"".</p>

<p>These scenario's consist of ""Composites"" which in turn consist
of ""Commands"". These command objects all derive from CommandBase and
implement an interface called ICompilable.</p>

<p>The scenario class also implements ICompilable. When Compile() is called
on a command an array of bytes is returned which can then be send to the device
for which they are intended (can't disclose to much info about that hardware, sorry)</p>

<p>Just to give you an idea:</p>

<pre><code>var scenario = new Scenario();

scenario.Add(new DelayCommand(1));
scenario.Add(new CountWithValueCommand(1,ActionEnum.Add,1));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new WaitCommand(3));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new SkipIfCommand(1,OperatorEnum.SmallerThan,10));
scenario.Add(new JumpCommand(2));

byte[] compiledData = scenario.Compile();
</code></pre>

<p>The graphical designer abstracts all this from the user and allows
him (or her) to simply drag en drop composites onto the designer surface.
(Composites can group commands so we can provide building blocks for returning tasks)</p>

<p>Recently our customer came to us and said, ""well the designer is really cool,
but we have some people who would rather have some kind of programming language,
just something simple.""</p>

<p>(Simple to them of course)</p>

<p>I would very much like to provide them with a simple language,
that can call various commmands and also replace SkipIfCommand with
a nicer structure, etc...</p>

<p>I have no idea where to start or what my options are (without breaking what we have)</p>

<p>I have heard about people embedding languages such as Python,
people writing their own language an parsers, etc...</p>

<p>Any suggestions?</p>

<p>PS: Users only work with composites, never with commands.
    Composites are loaded dynamically at runtime (along with their graphical designer)
    and may be provided by third parties in seperate assemblies.</p>
","<p>This looks like a perfect scenario for a simple DSL. See <a href=""http://msdn.microsoft.com/en-us/library/bb126235(VS.80).aspx"" rel=""nofollow"">http://msdn.microsoft.com/en-us/library/bb126235(VS.80).aspx</a> for some information.</p>

<p>You could also use a scripting language such as lua.Net. </p>
"
740,375820,0,4,python,How do I create a wx.Image object from in-memory data?,"<p>I'm writing a GUI application in Python using wxPython and I want to display an image in a static control (<code>wx.StaticBitmap</code>).</p>

<p>I can use <a href=""http://www.wxpython.org/docs/api/wx-module.html#ImageFromStream"" rel=""nofollow""><code>wx.ImageFromStream</code></a> to load an image from a file, and this works OK:</p>

<pre><code>static_bitmap = wx.StaticBitmap(parent, wx.ID_ANY)
f = open(""test.jpg"", ""rb"")
image = wx.ImageFromStream(f)
bitmap = wx.BitmapFromImage(image)
static_bitmap.SetBitmap(bitmap)
</code></pre>

<p>But, what I really want to be able to do is create the image from data in memory. So, if I write</p>

<pre><code>f = open(""test.jpg"", ""rb"")
data = f.read()
</code></pre>

<p>how can I create a <code>wx.Image</code> object from <code>data</code>?</p>

<p>Thanks for your help!</p>
","<p>Since in Python you use Duck Typing you can write your own stream class and hand an instance of that class to ImageFromStream. I think you only need to implement the read method and make it return your data.</p>
"
735,374480,4,4,python,Where is a python real project to be used as example for the unit-test part?,"<p>I'm looking for a python project to use as example to copy the design of the unit test parts.</p>

<p>The project should have these features:</p>

<ol>
<li>its code is almost fully unit tested</li>
<li>the code is distributed in many packages, there are more that one level of packages </li>
<li>all the test can be run with a single command, for example with <code>python test.py</code></li>
</ol>

<p>I need that the project should use the same test convention for all the code contained. I saw the whole python project but the the various packages are tested with different conventions. For example the setuptools packages uses an ad hoc adaption of unittest library while the other packages doesn't. </p>

<p>I need that the project doesn't use a ad-hoc or a highly customized testing framework, because I want reuse its test architecture in my project.</p>
","<p><a href=""http://www.djangoproject.com/"" rel=""nofollow"">Django</a> is a clean project that has a nice range of unit testing.</p>

<p><a href=""http://docs.djangoproject.com/en/dev/topics/testing/#topics-testing"" rel=""nofollow"">Have a look</a> at how they propose you test your own projects.</p>

<p><a href=""http://code.djangoproject.com/browser/django/trunk/tests"" rel=""nofollow"">Have a look</a> at the unit testing code of the framework itself.</p>
"
530,263550,2,4,python,"We have a graphical designer, now they want a text based designer. Suggestions?","<p>I'm sorry I could not think of a better title.</p>

<p>The problem is the following:</p>

<p>For our customer we have created (as part of a larger application) a
graphical designer which they can use to build ""scenario's"".</p>

<p>These scenario's consist of ""Composites"" which in turn consist
of ""Commands"". These command objects all derive from CommandBase and
implement an interface called ICompilable.</p>

<p>The scenario class also implements ICompilable. When Compile() is called
on a command an array of bytes is returned which can then be send to the device
for which they are intended (can't disclose to much info about that hardware, sorry)</p>

<p>Just to give you an idea:</p>

<pre><code>var scenario = new Scenario();

scenario.Add(new DelayCommand(1));
scenario.Add(new CountWithValueCommand(1,ActionEnum.Add,1));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new WaitCommand(3));
scenario.Add(new DirectPowerCommand(23,false,150));
scenario.Add(new SkipIfCommand(1,OperatorEnum.SmallerThan,10));
scenario.Add(new JumpCommand(2));

byte[] compiledData = scenario.Compile();
</code></pre>

<p>The graphical designer abstracts all this from the user and allows
him (or her) to simply drag en drop composites onto the designer surface.
(Composites can group commands so we can provide building blocks for returning tasks)</p>

<p>Recently our customer came to us and said, ""well the designer is really cool,
but we have some people who would rather have some kind of programming language,
just something simple.""</p>

<p>(Simple to them of course)</p>

<p>I would very much like to provide them with a simple language,
that can call various commmands and also replace SkipIfCommand with
a nicer structure, etc...</p>

<p>I have no idea where to start or what my options are (without breaking what we have)</p>

<p>I have heard about people embedding languages such as Python,
people writing their own language an parsers, etc...</p>

<p>Any suggestions?</p>

<p>PS: Users only work with composites, never with commands.
    Composites are loaded dynamically at runtime (along with their graphical designer)
    and may be provided by third parties in seperate assemblies.</p>
","<p>If you really just want a dirt simple language, you want a 'recursive descent parser'.</p>

<p>For example, a language like this:</p>

<pre><code>SCENARIO MyScenario
DELAY 1
COUNT 1 ADD 1
DIRECT_POWER 23, False, 150
WAIT 3
...
END_SCENARIO
</code></pre>

<p>You might have a grammar like:</p>

<pre><code>scenario :: 'SCENARIO' label newline _cmds END_SCENARIO
cmds::  _delay or _count or _direct_power or...
delay:: 'DELAY' number
</code></pre>

<p>Which gives code like:</p>

<pre><code>def scenario():
    match_word('SCENARIO')
    scenario_name = match_label()
    emit('var scenario = new Scenario();')
    cmds()
    match_word('END_SCENARIO')
    emit('byte[] ' + scenario_name + ' = scenario.Compile();')

def delay():
    match_word('DELAY')
    length = match_number()
    emit('scenario.Add(new DelayCommand('+ length +'))')

def cmds():
    word = peek_next_word()
    if word == 'DELAY':
       delay()
    elif ...
</code></pre>
"
834,419010,0,4,python,How to raise an exception on the version number of a module,"<p>How can you raise an exception when you import a module that is less or greater than a given value for its __version__?</p>

<p>There are a lot of different ways you could do it, but I feel like there must be some really simple way that eludes me at the moment. In this case the version number is of the format x.x.x</p>
","<p>You should be using setuptools: </p>

<p>It allows you to lock the dependancies of an application, so even if multiple versions of an egg or package exist on a system only the right one will ever be used. </p>

<p>This is a better way of working: Rather than fail if the wrong version of a dependancy is present it is better to ensure that the right version is present. </p>

<p>Setuptools provides an installer which guarantees that everything required to run the application is present at install-time. It also gives you the means to select which of the many versions of a package which may be present on your PC is the one that gets loaded when you issue an import statement.</p>
"
737,375620,0,4,python,Prevent ftplib from Downloading a File in Progress?,"<p>We have a ftp system setup to monitor/download from remote ftp servers that are not under our control. The script connects to the remote ftp, and grabs the file names of files on the server, we then check to see if its something that has already been downloaded. If it hasn't been downloaded then we download the file and add it to the list.</p>

<p>We recently ran into an issue, where someone on the remote ftp side, will copy in a massive single file(>1GB) then the script will wake up see a new file and begin downloading the file that is being copied in.</p>

<p>What is the best way to check this? I was thinking of grabbing the file size waiting a few seconds checking the file size again and see if it has increased, if it hasn't then we download it. But since time is of the concern, we can't wait a few seconds for every single file set and see if it's file size has increased. </p>

<p>What would be the best way to go about this, currently everything is done via pythons ftplib, how can we do this aside from using the aforementioned method.</p>

<p>Yet again let me reiterate this, we have 0 control over the remote ftp sites.</p>

<p>Thanks.</p>

<p>UPDATE1:</p>

<p>I was thinking what if i tried to rename it... since we have full permissions on the ftp, if the file upload is in progress would the rename command fail?</p>

<p>We don't have any real options here... do we?</p>

<p>UPDATE2:
Well here's something interesting some of the ftps we tested on appear to automatically allocate the space once the transfer starts.</p>

<p>E.g. If i transfer a 200mb file to the ftp server. While the transfer is active if i connect to the ftp server and do a size while the upload is happening. It shows 200mb for the size. Even though the file is only like 10% complete.</p>

<p>Permissions also seem to be randomly set the FTP Server that comes with IIS sets the permissions AFTER the file is finished copying. While some of the other older ftp servers set it as soon as you send the file.</p>

<p>:'(</p>
","<p>As you say you have 0 control over the servers and can't make your clients post trigger files as suggested by S. Lott, you must deal with the imperfect solution and risk incomplete file transmission, perhaps by waiting for a while and compare file sizes before and after.</p>

<p>You can try to rename as you suggested, but as you have 0 control you can't be sure that the ftp-server-administrator (or their successor) doesn't change platforms or ftp servers or restricts your permissions.</p>

<p>Sorry.</p>
"
738,375620,0,4,python,Prevent ftplib from Downloading a File in Progress?,"<p>We have a ftp system setup to monitor/download from remote ftp servers that are not under our control. The script connects to the remote ftp, and grabs the file names of files on the server, we then check to see if its something that has already been downloaded. If it hasn't been downloaded then we download the file and add it to the list.</p>

<p>We recently ran into an issue, where someone on the remote ftp side, will copy in a massive single file(>1GB) then the script will wake up see a new file and begin downloading the file that is being copied in.</p>

<p>What is the best way to check this? I was thinking of grabbing the file size waiting a few seconds checking the file size again and see if it has increased, if it hasn't then we download it. But since time is of the concern, we can't wait a few seconds for every single file set and see if it's file size has increased. </p>

<p>What would be the best way to go about this, currently everything is done via pythons ftplib, how can we do this aside from using the aforementioned method.</p>

<p>Yet again let me reiterate this, we have 0 control over the remote ftp sites.</p>

<p>Thanks.</p>

<p>UPDATE1:</p>

<p>I was thinking what if i tried to rename it... since we have full permissions on the ftp, if the file upload is in progress would the rename command fail?</p>

<p>We don't have any real options here... do we?</p>

<p>UPDATE2:
Well here's something interesting some of the ftps we tested on appear to automatically allocate the space once the transfer starts.</p>

<p>E.g. If i transfer a 200mb file to the ftp server. While the transfer is active if i connect to the ftp server and do a size while the upload is happening. It shows 200mb for the size. Even though the file is only like 10% complete.</p>

<p>Permissions also seem to be randomly set the FTP Server that comes with IIS sets the permissions AFTER the file is finished copying. While some of the other older ftp servers set it as soon as you send the file.</p>

<p>:'(</p>
","<p>If you are dealing with multiple files, you could get the list of all the sizes at once, wait ten seconds, and see which are the same.  Whichever are still the same should be safe to download.</p>
"
739,375620,5,4,python,Prevent ftplib from Downloading a File in Progress?,"<p>We have a ftp system setup to monitor/download from remote ftp servers that are not under our control. The script connects to the remote ftp, and grabs the file names of files on the server, we then check to see if its something that has already been downloaded. If it hasn't been downloaded then we download the file and add it to the list.</p>

<p>We recently ran into an issue, where someone on the remote ftp side, will copy in a massive single file(>1GB) then the script will wake up see a new file and begin downloading the file that is being copied in.</p>

<p>What is the best way to check this? I was thinking of grabbing the file size waiting a few seconds checking the file size again and see if it has increased, if it hasn't then we download it. But since time is of the concern, we can't wait a few seconds for every single file set and see if it's file size has increased. </p>

<p>What would be the best way to go about this, currently everything is done via pythons ftplib, how can we do this aside from using the aforementioned method.</p>

<p>Yet again let me reiterate this, we have 0 control over the remote ftp sites.</p>

<p>Thanks.</p>

<p>UPDATE1:</p>

<p>I was thinking what if i tried to rename it... since we have full permissions on the ftp, if the file upload is in progress would the rename command fail?</p>

<p>We don't have any real options here... do we?</p>

<p>UPDATE2:
Well here's something interesting some of the ftps we tested on appear to automatically allocate the space once the transfer starts.</p>

<p>E.g. If i transfer a 200mb file to the ftp server. While the transfer is active if i connect to the ftp server and do a size while the upload is happening. It shows 200mb for the size. Even though the file is only like 10% complete.</p>

<p>Permissions also seem to be randomly set the FTP Server that comes with IIS sets the permissions AFTER the file is finished copying. While some of the other older ftp servers set it as soon as you send the file.</p>

<p>:'(</p>
","<p><strong>âDamn the torpedoes! Full speed ahead!â</strong></p>

<p>Just download the file. If it is a large file then after the download completes wait as long as is reasonable for your scenario and continue the download from the point it stopped. Repeat until there is no more stuff to download.</p>
"
351,177910,3,4,python,Accessing python egg's own metadata,"<p>I've produced a python egg using setuptools and would like to access it's metadata at runtime. I currently got working this:</p>

<pre><code>import pkg_resources
dist = pkg_resources.get_distribution(""my_project"")
print(dist.version)
</code></pre>

<p>but this would probably work incorrectly if I had multiple versions of the same egg installed. And if I have both installed egg and development version, then running this code from development version would pick up version of the installed egg. </p>

<p>So, how do I get metadata for <em>my</em> egg not some random matching egg installed on my system? </p>
","<p>I am somewhat new to Python as well, but from what I understand: </p>

<p>Although you can install multiple versions of the ""same"" egg (having the same name), only one of them will be available to any particular piece of code at runtime (based on your discovery method).  So if your egg is the one calling this code, it must have already been selected as <em>the</em> version of <code>my_project</code> for this code, and your access will be to your own version.</p>
"
352,177910,0,4,python,Accessing python egg's own metadata,"<p>I've produced a python egg using setuptools and would like to access it's metadata at runtime. I currently got working this:</p>

<pre><code>import pkg_resources
dist = pkg_resources.get_distribution(""my_project"")
print(dist.version)
</code></pre>

<p>but this would probably work incorrectly if I had multiple versions of the same egg installed. And if I have both installed egg and development version, then running this code from development version would pick up version of the installed egg. </p>

<p>So, how do I get metadata for <em>my</em> egg not some random matching egg installed on my system? </p>
","<p>Exactly. So you should only be able to get the information for the currently available egg (singular) of a library. If you have multiple eggs of the same library in your site-packages folder, check the easy-install.pth in the same folder to see which egg is really used :-)</p>

<p>On a site note: This is exactly the point of systems like zc.buildout which lets you define the exact version of a library that will be made available to you for example while developing an application or serving a web application. So you can for example use version 1.0 for one project and 1.2 for another. </p>
"
403,208120,9,4,python,How to read and write multiple files?,"<p>I want to write a program for this: In a folder I have <em>n</em> number of files; first read one file and perform some operation then store result in a separate file. Then read 2nd file, perform operation again and save result in new 2nd file. Do the same procedure for <em>n</em> number of files. The program reads all files one by one and stores results of each file separately. Please give examples how I can do it.</p>
","<pre><code>import sys

# argv is your commandline arguments, argv[0] is your program name, so skip it
for n in sys.argv[1:]:
    print(n) #print out the filename we are currently processing
    input = open(n, ""r"")
    output = open(n + "".out"", ""w"")
    # do some processing
    input.close()
    output.close()
</code></pre>

<p>Then call it like:</p>

<pre>
./foo.py bar.txt baz.txt
</pre>
"
733,374480,1,4,python,Where is a python real project to be used as example for the unit-test part?,"<p>I'm looking for a python project to use as example to copy the design of the unit test parts.</p>

<p>The project should have these features:</p>

<ol>
<li>its code is almost fully unit tested</li>
<li>the code is distributed in many packages, there are more that one level of packages </li>
<li>all the test can be run with a single command, for example with <code>python test.py</code></li>
</ol>

<p>I need that the project should use the same test convention for all the code contained. I saw the whole python project but the the various packages are tested with different conventions. For example the setuptools packages uses an ad hoc adaption of unittest library while the other packages doesn't. </p>

<p>I need that the project doesn't use a ad-hoc or a highly customized testing framework, because I want reuse its test architecture in my project.</p>
","<p>Well, your specs point directly at a somewhat famous open source project, the <a href=""http://svn.python.org/view/python/trunk/Lib/"" rel=""nofollow"">Python Library</a>. Have a look at <a href=""http://svn.python.org/view/python/trunk/Lib/test/regrtest.py?rev=63042&amp;view=markup"" rel=""nofollow"">python/trunk/Lib/test/regrtest.py</a>, which will find all modules whose name is ""test_*"" in the <a href=""http://svn.python.org/view/python/trunk/Lib/test/"" rel=""nofollow"">test directory</a>, and run them.</p>
"
404,208120,5,4,python,How to read and write multiple files?,"<p>I want to write a program for this: In a folder I have <em>n</em> number of files; first read one file and perform some operation then store result in a separate file. Then read 2nd file, perform operation again and save result in new 2nd file. Do the same procedure for <em>n</em> number of files. The program reads all files one by one and stores results of each file separately. Please give examples how I can do it.</p>
","<p>You may find the <a href=""https://docs.python.org/2/library/fileinput.html"" rel=""nofollow""><code>fileinput</code></a> module useful.  It is designed for exactly this problem.</p>
"
405,208120,4,4,python,How to read and write multiple files?,"<p>I want to write a program for this: In a folder I have <em>n</em> number of files; first read one file and perform some operation then store result in a separate file. Then read 2nd file, perform operation again and save result in new 2nd file. Do the same procedure for <em>n</em> number of files. The program reads all files one by one and stores results of each file separately. Please give examples how I can do it.</p>
","<p>I think what you miss is how to retrieve all the files in that directory.
To do so, use the glob module.
Here is an example which will duplicate all the files with extension *.txt to files with extension *.out</p>

<pre><code>import glob

list_of_files = glob.glob('./*.txt')           # create the list of file
for file_name in list_of_files:
  FI = open(file_name, 'r')
  FO = open(file_name.replace('txt', 'out'), 'w') 
  for line in FI:
    FO.write(line)

  FI.close()
  FO.close()
</code></pre>
"
407,208120,1,4,python,How to read and write multiple files?,"<p>I want to write a program for this: In a folder I have <em>n</em> number of files; first read one file and perform some operation then store result in a separate file. Then read 2nd file, perform operation again and save result in new 2nd file. Do the same procedure for <em>n</em> number of files. The program reads all files one by one and stores results of each file separately. Please give examples how I can do it.</p>
","<p>I've just learned of the os.walk() command recently, and it may help you here.
It allows you to walk down a directory tree structure.</p>

<pre><code>import os
OUTPUT_DIR = 'C:\\RESULTS'
for path, dirs, files in os.walk('.'):
    for file in files:
        read_f = open(os.join(path,file),'r')
        write_f = open(os.path.join(OUTPUT_DIR,file))

        # Do stuff
</code></pre>
"
406,208120,0,4,python,How to read and write multiple files?,"<p>I want to write a program for this: In a folder I have <em>n</em> number of files; first read one file and perform some operation then store result in a separate file. Then read 2nd file, perform operation again and save result in new 2nd file. Do the same procedure for <em>n</em> number of files. The program reads all files one by one and stores results of each file separately. Please give examples how I can do it.</p>
","<p>Combined answer incorporating directory or specific list of filenames arguments:</p>

<pre><code>import sys
import os.path
import glob

def processFile(filename):
    fileHandle = open(filename, ""r"")
    for line in fileHandle:
        # do some processing
        pass
    fileHandle.close()

def outputResults(filename):
    output_filemask = ""out""
    fileHandle = open(""%s.%s"" % (filename, output_filemask), ""w"")
    # do some processing
    fileHandle.write('processed\n')
    fileHandle.close()

def processFiles(args):
    input_filemask = ""log""
    directory = args[1]
    if os.path.isdir(directory):
        print ""processing a directory""
        list_of_files = glob.glob('%s/*.%s' % (directory, input_filemask))
    else:
        print ""processing a list of files""
        list_of_files = sys.argv[1:]

    for file_name in list_of_files:
        print file_name
        processFile(file_name)
        outputResults(file_name)

if __name__ == '__main__':
    if (len(sys.argv) &gt; 1):
        processFiles(sys.argv)
    else:
        print 'usage message'
</code></pre>
"
830,419010,1,4,python,How to raise an exception on the version number of a module,"<p>How can you raise an exception when you import a module that is less or greater than a given value for its __version__?</p>

<p>There are a lot of different ways you could do it, but I feel like there must be some really simple way that eludes me at the moment. In this case the version number is of the format x.x.x</p>
","<p>Like this?</p>

<pre><code>assert tuple(map(int,module.__version__.split("".""))) &gt;= (1,2), ""Module not version 1.2.x""
</code></pre>

<p>This is wordy, but works pretty well.</p>

<p>Also, look into <a href=""http://pypi.python.org/pypi/pip/"" rel=""nofollow"">pip</a>, which provides more advanced functionality.</p>
"
741,375820,8,4,python,How do I create a wx.Image object from in-memory data?,"<p>I'm writing a GUI application in Python using wxPython and I want to display an image in a static control (<code>wx.StaticBitmap</code>).</p>

<p>I can use <a href=""http://www.wxpython.org/docs/api/wx-module.html#ImageFromStream"" rel=""nofollow""><code>wx.ImageFromStream</code></a> to load an image from a file, and this works OK:</p>

<pre><code>static_bitmap = wx.StaticBitmap(parent, wx.ID_ANY)
f = open(""test.jpg"", ""rb"")
image = wx.ImageFromStream(f)
bitmap = wx.BitmapFromImage(image)
static_bitmap.SetBitmap(bitmap)
</code></pre>

<p>But, what I really want to be able to do is create the image from data in memory. So, if I write</p>

<pre><code>f = open(""test.jpg"", ""rb"")
data = f.read()
</code></pre>

<p>how can I create a <code>wx.Image</code> object from <code>data</code>?</p>

<p>Thanks for your help!</p>
","<p>You should be able to use <code>StringIO</code> to wrap the buffer in a memory file object.</p>

<pre><code>...
import StringIO

buf = open(""test.jpg"", ""rb"").read()
# buf = get_image_data()
sbuf = StringIO.StringIO(buf)

image = wx.ImageFromStream(sbuf)
...
</code></pre>

<p><code>buf</code> can be replaced with any data string.</p>
"
831,419010,6,4,python,How to raise an exception on the version number of a module,"<p>How can you raise an exception when you import a module that is less or greater than a given value for its __version__?</p>

<p>There are a lot of different ways you could do it, but I feel like there must be some really simple way that eludes me at the moment. In this case the version number is of the format x.x.x</p>
","<p>Python comes with this inbuilt as part of distutils. The module is called <code>distutils.version</code> and is able to compare several different version number formats.</p>

<pre><code>from distutils.version import StrictVersion

print StrictVersion('1.2.2') &gt; StrictVersion('1.2.1')
</code></pre>

<p>For way more information than you need, see the documentation:</p>

<pre><code>&gt;&gt;&gt; import distutils.version
&gt;&gt;&gt; help(distutils.version)
</code></pre>
"
832,419010,-1,4,python,How to raise an exception on the version number of a module,"<p>How can you raise an exception when you import a module that is less or greater than a given value for its __version__?</p>

<p>There are a lot of different ways you could do it, but I feel like there must be some really simple way that eludes me at the moment. In this case the version number is of the format x.x.x</p>
","<p>If you know the exact formatting of the version string a plain comparison will work:</p>

<pre><code>&gt;&gt;&gt; ""1.2.2"" &gt; ""1.2.1""
True
</code></pre>

<p>This will only work if each part of the version is in the single digits, though:</p>

<pre><code>&gt;&gt;&gt; ""1.2.2"" &gt; ""1.2.10"" # Bug!
True
</code></pre>
"
734,374480,0,4,python,Where is a python real project to be used as example for the unit-test part?,"<p>I'm looking for a python project to use as example to copy the design of the unit test parts.</p>

<p>The project should have these features:</p>

<ol>
<li>its code is almost fully unit tested</li>
<li>the code is distributed in many packages, there are more that one level of packages </li>
<li>all the test can be run with a single command, for example with <code>python test.py</code></li>
</ol>

<p>I need that the project should use the same test convention for all the code contained. I saw the whole python project but the the various packages are tested with different conventions. For example the setuptools packages uses an ad hoc adaption of unittest library while the other packages doesn't. </p>

<p>I need that the project doesn't use a ad-hoc or a highly customized testing framework, because I want reuse its test architecture in my project.</p>
","<p>First, read about <a href=""http://www.python.org/doc/2.5.2/lib/module-unittest.html"" rel=""nofollow"">unittest</a>.  The documentation contains examples.</p>

<p>Second, since you want packages (not modules) the list is shorter.  There are 15 packages in Python 2.5 distribution.  Pick One At Random.  Here's a subset that might meet some of your criteria.  </p>

<ul>
<li><p>bsddb: 7 modules - many test - test_all.py</p></li>
<li><p>ctypes: 4 modules - tests - runtests.py</p></li>
<li><p>distutils: many modules - tests - test_dist.py</p></li>
<li><p>email: many modules - tests - test_email.py</p></li>
<li><p>sqlite3 - 2 modules - tests - (not clear if there's an overall test, I got bored of looking)</p></li>
</ul>
"
736,375620,0,4,python,Prevent ftplib from Downloading a File in Progress?,"<p>We have a ftp system setup to monitor/download from remote ftp servers that are not under our control. The script connects to the remote ftp, and grabs the file names of files on the server, we then check to see if its something that has already been downloaded. If it hasn't been downloaded then we download the file and add it to the list.</p>

<p>We recently ran into an issue, where someone on the remote ftp side, will copy in a massive single file(>1GB) then the script will wake up see a new file and begin downloading the file that is being copied in.</p>

<p>What is the best way to check this? I was thinking of grabbing the file size waiting a few seconds checking the file size again and see if it has increased, if it hasn't then we download it. But since time is of the concern, we can't wait a few seconds for every single file set and see if it's file size has increased. </p>

<p>What would be the best way to go about this, currently everything is done via pythons ftplib, how can we do this aside from using the aforementioned method.</p>

<p>Yet again let me reiterate this, we have 0 control over the remote ftp sites.</p>

<p>Thanks.</p>

<p>UPDATE1:</p>

<p>I was thinking what if i tried to rename it... since we have full permissions on the ftp, if the file upload is in progress would the rename command fail?</p>

<p>We don't have any real options here... do we?</p>

<p>UPDATE2:
Well here's something interesting some of the ftps we tested on appear to automatically allocate the space once the transfer starts.</p>

<p>E.g. If i transfer a 200mb file to the ftp server. While the transfer is active if i connect to the ftp server and do a size while the upload is happening. It shows 200mb for the size. Even though the file is only like 10% complete.</p>

<p>Permissions also seem to be randomly set the FTP Server that comes with IIS sets the permissions AFTER the file is finished copying. While some of the other older ftp servers set it as soon as you send the file.</p>

<p>:'(</p>
","<p>You can't know when the OS copy is done.  It could slow down or wait.</p>

<p>For absolute certainty, you really need two files.</p>

<ul>
<li>The massive file.</li>
<li>And a tiny trigger file.</li>
</ul>

<p>They can mess with the massive file all they want.  But when they touch the trigger file, you're downloading both.</p>

<p><hr /></p>

<p>If you can't get a trigger, you have to balance the time required to poll vs. the time required to download.</p>

<p>Do this.</p>

<ol>
<li><p>Get a listing.  Check timestamps.</p></li>
<li><p>Check sizes vs. previous size of file.  If size isn't even close, it's being copied right now.  Wait; loop on this step until size is close to previous size.</p></li>
<li><p>While you're not done:</p>

<p>a. Get the file.</p>

<p>b. Get a listing AGAIN.  Check the size of the new listing, previous listing and your file.  If they agree: you're done.  If they don't agree: file changed while you were downloading; you're not done.</p></li>
</ol>
"
732,374480,4,4,python,Where is a python real project to be used as example for the unit-test part?,"<p>I'm looking for a python project to use as example to copy the design of the unit test parts.</p>

<p>The project should have these features:</p>

<ol>
<li>its code is almost fully unit tested</li>
<li>the code is distributed in many packages, there are more that one level of packages </li>
<li>all the test can be run with a single command, for example with <code>python test.py</code></li>
</ol>

<p>I need that the project should use the same test convention for all the code contained. I saw the whole python project but the the various packages are tested with different conventions. For example the setuptools packages uses an ad hoc adaption of unittest library while the other packages doesn't. </p>

<p>I need that the project doesn't use a ad-hoc or a highly customized testing framework, because I want reuse its test architecture in my project.</p>
","<p>Maybe <a href=""http://code.google.com/p/python-nose/"" rel=""nofollow"">Nose</a> itself?</p>
"
794,398560,1,4,python,Split by \b when your regex engine doesn't support it,"<p>How can I split by word boundary in a regex engine that doesn't support it?</p>

<p>python's re can match on \b but doesn't seem to support splitting on it. I seem to recall dealing with other regex engines that had the same limitation.</p>

<p>example input:</p>

<pre><code>""hello, foo""
</code></pre>

<p>expected output:</p>

<pre><code>['hello', ', ', 'foo']
</code></pre>

<p>actual python output:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'\b').split('hello, foo')
['hello, foo']
</code></pre>
","<p>Ok I figured it out:</p>

<p>Put the split pattern in capturing parens and will be included in the output. You can use either \w+ or \W+:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'(\w+)').split('hello, foo')
['', 'hello', ', ', 'foo', '']
</code></pre>

<p>To get rid of the empty results, pass it through filter() with None as the filter function, which will filter anything that doesn't evaluate to true:</p>

<pre><code>&gt;&gt;&gt; filter(None, re.compile(r'(\w+)').split('hello, foo'))
['hello', ', ', 'foo']
</code></pre>

<p>Edit: CMS points out that if you use \W+ you don't need to use filter()</p>
"
796,398560,2,4,python,Split by \b when your regex engine doesn't support it,"<p>How can I split by word boundary in a regex engine that doesn't support it?</p>

<p>python's re can match on \b but doesn't seem to support splitting on it. I seem to recall dealing with other regex engines that had the same limitation.</p>

<p>example input:</p>

<pre><code>""hello, foo""
</code></pre>

<p>expected output:</p>

<pre><code>['hello', ', ', 'foo']
</code></pre>

<p>actual python output:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'\b').split('hello, foo')
['hello, foo']
</code></pre>
","<p>One can also use re.findall() for this:</p>

<pre><code>&gt;&gt;&gt; re.findall(r'.+?\b', 'hello, foo')
['hello', ', ', 'foo']
</code></pre>
"
795,398560,0,4,python,Split by \b when your regex engine doesn't support it,"<p>How can I split by word boundary in a regex engine that doesn't support it?</p>

<p>python's re can match on \b but doesn't seem to support splitting on it. I seem to recall dealing with other regex engines that had the same limitation.</p>

<p>example input:</p>

<pre><code>""hello, foo""
</code></pre>

<p>expected output:</p>

<pre><code>['hello', ', ', 'foo']
</code></pre>

<p>actual python output:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'\b').split('hello, foo')
['hello, foo']
</code></pre>
","<p>Interesting. So far most RE engines I tried do this split.</p>

<p>I played a bit and found that <code>re.compile(r'(\W+)').split('hello, foo')</code> is giving the output you expected... Not sure if that's reliable, though.</p>
"
833,419010,2,4,python,How to raise an exception on the version number of a module,"<p>How can you raise an exception when you import a module that is less or greater than a given value for its __version__?</p>

<p>There are a lot of different ways you could do it, but I feel like there must be some really simple way that eludes me at the moment. In this case the version number is of the format x.x.x</p>
","<p>If you are talking about modules installed with easy_install, this is what you need</p>

<pre><code>import pkg_resources
pkg_resources.require(""TurboGears&gt;=1.0.5"")
</code></pre>

<p>this will raise an error if the installed module is of a lower version</p>

<pre><code>Traceback (most recent call last):
  File ""tempplg.py"", line 2, in &lt;module&gt;
    pkg_resources.require(""TurboGears&gt;=1.0.5"")
  File ""/usr/lib/python2.5/site-packages/pkg_resources.py"", line 626, in require
    needed = self.resolve(parse_requirements(requirements))
  File ""/usr/lib/python2.5/site-packages/pkg_resources.py"", line 528, in resolve
    raise VersionConflict(dist,req) # XXX put more info here
pkg_resources.VersionConflict: (TurboGears 1.0.4.4 (/usr/lib/python2.5/site-packages/TurboGears-1.0.4.4-py2.5.egg), Requirement.parse('TurboGears&gt;=1.0.5'))
</code></pre>
"
793,398560,9,4,python,Split by \b when your regex engine doesn't support it,"<p>How can I split by word boundary in a regex engine that doesn't support it?</p>

<p>python's re can match on \b but doesn't seem to support splitting on it. I seem to recall dealing with other regex engines that had the same limitation.</p>

<p>example input:</p>

<pre><code>""hello, foo""
</code></pre>

<p>expected output:</p>

<pre><code>['hello', ', ', 'foo']
</code></pre>

<p>actual python output:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'\b').split('hello, foo')
['hello, foo']
</code></pre>
","<p>(\W+) can give you the expected output:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'(\W+)').split('hello, foo')
['hello', ', ', 'foo']
</code></pre>
"
792,398560,0,4,python,Split by \b when your regex engine doesn't support it,"<p>How can I split by word boundary in a regex engine that doesn't support it?</p>

<p>python's re can match on \b but doesn't seem to support splitting on it. I seem to recall dealing with other regex engines that had the same limitation.</p>

<p>example input:</p>

<pre><code>""hello, foo""
</code></pre>

<p>expected output:</p>

<pre><code>['hello', ', ', 'foo']
</code></pre>

<p>actual python output:</p>

<pre><code>&gt;&gt;&gt; re.compile(r'\b').split('hello, foo')
['hello, foo']
</code></pre>
","<p>Try </p>

<pre><code>&gt;&gt;&gt; re.compile(r'\W\b').split('hello, foo')
['hello,', 'foo']
</code></pre>

<p>This splits at the non-word characted before a boundry.
Your example has nothing to split on.</p>
"
720,368980,2,3,python,Passing a Python array to a C++ vector using Swig,"<p>I have an array of objects in Python </p>

<pre><code>[obj1, obj2, obj3]
</code></pre>

<p>and I want to pass them to off to a C++ function to perform some computation. I'm using SWIG to write my interface. The class type of the passed object is already defined in C++. </p>

<p>What's the best way to do this?</p>
","<p>It depends on if your function is already written and cannot be changed, in which case you may need to check Swig docs to see if there is already a typemap from PyList to std::vector (I think there is).  If not, taking PyObject* as the argument to the function and using the Python C API for manipulating lists should work fine.  I haven't had any problems with it so far.  For self-documentation, I recommend typedef'ing PyObject* to some kind of expected type, like ""PythonList"" so that the parameters have some meaning.</p>

<p>This may also be useful:</p>

<p><a href=""http://stackoverflow.com/questions/276769/how-to-expose-stdvectorint-as-a-python-list-using-swig"">http://stackoverflow.com/questions/276769/how-to-expose-stdvectorint-as-a-python-list-using-swig</a></p>
"
270,149040,0,3,python,Is there a way to define which fields in the model are editable in the admin app?,"<p>Assume the following:</p>

<p><em>models.py</em></p>

<pre><code>class Entry(models.Model):
    title = models.CharField(max_length=50)
    slug = models.CharField(max_length=50, unique=True)
    body = models.CharField(max_length=200)
</code></pre>

<p><em>admin.py</em></p>

<pre><code>class EntryAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug':('title',)}
</code></pre>

<p>I want the slug to be pre-populated by the title, but I dont want the user to be able to edit it from the admin. I assumed that adding the fields=[] to the admin object and not including the slug would have worked, but it didnt. I also tried setting editable=False in the model, but that also didnt work (infact, stops the page from rendering).</p>

<p>Thoughts? </p>
","<p>In addition to overriding <code>save</code> to provide the generated value you want, you can also use the <a href=""http://docs.djangoproject.com/en/dev/ref/contrib/admin/#exclude"" rel=""nofollow"">exclude</a> option in your <code>ModelAdmin</code> class to prevent the field from being displayed in the admin:</p>

<pre><code>class EntryAdmin(admin.ModelAdmin):
    exclude = ('slug',)
</code></pre>
"
485,248730,1,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>The traditional way would be to create and use a setuid helper to do whatever you need. Note that, however, properly writing a setuid helper is tricky (there are several attack vectors you have to protect against).</p>

<p>The modern way would be to use a daemon (running as root, started on boot) which listens to requests from the rest of the application. This way, your attack surface is mostly limited to whichever IPC you chose (I'd suggest d-bus, which seems to be the modern way).</p>

<p>Finally, if you are managing network interfaces, what you doing is very similar to what network-manager does on a modern distribution. It would be a good idea to either try to somehow integrate what you are doing with network-manager (so it will not conflict with your manipulations), or at least looks at how it works.</p>
"
484,248730,0,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>I'm not familiar enough with Python to tell you what the necessary commands would be in that language, but you should be able to accomplish this by forking and using a pipe to communicate between the parent and child processes.  Something along the lines of:</p>

<ul>
<li>Run the program as root via sudo or suid</li>
<li>On startup, the program immediately forks and establishes a pipe for communication between the parent and child processes</li>
<li>The child process retains root power, but just sits there waiting for input from the pipe</li>
<li>The parent process drops root (changes its uid back to that of the user running it), then displays the GUI, interacts with the user, and handles all operations which are available to a non-privileged user</li>
<li>When an operation is to be performed which requires root privileges, the (non-root) parent process sends a command down the pipe to the (root) child process which executes it and optionally reports back to the parent</li>
</ul>

<p>This is likely to be a bit easier to write than an independent daemon, as well as more convenient to run (since you don't need to worry about whether the daemon is running or not), while also allowing the GUI and other things which don't need root powers to be run as non-root.</p>
"
549,268930,1,3,python,How can you emulate a mailing list in Django?,"<p>I'm on a project which is trying to write what amounts to a Mailing List app in Django, and we're running into a couple of problems/questions.</p>

<p>The code we have so far doesn't set various List headers, and re-sets the To header to be the person we're sending it to, instead of the list address.</p>

<p>Now, we can work our way through all these fiddly little details, but I was wondering if anyone had any code which already did this sort of thing that we could crib from, so that we don't have to go through all the trial-and-error ourselves.  Specific sections of RFCs that showed us what we should be sending would also be useful.</p>

<p>Thanks,<br/>
Blake.</p>
","<p>Did you take a look at <a href=""http://www.greatcircle.com/majordomo/"" rel=""nofollow"">majordomo</a>, or <a href=""http://www.gnu.org/software/mailman/index.html"" rel=""nofollow"">mailman</a>?</p>
"
550,268930,2,3,python,How can you emulate a mailing list in Django?,"<p>I'm on a project which is trying to write what amounts to a Mailing List app in Django, and we're running into a couple of problems/questions.</p>

<p>The code we have so far doesn't set various List headers, and re-sets the To header to be the person we're sending it to, instead of the list address.</p>

<p>Now, we can work our way through all these fiddly little details, but I was wondering if anyone had any code which already did this sort of thing that we could crib from, so that we don't have to go through all the trial-and-error ourselves.  Specific sections of RFCs that showed us what we should be sending would also be useful.</p>

<p>Thanks,<br/>
Blake.</p>
","<p><a href=""http://www.apps.ietf.org/rfc/rfc2919.html"" rel=""nofollow"">RFC 2919</a> has some info and more references on this.</p>
"
918,456100,1,3,python,SCons problem - dont understand Variables class,"<p>I'm working on an SConstruct build file for a project and I'm trying to update from Options to Variables, since Options is being deprecated. I don't understand how to use Variables though. I have 0 python experience which is probably contributing to this.</p>

<p>For example, I have this:</p>

<pre><code>opts = Variables()
opts.Add('fcgi',0)
print opts['fcgi']
</code></pre>

<p>But I get an error:</p>

<pre><code>AttributeError: Variables instance has no attribute '__getitem__':
</code></pre>

<p>Not sure how this is supposed to work</p>
","<p>That specific error tells you that class <code>Variables</code> hasn't implemented python's <code>__getitem__</code> <a href=""http://docs.python.org/reference/datamodel.html#object.__getitem__"" rel=""nofollow"">interface</a> which would allow you to use <code>[ ...]</code> on  <code>opts</code>.  If all you want to do is print out your keys, the <code>Variables</code> <a href=""http://www.scons.org/doc/1.2.0.d20090113/HTML/scons-api/SCons.Variables.Variables-class.html"" rel=""nofollow"">documentation</a> seems to indicate that you can iterate over your keys:</p>

<pre><code>for key in opts.keys():
    print key
</code></pre>

<p>Or you can print out the help text:</p>

<pre><code>print opts.GenerateHelpText()
</code></pre>
"
919,456100,5,3,python,SCons problem - dont understand Variables class,"<p>I'm working on an SConstruct build file for a project and I'm trying to update from Options to Variables, since Options is being deprecated. I don't understand how to use Variables though. I have 0 python experience which is probably contributing to this.</p>

<p>For example, I have this:</p>

<pre><code>opts = Variables()
opts.Add('fcgi',0)
print opts['fcgi']
</code></pre>

<p>But I get an error:</p>

<pre><code>AttributeError: Variables instance has no attribute '__getitem__':
</code></pre>

<p>Not sure how this is supposed to work</p>
","<p>Typically you would store the variables in your environment for later testing.</p>

<pre><code>opts = Variables()
opts.Add('fcgi',0)
env = Environment(variables=opts, ...)
</code></pre>

<p>Then later you can test:</p>

<pre><code>if env['fcgi'] == 0:
    # do something
</code></pre>
"
483,248730,3,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>What you want is a ""Group""</p>

<p>You create a group, specify that the account wanting to do the action belongs to the group, then you specify that the resource you want access to is a member of that group.</p>

<p>Sometimes group management can be kind of irritating, but it should allow you to do anything you want, and it's the user that is authorized, not your program.</p>

<p>(If you want your program authorized, you can create a specific user to run it as and give that user the proper group membership, then su to that group within your program to execute the operation without giving the running user the ability.)</p>
"
482,248730,7,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>Your idea about the daemon has much merit, despite the complexity it introduces. As long as the actions don't require some user interface interaction <em>as root</em>, a daemon allows you to control what operations are allowed and disallowed.</p>

<p>However, you can use SUDO to create a controlled compromise between ROOT and normal users... simply grant SUDO access to the users in question for the specific tools they need. That reduces the attack surface by allowing only ""permitted"" root launches.</p>
"
267,149040,0,3,python,Is there a way to define which fields in the model are editable in the admin app?,"<p>Assume the following:</p>

<p><em>models.py</em></p>

<pre><code>class Entry(models.Model):
    title = models.CharField(max_length=50)
    slug = models.CharField(max_length=50, unique=True)
    body = models.CharField(max_length=200)
</code></pre>

<p><em>admin.py</em></p>

<pre><code>class EntryAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug':('title',)}
</code></pre>

<p>I want the slug to be pre-populated by the title, but I dont want the user to be able to edit it from the admin. I assumed that adding the fields=[] to the admin object and not including the slug would have worked, but it didnt. I also tried setting editable=False in the model, but that also didnt work (infact, stops the page from rendering).</p>

<p>Thoughts? </p>
","<p>This <a href=""http://www.djangosnippets.org/snippets/937/"" rel=""nofollow"">Django Snippet</a> does what you want by defining a custom Read-Only Widget.  So you define a custom editor for the field which in fact doesn't allow any editing.</p>
"
268,149040,3,3,python,Is there a way to define which fields in the model are editable in the admin app?,"<p>Assume the following:</p>

<p><em>models.py</em></p>

<pre><code>class Entry(models.Model):
    title = models.CharField(max_length=50)
    slug = models.CharField(max_length=50, unique=True)
    body = models.CharField(max_length=200)
</code></pre>

<p><em>admin.py</em></p>

<pre><code>class EntryAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug':('title',)}
</code></pre>

<p>I want the slug to be pre-populated by the title, but I dont want the user to be able to edit it from the admin. I assumed that adding the fields=[] to the admin object and not including the slug would have worked, but it didnt. I also tried setting editable=False in the model, but that also didnt work (infact, stops the page from rendering).</p>

<p>Thoughts? </p>
","<p>For this particular case you can override your save method to slugify (it's built-in method, look at django source) the title and store it in slug field. Also from there you can easily check if this slug is indeed unique and change it somehow if it's not.</p>

<p>Consider this example:</p>

<pre><code>def save(self):
    from django.template.defaultfilters import slugify

    if not self.slug:
        self.slug = slugify(self.title)

    super(Your_Model_Name,self).save()
</code></pre>
"
269,149040,0,3,python,Is there a way to define which fields in the model are editable in the admin app?,"<p>Assume the following:</p>

<p><em>models.py</em></p>

<pre><code>class Entry(models.Model):
    title = models.CharField(max_length=50)
    slug = models.CharField(max_length=50, unique=True)
    body = models.CharField(max_length=200)
</code></pre>

<p><em>admin.py</em></p>

<pre><code>class EntryAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug':('title',)}
</code></pre>

<p>I want the slug to be pre-populated by the title, but I dont want the user to be able to edit it from the admin. I assumed that adding the fields=[] to the admin object and not including the slug would have worked, but it didnt. I also tried setting editable=False in the model, but that also didnt work (infact, stops the page from rendering).</p>

<p>Thoughts? </p>
","<p><a href=""http://www.djangosnippets.org/snippets/770/"" rel=""nofollow"">This snippet</a> gives you an AutoSlugField with exactly the behavior you are seeking, and adding it to your model is a one-liner.</p>
"
1047,522430,22,3,python,Is there a way to loop through a sub section of a list in Python,"<p>So for a list that has 1000 elements, I want to loop from 400 to 500. How do you do it?</p>

<p>I don't see a way by using the for each and for range techniques.</p>
","<pre><code>for x in thousand[400:500]:
    pass
</code></pre>

<p>If you are working with an iterable instead of a list, you should use <a href=""http://docs.python.org/library/itertools"">itertools</a>:</p>

<pre><code>import itertools
for x in itertools.islice(thousand, 400, 500):
    pass
</code></pre>

<p>If you need to loop over <code>thousand[500]</code>, then use 501 as the latter index. This will work even if <code>thousand[501]</code> is not a valid index.</p>
"
1048,522430,2,3,python,Is there a way to loop through a sub section of a list in Python,"<p>So for a list that has 1000 elements, I want to loop from 400 to 500. How do you do it?</p>

<p>I don't see a way by using the for each and for range techniques.</p>
","<p>Using </p>

<pre><code>for element in allElements[400:501]:
    doSomething(element)
</code></pre>

<p>makes Python create new object, and might have some impact on memory usage.</p>

<p>Instead I'd use:</p>

<pre><code>for index in xrange(400, 501):
    doSomething(allElements[index])
</code></pre>

<p>This way also enables you to manipulate list indexes during iteration.</p>

<p>EDIT: In Python 3.0 you can use <code>range()</code> instead of <code>xrange()</code>, but in 2.5 and earlier versions <code>range()</code> creates a list while <code>xrange()</code> creates a generator, which eats less of your precious RAM.</p>
"
106,78900,4,3,python,How to check for memory leaks in Guile extension modules?,"<p>I develop an extension module for Guile, written in C.  This extension module embeds a Python interpreter.</p>

<p>Since this extension module invokes the Python interpreter, I need to verify that it properly manages the memory occupied by Python objects.  </p>

<p>I found that the Python interpreter is well-behaved in its own memory handling, so that by running valgrind I can find memory leaks due to bugs in my own Python interpreter embedding code, if there are no other interfering factors.  </p>

<p>However, when I run Guile under valgrind, valgrind reports memory leaks.  Such memory leaks obscure any memory leaks due to my own code.  </p>

<p>The question is what can I do to separate memory leaks due to bugs in my code from memory leaks reported by valgrind as due to Guile.  Another tool instead of valgrind?  Special valgrind options?  Give up and rely upon manual code walkthrough?</p>
","<p>You've got a couple options. One is to write a supressions file for valgrind that turns off reporting of stuff that you're not working on. Python has such a file, for example: 
<a href=""http://svn.python.org/projects/python/trunk/Misc/valgrind-python.supp"" rel=""nofollow"">http://svn.python.org/projects/python/trunk/Misc/valgrind-python.supp</a></p>

<p>If valgrind doesn't like your setup, another possibility is using <code>libmudflap</code>; you compile your program with <code>gcc -fmudflap -lmudflap</code>, and the resulting code is instrumented for pointer debugging. Described in the gcc docs, and here: <a href=""http://gcc.gnu.org/wiki/Mudflap_Pointer_Debugging"" rel=""nofollow"">http://gcc.gnu.org/wiki/Mudflap_Pointer_Debugging</a></p>
"
1046,522430,7,3,python,Is there a way to loop through a sub section of a list in Python,"<p>So for a list that has 1000 elements, I want to loop from 400 to 500. How do you do it?</p>

<p>I don't see a way by using the for each and for range techniques.</p>
","<pre><code>for element in allElements[400:501]:
     # do something
</code></pre>

<p>These are <a href=""http://docs.python.org/reference/expressions.html#id8"" rel=""nofollow"">slices</a> and generate a sublist of the whole list. They are one of the main elements of Python.</p>
"
723,370160,3,3,python,How do I ORDER BY an arithmetic express in SQLAlchemy?,"<p>How do I translate something like this into SQLAlchemy?</p>

<pre><code>SELECT (a * b) - (x + y) / z AS result
FROM table
ORDER BY result
</code></pre>
","<p>Just pass the label in as a string argument to <code>order_by</code>:</p>

<pre><code>result_exp = sqlalchemy.sql.expression.label('result',
   ((test2_table.c.a * test2_table.c.b)
    - (test2_table.c.x + test2_table.c.y)
    / test2_table.c.z))
select([result_exp], from_obj=[test2_table], order_by=""result"")
</code></pre>
"
480,248730,1,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>You could create and distribute a selinux policy for your application.  Selinux allows the kind of fine-grained access that you need.  If you can't or won't use selinux, then the daemon is the way to go.</p>
"
479,248730,0,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>There's no single user that is halfway between a ""normal"" user and root. You have root, and then you have users; users can have differing levels of capabilities. If you want something that's more powerful than a ""normal"" user but not as powerful as root, you just create a new user with the capabilities you want, but don't give it the privileges you don't want it to have.</p>
"
622,310890,0,3,python,Any DAL/ORM on GAE?,"<p>Is there any Database Abstraction Layer (DAL) or Object Relational Mapper (ORM) that works on Google App Engine (GAE), and on normal relational databases (RDBS), other  than <a href=""http://www.web2py.com"" rel=""nofollow"">web2py</a>'s?</p>

<p>If not, is anybody working on porting one of the existing DAL/ORM to GAE?</p>
","<p>Currently, it looks like SQLAlchemy is working on it, but it's incomplete / unfinished.  Good luck!</p>
"
623,310890,3,3,python,Any DAL/ORM on GAE?,"<p>Is there any Database Abstraction Layer (DAL) or Object Relational Mapper (ORM) that works on Google App Engine (GAE), and on normal relational databases (RDBS), other  than <a href=""http://www.web2py.com"" rel=""nofollow"">web2py</a>'s?</p>

<p>If not, is anybody working on porting one of the existing DAL/ORM to GAE?</p>
","<p>There is an ORM for Google App Engine. There are some differences between it and SQLAlchemy, but looks like it works. Check this page: <a href=""http://code.google.com/appengine/docs/python/datastore/entitiesandmodels.html"" rel=""nofollow"">http://code.google.com/appengine/docs/python/datastore/entitiesandmodels.html</a></p>
"
983,487800,2,3,python,How can I get interactive Python to avoid using readline while allowing utf-8 input?,"<p>I use a terminal (9term) that does command-line editing itself - programs that use readline just get in its way. It's fully utf-8 aware. How can I make an interactive python session disable readline while retaining utf-8 input and output?</p>

<p>Currently I use:</p>

<pre><code>LANG=en_GB.UTF-8 export LANG
cat | python -i
</code></pre>

<p>however this causes sys.stdin.encoding to be None, which implies Ascii
(the system default encoding, which doesn't seem to be changeable)</p>

<pre><code>TERM=dumb python
</code></pre>

<p>doesn't disable readline (and it mangles utf-8 input also).</p>

<p>I'm new to python, so apologies if this is an obvious question.</p>
","<p>In the past, I've disabled Python readline by rebuilding it from source: <code>configure --disable-readline</code></p>

<p>This might be overkill, though, for your situation.</p>
"
981,484890,1,3,python,How would you determine where each property and method of a Python class is defined?,"<p>Given an instance of some class in Python, it would be useful to be able to determine which line of source code <em>defined</em> each method and property (e.g. to implement [1]). For example, given a module ab.py</p>

<pre><code>class A(object):
    z = 1
    q = 2
    def y(self): pass
    def x(self): pass

class B(A):
    q = 4
    def x(self): pass
    def w(self): pass
</code></pre>

<p>define a function whither(class_, attribute) returning a tuple containing the filename, class, and line in the source code that defined or subclassed <code>attribute</code>. This means the definition in the class body, not the latest assignment due to overeager dynamism. It's fine if it returns 'unknown' for some attributes.</p>

<pre><code>&gt;&gt;&gt; a = A()
&gt;&gt;&gt; b = B()
&gt;&gt;&gt; b.spigot = 'brass'
&gt;&gt;&gt; whither(a, 'z')
(""ab.py"", &lt;class 'a.A'&gt;, [line] 2)
&gt;&gt;&gt; whither(b,  'q')
(""ab.py"", &lt;class 'a.B'&gt;, 8)
&gt;&gt;&gt; whither(b, 'x')
(""ab.py"", &lt;class 'a.B'&gt;, 9)
&gt;&gt;&gt; whither(b, 'spigot')
(""Attribute 'spigot' is a data attribute"")
</code></pre>

<p>I want to use this while introspecting Plone, where every object has hundreds of methods and it would be really useful to sort through them organized by class and not just alphabetically.</p>

<p>Of course, in Python you can't always reasonably know, but it would be nice to get good answers in the common case of mostly-static code.</p>
","<p>You are looking for the undocumented function <code>inspect.classify_class_attrs(cls)</code>. Pass it a class and it will return a list of tuples <code>('name', 'kind' e.g. 'method' or 'data', defining class, property)</code>. If you need information on absolutely everything in a specific instance you'll have to do additional work.</p>

<p>Example:</p>

<pre><code>&gt;&gt;&gt; import inspect
&gt;&gt;&gt; import pprint
&gt;&gt;&gt; import calendar
&gt;&gt;&gt; 
&gt;&gt;&gt; hc = calendar.HTMLCalendar()
&gt;&gt;&gt; hc.__class__.pathos = None
&gt;&gt;&gt; calendar.Calendar.phobos = None
&gt;&gt;&gt; pprint.pprint(inspect.classify_class_attrs(hc.__class__))
[...
 ('__doc__',
  'data',
  &lt;class 'calendar.HTMLCalendar'&gt;,
  '\n    This calendar returns complete HTML pages.\n    '),
 ...
 ('__new__',
  'data',
  &lt;type 'object'&gt;,
  &lt;built-in method __new__ of type object at 0x814fac0&gt;),
 ...
 ('cssclasses',
  'data',
  &lt;class 'calendar.HTMLCalendar'&gt;,
  ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']),
 ('firstweekday',
  'property',
  &lt;class 'calendar.Calendar'&gt;,
  &lt;property object at 0x98b8c34&gt;),
 ('formatday',
  'method',
  &lt;class 'calendar.HTMLCalendar'&gt;,
  &lt;function formatday at 0x98b7bc4&gt;),
 ...
 ('pathos', 'data', &lt;class 'calendar.HTMLCalendar'&gt;, None),
 ('phobos', 'data', &lt;class 'calendar.Calendar'&gt;, None),
 ...
 ]
</code></pre>
"
980,484890,2,3,python,How would you determine where each property and method of a Python class is defined?,"<p>Given an instance of some class in Python, it would be useful to be able to determine which line of source code <em>defined</em> each method and property (e.g. to implement [1]). For example, given a module ab.py</p>

<pre><code>class A(object):
    z = 1
    q = 2
    def y(self): pass
    def x(self): pass

class B(A):
    q = 4
    def x(self): pass
    def w(self): pass
</code></pre>

<p>define a function whither(class_, attribute) returning a tuple containing the filename, class, and line in the source code that defined or subclassed <code>attribute</code>. This means the definition in the class body, not the latest assignment due to overeager dynamism. It's fine if it returns 'unknown' for some attributes.</p>

<pre><code>&gt;&gt;&gt; a = A()
&gt;&gt;&gt; b = B()
&gt;&gt;&gt; b.spigot = 'brass'
&gt;&gt;&gt; whither(a, 'z')
(""ab.py"", &lt;class 'a.A'&gt;, [line] 2)
&gt;&gt;&gt; whither(b,  'q')
(""ab.py"", &lt;class 'a.B'&gt;, 8)
&gt;&gt;&gt; whither(b, 'x')
(""ab.py"", &lt;class 'a.B'&gt;, 9)
&gt;&gt;&gt; whither(b, 'spigot')
(""Attribute 'spigot' is a data attribute"")
</code></pre>

<p>I want to use this while introspecting Plone, where every object has hundreds of methods and it would be really useful to sort through them organized by class and not just alphabetically.</p>

<p>Of course, in Python you can't always reasonably know, but it would be nice to get good answers in the common case of mostly-static code.</p>
","<p>This is more-or-less impossible without static analysis, and even then, it won't always work. You can get the line where a function was defined and in which file by examining its code object, but beyond that, there's not much you can do. The <code>inspect</code> module can help with this. So:</p>

<pre><code>import ab
a = ab.A()
meth = a.x
# So, now we have the method.
func = meth.im_func
# And the function from the method.
code = func.func_code
# And the code from the function!
print code.co_firstlineno, code.co_filename

# Or:
import inspect
print inspect.getsource(meth), inspect.getfile(meth)
</code></pre>

<p>But consider:</p>

<pre><code>def some_method(self):
    pass
ab.A.some_method = some_method
ab.A.some_class_attribute = None
</code></pre>

<p>Or worse:</p>

<pre><code>some_cls = ab.A
some_string_var = 'another_instance_attribute'
setattr(some_cls, some_string_var, None)
</code></pre>

<p>Especially in the latter case, what do you want or expect to get?</p>
"
979,484890,1,3,python,How would you determine where each property and method of a Python class is defined?,"<p>Given an instance of some class in Python, it would be useful to be able to determine which line of source code <em>defined</em> each method and property (e.g. to implement [1]). For example, given a module ab.py</p>

<pre><code>class A(object):
    z = 1
    q = 2
    def y(self): pass
    def x(self): pass

class B(A):
    q = 4
    def x(self): pass
    def w(self): pass
</code></pre>

<p>define a function whither(class_, attribute) returning a tuple containing the filename, class, and line in the source code that defined or subclassed <code>attribute</code>. This means the definition in the class body, not the latest assignment due to overeager dynamism. It's fine if it returns 'unknown' for some attributes.</p>

<pre><code>&gt;&gt;&gt; a = A()
&gt;&gt;&gt; b = B()
&gt;&gt;&gt; b.spigot = 'brass'
&gt;&gt;&gt; whither(a, 'z')
(""ab.py"", &lt;class 'a.A'&gt;, [line] 2)
&gt;&gt;&gt; whither(b,  'q')
(""ab.py"", &lt;class 'a.B'&gt;, 8)
&gt;&gt;&gt; whither(b, 'x')
(""ab.py"", &lt;class 'a.B'&gt;, 9)
&gt;&gt;&gt; whither(b, 'spigot')
(""Attribute 'spigot' is a data attribute"")
</code></pre>

<p>I want to use this while introspecting Plone, where every object has hundreds of methods and it would be really useful to sort through them organized by class and not just alphabetically.</p>

<p>Of course, in Python you can't always reasonably know, but it would be nice to get good answers in the common case of mostly-static code.</p>
","<p>You are looking for the <a href=""http://docs.python.org/library/inspect.html"" rel=""nofollow"">inspect</a> module, specifically <code>inspect.getsourcefile()</code> and <code>inspect.getsourcelines()</code>. For example</p>

<p>a.py:</p>

<pre><code>class Hello(object):
    def say(self):
       print 1

&gt;&gt;&gt; from a import Hello
&gt;&gt;&gt; hi = Hello()
&gt;&gt;&gt; inspect.getsourcefile(hi.say)
a.py
&gt;&gt;&gt; inspect.getsourcelines(A, foo)
(['   def say(self):\n        print 1\n'], 2)
</code></pre>

<p>Given the dynamic nature of Python, doing this for more complicated situations may simply not be possible...</p>
"
481,248730,1,3,python,Is there something between a normal user account and root?,"<p>I'm developing an application that manages network interfaces on behalf of the user and it calls out to several external programs (such as ifconfig) that requires root to make changes. (Specifically, changing the IP address of a local interface, etc.) During development, I have been running the IDE as root (ugh) and the debugger as root (double-ugh). Is there a nice way for the end-user to run these under a non-root account? I strongly dislike the size of the attack surface presented by GTK, wxPython, Python, and my application when it runs as root.</p>

<p>I have looked into capabilities, but they look half-baked and I'm not sure if I'd be able to use them in Python, especially if they are on a thread basis. The only option I haven't explored is a daemon that has the setuid bit set and does all the root-type stuff on behalf of the UI. I'm hesitant to introduce that complexity this early in the project, as running as root is not a dealbreaker for the users.</p>
","<p>I would not run the application full time as root, but you might want to explore making your application setuid root, or setuid to some id that can become root using something like sudo for particular applications.   You might be able to set up an account that cannot login, use setuid to change your program's id (temporarily when needed) and have sudo set up to not prompt for password, but always allow access to that account for specific tasks.</p>

<p>This way your program has no special privileges when running normally, only elevates it's privileges when needed, and is restricted by sudo to only running certain programs.</p>

<p>It's been awhile since I've done much Unix development, so I'm not really sure whether it's possible to set up sudo to not prompt for a password (or even if there is an API for it), but  as a fallback you could enable setuid to root only when needed.</p>

<p>[EDIT]  Looks like <a href=""http://www.sudo.ws/sudo/sudo.html"" rel=""nofollow"">sudo</a> has a NOPASSWD mode so I think it should work since you're running the programs as external commands.</p>
"
459,230310,3,3,python,"Any good ""contact us"" recipes for Cherrypy?","<p>I'm looking to implement a ""Contact Us"" form with Cherrypy and was wondering: Is there a good recipe (or a BSD licensed set of code) that I could use instead of reinventing the wheel?</p>

<p>Ideally, this would be Cherrpy 3.1 compatible.</p>
","<p>Well, I had to look into a solution.  This works (ugly, and w/o Javascript validation) -- using the smtplib lib.  Also, note that I stole Jeff's captcha for this example.  Anyone using this will need to change it.  </p>

<p><strong>EDIT:</strong> I added validation.</p>

<pre><code>#!/usr/local/bin/python2.4 
import smtplib 
import cherrypy

class InputExample:
   @cherrypy.expose
   def index(self):
       return ""&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a href=""contactus""&gt;Contact Us&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;""


        @cherrypy.expose
        def contactus(self,message=''):
                return """"""
&lt;html&gt;
&lt;head&gt;&lt;title&gt;Contact Us&lt;/title&gt;
&lt;script type=""text/javascript""&gt;

   function isNotEmpty(elem)
   {
      var str = elem.value;
      var re = /.+/;
      if (!str.match(re))
      {
         elem.focus();
         return false;
      }
      else
      {
         return true;
      }

   }

   function isEMailAddr(elem)
   {
      var str = elem.value;
      var re = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
      if (!str.match(re))
      {
         return false;
      }
      else
      {
         return true;
      }
   }

   function validateForm(form)
   {
      if (isNotEmpty(form.firstName) &amp;&amp; isNotEmpty(form.lastName))
      {
         if (isNotEmpty(form.email))
         {
         if (isEMailAddr(form.email))
         {
            if (isNotEmpty(form.captcha))
            {
               if ( form.captcha.value=='egnaro'.split("""").reverse().join(""""))
               {
                   if (isNotEmpty(form.subject))
                     {
                        alert(""All required fields are found.  We will respond shortly."");
                        return true;
                     }
               }
               else
               {
                   alert(""Please enter the word as displayed in the image."");
                   return false;
               }
            }//captcha empty
            }
         else
         {
            alert(""Please enter a valid email address."");
            return false;
         } //email
         } //email
      } //first and last name
      alert(""Please fill in all required fields."");
      return false;
   }

&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;%(message)s&lt;/p&gt;
&lt;form method='POST' action='contactUsSubmitted' onsubmit='return validateForm(this)'&gt;
   &lt;label for=""firstName""&gt;First Name: &lt;/label&gt;
   &lt;input type=""text"" id=""firstName"" name=""firstName"" /&gt; (required)&lt;br/&gt;
   &lt;label for=""lastName""&gt;Last Name: &lt;/label&gt;
   &lt;input type=""text"" id=""lastName"" name=""lastName"" /&gt; (required)&lt;br/&gt;
   &lt;label for=""email""&gt;E-mail address: &lt;/label&gt;
   &lt;input type=""text"" id=""email"" name=""email"" /&gt; (required)&lt;br/&gt;
  &lt;label for=""phone""&gt;Phone number: &lt;/label&gt;
   &lt;input type=""text"" id=""phone"" name=""phone"" /&gt; &lt;br/&gt;&lt;br/&gt;

   &lt;!--THIS NEEDS TO BE CHANGED TO MATCH YOUR OWN CAPTCHA SCHEME!! --&gt;
   &lt;label for=""captcha""&gt;Enter the word&lt;br /&gt;&lt;img alt=""rhymes with.."" src=""http://www.codinghorror.com/blog/images/word.png"" width=""99"" height=""26"" border=""0"" /&gt;&lt;/label&gt;&lt;br /&gt;
(&lt;a href=""http://www.codinghorror.com/blog/sounds/captcha-word-spoken.mp3""&gt;hear it spoken&lt;/a&gt;)&lt;br /&gt;
   &lt;input tabindex=""3"" id=""captcha"" name=""captcha"" /&gt;&lt;br /&gt;&lt;br /&gt;

   &lt;label for=""subject""&gt;Subject: &lt;/label&gt;
   &lt;input type=""text"" id=""subject"" name=""subject"" /&gt; (required)&lt;br/&gt;
   &lt;label for=""body""&gt;Details: &lt;/label&gt;
   &lt;textarea id=""body"" name=""body""&gt;&lt;/textarea&gt;&lt;br/&gt;

&lt;input type='submit' value='Contact Us' /&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
""""""%{'message':message}


        @cherrypy.expose
        def contactUsSubmitted(self, firstName, lastName, email, phone, captcha, subject, body ):
                if captcha[::-1] != 'egnaro':
                        return self.contactus(""Please reenter the word you see in the image."" )
                self.sendEmail('mail2.example.com','mailbox_account','mailbox_pwd','me@example.com',email,
                     'Website Contact: '+subject, 'Sender Email: ' + email + '\r\n'
                     'Name: ' + firstName + ' ' + lastName + '\r\n' + 'Phone: ' + phone + '\r\n' + body)
                return self.index()

        def sendEmail(self,smtpServer, mailboxName, mailboxPassword, contactEmail,senderEmail,subject,body):
                server = smtplib.SMTP(smtpServer) #'smtp1.example.com')
                server.login(mailboxName, mailboxPassword)

                msg = ""To: %(contactEmail)s\r\nFrom: %(senderEmail)s\r\nSubject: %(subject)s\r\nContent-type: text/plain\r\n\r\n%(body)s""
                msg = msg%{'contactEmail':contactEmail,'senderEmail':mailboxName + '@example.com','subject':subject,'body':body}

                server.sendmail(contactEmail, contactEmail, msg) #This is to send it from an internal account to another internal account.
                server.quit()


cherrypy.root = InputExample()
cherrypy.config.update ( file = 'development.conf' )
cherrypy.server.start()
</code></pre>
"
1091,536370,0,3,python,Execute arbitrary python code remotely - can it be done?,"<p>I'm working on a grid system which has a number of very powerful computers. These can be used to execute python functions very quickly. My users have a number of python functions which take a long time to calculate on workstations, ideally they would like to be able to call some functions on a remote powerful server, but have it appear to be running locally.</p>

<p>Python has an old function called ""apply"" - it's mostly useless these days now that python supports the extended-call syntax (e.g. **arguments), however I need to implement something that works a bit like this:</p>

<pre><code>rapply = Rapply( server_hostname ) # Set up a connection
result = rapply( fn, args, kwargs ) # Remotely call the function
assert result == fn( *args, **kwargs ) #Just as a test, verify that it has the expected value.
</code></pre>

<p>Rapply should be a class which can be used to remotely execute some arbitrary code (<code>fn</code> could be literally anything) on a remote server. It will send back the result which the <code>rapply</code> function will return. The ""result"" should have the same value as if I had called the function locally.</p>

<p>Now let's suppose that <code>fn</code> is a user-provided function I need some way of sending it over the wire to the execution server. If I could guarantee that fn was always something simple it could could just be a string containing python source code... but what if it were not so simple? </p>

<p>What if <code>fn</code> might have local dependencies: It could be a simple function which uses a class defined in a different module, is there a way of encapsulating <code>fn</code> and everything that <code>fn</code> requires which is not standard-library? An ideal solution would not require the users of this system to have much knowledge about python development. They simply want to write their function and call it.</p>

<p>Just to clarify, I'm not interested in discussing what kind of network protocol might be used to implement the communication between the client &amp; server. My problem is how to encapsulate a function and its dependencies as a single object which can be serialized and remotely executed. </p>

<p>I'm also not interested in the security implications of running arbitrary code on remote servers - let's just say that this system is intended purely for research and it is within a heavily firewalled environment. </p>
","<p>You could use a SSH connection to the remote PC and run the commands on the other machine directly.  You could even copy the python code to the machine and execute it.</p>
"
883,443920,1,3,python,"Why don't Django admin ""Today"" and ""Now"" buttons show up in Safari?","<p>I'm developing a Django application that contains a model with a date/time field. On my local copy of the application, the admin page for that particular model shows this for the date/time field:</p>

<p><img src=""http://www.cs.wm.edu/~mpd/images/bugs/django-date-local.png"" alt=""alt text"" /></p>

<p>This is as expected. However, when I deploy to my webserver and use the application from there, I get this:</p>

<p><img src=""http://www.cs.wm.edu/~mpd/images/bugs/django-date-server.png"" alt=""alt text"" /></p>

<p>The application on the server is <em>exactly</em> the same as my local copy, <em>except</em> that I have debugging disabled on the server (but I don't think that should matter...should it?). Why does the admin app on the server differ from the local admin app?</p>

<p><hr /></p>

<h2>Update</h2>

<ul>
<li>The issue seems localized to Safari. The ""Today"" and ""Now"" buttons appear when the admin site is accessed via Firefox. It looks like Safari can't download some of the JavaScript files necessary to show these widgets (strange that Firefox can, though).</li>
<li>I noticed that Safari is receiving a ""304 Not Modified"" code for the following files, but I'm not sure what that means, or how to fix it. Obviously, these are the JavaScript files and images that control the date/time widget:
<ul>
<li><code>RelatedObjectLookup.js</code></li>
<li><code>DateTimeShortcuts.js</code></li>
<li><code>icon_calendar.gif</code></li>
<li><code>icon_clock.gif</code></li>
</ul></li>
</ul>
","<p>It seems like you have admin media missing (hence js and images aren't loading). I generally do following.</p>

<p>in <code>settings.py</code></p>

<pre><code>ADMIN_MEDIA_PREFIX = '/media/admin/'
</code></pre>

<p>Then I symlink path of <code>django.contrib.admin.media</code> within my <code>media</code> dir. Say:</p>

<pre><code>ln -s /var/lib/python-support/python2.5/django/contrib/admin/media/ /var/www/media/admin
</code></pre>

<p>Development server serves admin media automatically. But on production servers one generally prefers to server static stuff directly from apache (or whatever server).</p>
"
1093,536370,1,3,python,Execute arbitrary python code remotely - can it be done?,"<p>I'm working on a grid system which has a number of very powerful computers. These can be used to execute python functions very quickly. My users have a number of python functions which take a long time to calculate on workstations, ideally they would like to be able to call some functions on a remote powerful server, but have it appear to be running locally.</p>

<p>Python has an old function called ""apply"" - it's mostly useless these days now that python supports the extended-call syntax (e.g. **arguments), however I need to implement something that works a bit like this:</p>

<pre><code>rapply = Rapply( server_hostname ) # Set up a connection
result = rapply( fn, args, kwargs ) # Remotely call the function
assert result == fn( *args, **kwargs ) #Just as a test, verify that it has the expected value.
</code></pre>

<p>Rapply should be a class which can be used to remotely execute some arbitrary code (<code>fn</code> could be literally anything) on a remote server. It will send back the result which the <code>rapply</code> function will return. The ""result"" should have the same value as if I had called the function locally.</p>

<p>Now let's suppose that <code>fn</code> is a user-provided function I need some way of sending it over the wire to the execution server. If I could guarantee that fn was always something simple it could could just be a string containing python source code... but what if it were not so simple? </p>

<p>What if <code>fn</code> might have local dependencies: It could be a simple function which uses a class defined in a different module, is there a way of encapsulating <code>fn</code> and everything that <code>fn</code> requires which is not standard-library? An ideal solution would not require the users of this system to have much knowledge about python development. They simply want to write their function and call it.</p>

<p>Just to clarify, I'm not interested in discussing what kind of network protocol might be used to implement the communication between the client &amp; server. My problem is how to encapsulate a function and its dependencies as a single object which can be serialized and remotely executed. </p>

<p>I'm also not interested in the security implications of running arbitrary code on remote servers - let's just say that this system is intended purely for research and it is within a heavily firewalled environment. </p>
","<p>You could use a ready-made clustering solution like <a href=""http://www.parallelpython.com"" rel=""nofollow"">Parallel Python</a>. You can relatively easily set up <a href=""http://www.parallelpython.com/content/view/15/30/#QUICKCLUSTERS"" rel=""nofollow"">multiple remote slaves and run arbitrary code on them</a>.</p>
"
1094,536370,6,3,python,Execute arbitrary python code remotely - can it be done?,"<p>I'm working on a grid system which has a number of very powerful computers. These can be used to execute python functions very quickly. My users have a number of python functions which take a long time to calculate on workstations, ideally they would like to be able to call some functions on a remote powerful server, but have it appear to be running locally.</p>

<p>Python has an old function called ""apply"" - it's mostly useless these days now that python supports the extended-call syntax (e.g. **arguments), however I need to implement something that works a bit like this:</p>

<pre><code>rapply = Rapply( server_hostname ) # Set up a connection
result = rapply( fn, args, kwargs ) # Remotely call the function
assert result == fn( *args, **kwargs ) #Just as a test, verify that it has the expected value.
</code></pre>

<p>Rapply should be a class which can be used to remotely execute some arbitrary code (<code>fn</code> could be literally anything) on a remote server. It will send back the result which the <code>rapply</code> function will return. The ""result"" should have the same value as if I had called the function locally.</p>

<p>Now let's suppose that <code>fn</code> is a user-provided function I need some way of sending it over the wire to the execution server. If I could guarantee that fn was always something simple it could could just be a string containing python source code... but what if it were not so simple? </p>

<p>What if <code>fn</code> might have local dependencies: It could be a simple function which uses a class defined in a different module, is there a way of encapsulating <code>fn</code> and everything that <code>fn</code> requires which is not standard-library? An ideal solution would not require the users of this system to have much knowledge about python development. They simply want to write their function and call it.</p>

<p>Just to clarify, I'm not interested in discussing what kind of network protocol might be used to implement the communication between the client &amp; server. My problem is how to encapsulate a function and its dependencies as a single object which can be serialized and remotely executed. </p>

<p>I'm also not interested in the security implications of running arbitrary code on remote servers - let's just say that this system is intended purely for research and it is within a heavily firewalled environment. </p>
","<p>Take a look at <a href=""http://pyro.sourceforge.net/"">PyRO</a>  (Python Remote objects)  It has the ability to set up services on all the computers in your cluster, and invoke them directly, or indirectly through a name server and a publish-subscribe mechanism. </p>
"
882,443920,0,3,python,"Why don't Django admin ""Today"" and ""Now"" buttons show up in Safari?","<p>I'm developing a Django application that contains a model with a date/time field. On my local copy of the application, the admin page for that particular model shows this for the date/time field:</p>

<p><img src=""http://www.cs.wm.edu/~mpd/images/bugs/django-date-local.png"" alt=""alt text"" /></p>

<p>This is as expected. However, when I deploy to my webserver and use the application from there, I get this:</p>

<p><img src=""http://www.cs.wm.edu/~mpd/images/bugs/django-date-server.png"" alt=""alt text"" /></p>

<p>The application on the server is <em>exactly</em> the same as my local copy, <em>except</em> that I have debugging disabled on the server (but I don't think that should matter...should it?). Why does the admin app on the server differ from the local admin app?</p>

<p><hr /></p>

<h2>Update</h2>

<ul>
<li>The issue seems localized to Safari. The ""Today"" and ""Now"" buttons appear when the admin site is accessed via Firefox. It looks like Safari can't download some of the JavaScript files necessary to show these widgets (strange that Firefox can, though).</li>
<li>I noticed that Safari is receiving a ""304 Not Modified"" code for the following files, but I'm not sure what that means, or how to fix it. Obviously, these are the JavaScript files and images that control the date/time widget:
<ul>
<li><code>RelatedObjectLookup.js</code></li>
<li><code>DateTimeShortcuts.js</code></li>
<li><code>icon_calendar.gif</code></li>
<li><code>icon_clock.gif</code></li>
</ul></li>
</ul>
","<p>Check the media location, permissions and setup on your deployment server.</p>

<p><a href=""http://www.djangobook.com/en/1.0/chapter20/"" rel=""nofollow"">http://www.djangobook.com/en/1.0/chapter20/</a></p>
"
266,149040,0,3,python,Is there a way to define which fields in the model are editable in the admin app?,"<p>Assume the following:</p>

<p><em>models.py</em></p>

<pre><code>class Entry(models.Model):
    title = models.CharField(max_length=50)
    slug = models.CharField(max_length=50, unique=True)
    body = models.CharField(max_length=200)
</code></pre>

<p><em>admin.py</em></p>

<pre><code>class EntryAdmin(admin.ModelAdmin):
    prepopulated_fields = {'slug':('title',)}
</code></pre>

<p>I want the slug to be pre-populated by the title, but I dont want the user to be able to edit it from the admin. I assumed that adding the fields=[] to the admin object and not including the slug would have worked, but it didnt. I also tried setting editable=False in the model, but that also didnt work (infact, stops the page from rendering).</p>

<p>Thoughts? </p>
","<p>I'm not sure what you're asking for IS possible.  Your best bet is probably to hide the slug from the admin interface completely by specifying your fieldsets, and than overriding the save method to copy the slug from the tile, and potentially slugifying it...</p>
"
214,113170,2,3,python,What are the Python equivalents of the sighold and sigrelse functions found in C?,"<p>It appears the Python signal module doesn't have anything similar to the sighold and sigrelse functions found in C, using signal.h. Are there Python equivalents of <em>any</em> sort?</p>

<p>Many thanks!</p>
","<p>There is no way to ``block'' signals temporarily from critical sections (since this is not supported by all Unix flavors).</p>

<p><a href=""https://docs.python.org/library/signal.html"" rel=""nofollow"">https://docs.python.org/library/signal.html</a></p>
"
207,110760,3,3,python,Report generation,"<p>I am writing a web app using TurboGears, and in that app the users must be able to generate different reports.
The data the reports need is stored in a database (MySQL).
The reports must be returned either as a easily printable html document, or a pdf file.</p>

<p>I have previously used jasper and iReport for creating the documents, but if I can avoid having to fire up Java to create the report I would be happy.</p>

<p>Ideally I would like to specify reports in a easily readable markup language and then just feed the template data with some kind of library that produces the report.</p>

<p>I gladly accept any kind of hints on how I should go about generating these reports!</p>
","<p><a href=""http://appyframework.org/pod.html"" rel=""nofollow"">Pod</a> is my favorite solution to your problem.</p>
"
206,110760,2,3,python,Report generation,"<p>I am writing a web app using TurboGears, and in that app the users must be able to generate different reports.
The data the reports need is stored in a database (MySQL).
The reports must be returned either as a easily printable html document, or a pdf file.</p>

<p>I have previously used jasper and iReport for creating the documents, but if I can avoid having to fire up Java to create the report I would be happy.</p>

<p>Ideally I would like to specify reports in a easily readable markup language and then just feed the template data with some kind of library that produces the report.</p>

<p>I gladly accept any kind of hints on how I should go about generating these reports!</p>
","<p>You can build some fancy PDFs from Python with the <a href=""http://www.reportlab.com/opensource/"" rel=""nofollow"">ReportLab</a> toolkit.</p>
"
1092,536370,1,3,python,Execute arbitrary python code remotely - can it be done?,"<p>I'm working on a grid system which has a number of very powerful computers. These can be used to execute python functions very quickly. My users have a number of python functions which take a long time to calculate on workstations, ideally they would like to be able to call some functions on a remote powerful server, but have it appear to be running locally.</p>

<p>Python has an old function called ""apply"" - it's mostly useless these days now that python supports the extended-call syntax (e.g. **arguments), however I need to implement something that works a bit like this:</p>

<pre><code>rapply = Rapply( server_hostname ) # Set up a connection
result = rapply( fn, args, kwargs ) # Remotely call the function
assert result == fn( *args, **kwargs ) #Just as a test, verify that it has the expected value.
</code></pre>

<p>Rapply should be a class which can be used to remotely execute some arbitrary code (<code>fn</code> could be literally anything) on a remote server. It will send back the result which the <code>rapply</code> function will return. The ""result"" should have the same value as if I had called the function locally.</p>

<p>Now let's suppose that <code>fn</code> is a user-provided function I need some way of sending it over the wire to the execution server. If I could guarantee that fn was always something simple it could could just be a string containing python source code... but what if it were not so simple? </p>

<p>What if <code>fn</code> might have local dependencies: It could be a simple function which uses a class defined in a different module, is there a way of encapsulating <code>fn</code> and everything that <code>fn</code> requires which is not standard-library? An ideal solution would not require the users of this system to have much knowledge about python development. They simply want to write their function and call it.</p>

<p>Just to clarify, I'm not interested in discussing what kind of network protocol might be used to implement the communication between the client &amp; server. My problem is how to encapsulate a function and its dependencies as a single object which can be serialized and remotely executed. </p>

<p>I'm also not interested in the security implications of running arbitrary code on remote servers - let's just say that this system is intended purely for research and it is within a heavily firewalled environment. </p>
","<p><a href=""http://pypy.readthedocs.org/en/latest/stackless.html#unimplemented-features"" rel=""nofollow"">Stackless</a> had ability to pickle and unpickle running code. Unfortunately current implementation doesn't support this feature.  </p>
"
215,113170,2,3,python,What are the Python equivalents of the sighold and sigrelse functions found in C?,"<p>It appears the Python signal module doesn't have anything similar to the sighold and sigrelse functions found in C, using signal.h. Are there Python equivalents of <em>any</em> sort?</p>

<p>Many thanks!</p>
","<p>There are no direct bindings for this in Python. Accessing them through ctypes is easy enough; here is an example.</p>

<pre><code>import ctypes, signal
libc = ctypes.cdll.LoadLibrary(""libc.so.6"")
libc.sighold(signal.SIGKILL)
libc.sigrelse(signal.SIGKILL)
</code></pre>

<p>I'm not familiar with the use of these calls, but be aware that Python's signal handlers work differently than C. When Python code is attached to a signal callback, the signal is caught on the C side of the interpreter and queued. The interpreter is occasionally interrupted for internal housekeeping (and thread switching, etc). It is during that interrupt the Python handler for the signal will be called.</p>

<p>All that to say, just be aware that Python's signal handling is a little less asynchronous than normal C signal handlers.</p>
"
1097,541100,4,3,python,Finding top-level xml comments using Python's ElementTree,"<p>I'm parsing an xml file using Python's ElementTree, like that:  </p>

<pre><code>et = ElementTree(file=file(""test.xml""))
</code></pre>

<p>test.xml starts with a few lines of xml comments.  </p>

<p>Is there a way to get those comments from et?</p>
","<p>For ElementTree 1.2.X there is an article on <a href=""http://effbot.org/zone/element-pi.htm"" rel=""nofollow"">Reading processing instructions and comments with ElementTree
</a> (<a href=""http://effbot.org/zone/element-pi.htm"" rel=""nofollow"">http://effbot.org/zone/element-pi.htm</a>).</p>

<p><hr /></p>

<p><em>EDIT:</em></p>

<p>The alternative would be using <strong>lxml.etree</strong> which implements the ElementTree API. A quote from <a href=""http://codespeak.net/lxml/compatibility.html"" rel=""nofollow"">ElementTree compatibility of lxml.etree
</a>:</p>

<blockquote>
  <p><strong>ElementTree ignores comments</strong> and
  processing instructions when parsing
  XML, while <strong>etree will read them in</strong> and
  treat them as Comment or
  ProcessingInstruction elements
  respectively.</p>
</blockquote>
"
429,217900,7,3,python,how to generate unit test code for methods,"<p>i want to write code for unit test to test my application code. I have different methods and now want to test these methods one by one in python script.
but i do not how to i write. can any one give me example of small code for unit testing in python.
i am thankful </p>
","<p>Read the <a href=""http://www.python.org/doc/2.5.2/lib/module-unittest.html"" rel=""nofollow"">unit testing framework section</a> of the <a href=""http://www.python.org/doc/2.5.2/lib/lib.html"" rel=""nofollow"">Python Library Reference</a>.</p>

<p>A <a href=""http://www.python.org/doc/2.5.2/lib/minimal-example.html"" rel=""nofollow"">basic example</a> from the documentation:</p>

<pre><code>import random
import unittest

class TestSequenceFunctions(unittest.TestCase):

    def setUp(self):
        self.seq = range(10)

    def testshuffle(self):
        # make sure the shuffled sequence does not lose any elements
        random.shuffle(self.seq)
        self.seq.sort()
        self.assertEqual(self.seq, range(10))

    def testchoice(self):
        element = random.choice(self.seq)
        self.assert_(element in self.seq)

    def testsample(self):
        self.assertRaises(ValueError, random.sample, self.seq, 20)
        for element in random.sample(self.seq, 5):
            self.assert_(element in self.seq)

if __name__ == '__main__':
    unittest.main()
</code></pre>
"
430,217900,1,3,python,how to generate unit test code for methods,"<p>i want to write code for unit test to test my application code. I have different methods and now want to test these methods one by one in python script.
but i do not how to i write. can any one give me example of small code for unit testing in python.
i am thankful </p>
","<p>Here's an <a href=""http://www.python.org/doc/2.5.2/lib/minimal-example.html"" rel=""nofollow"">example</a> and you might want to read a little more on <a href=""http://www.python.org/doc/2.5.2/lib/module-unittest.html"" rel=""nofollow"">pythons unit testing</a>.</p>
"
884,443920,0,3,python,"Why don't Django admin ""Today"" and ""Now"" buttons show up in Safari?","<p>I'm developing a Django application that contains a model with a date/time field. On my local copy of the application, the admin page for that particular model shows this for the date/time field:</p>

<p><img src=""http://www.cs.wm.edu/~mpd/images/bugs/django-date-local.png"" alt=""alt text"" /></p>

<p>This is as expected. However, when I deploy to my webserver and use the application from there, I get this:</p>

<p><img src=""http://www.cs.wm.edu/~mpd/images/bugs/django-date-server.png"" alt=""alt text"" /></p>

<p>The application on the server is <em>exactly</em> the same as my local copy, <em>except</em> that I have debugging disabled on the server (but I don't think that should matter...should it?). Why does the admin app on the server differ from the local admin app?</p>

<p><hr /></p>

<h2>Update</h2>

<ul>
<li>The issue seems localized to Safari. The ""Today"" and ""Now"" buttons appear when the admin site is accessed via Firefox. It looks like Safari can't download some of the JavaScript files necessary to show these widgets (strange that Firefox can, though).</li>
<li>I noticed that Safari is receiving a ""304 Not Modified"" code for the following files, but I'm not sure what that means, or how to fix it. Obviously, these are the JavaScript files and images that control the date/time widget:
<ul>
<li><code>RelatedObjectLookup.js</code></li>
<li><code>DateTimeShortcuts.js</code></li>
<li><code>icon_calendar.gif</code></li>
<li><code>icon_clock.gif</code></li>
</ul></li>
</ul>
","<p>Have you tried checking out firebug's NET tab to see if the admin javascript/css/image files are all loading correctly?</p>

<p>I had that problem once.</p>

<p>Compare all those files from the dev server against the production server.</p>
"
391,206040,2,3,python,Any good team-chat websites?,"<p>Are there any good team-chat websites, preferably in Python, ideally with CherryPy or Trac?</p>

<p>This is similar to <a href=""http://stackoverflow.com/questions/46612/whats-a-good-freeware-collaborative-ie-multiuser-instant-messenger#46660"">http://stackoverflow.com/questions/46612/whats-a-good-freeware-collaborative-ie-multiuser-instant-messenger#46660</a>, but a few primary differences:</p>

<p>1) I very much want to host the server.</p>

<p>2) I don't care if Smileys are included or not in the client.</p>

<p>3) I'd like two options for the users:<br />
   a) Ability to host a private IRC like chat on my Trac page (or link to such a page),<br />
   b) allow remote clients to also interact.  </p>
","<p><a href=""http://www.campfirenow.com/"" rel=""nofollow"">Campfire</a> from 37 signals - the rails guys.</p>

<p><strong>Edit:</strong> It doesn't meet your requirements but it has some great features...</p>
"
1090,536370,4,3,python,Execute arbitrary python code remotely - can it be done?,"<p>I'm working on a grid system which has a number of very powerful computers. These can be used to execute python functions very quickly. My users have a number of python functions which take a long time to calculate on workstations, ideally they would like to be able to call some functions on a remote powerful server, but have it appear to be running locally.</p>

<p>Python has an old function called ""apply"" - it's mostly useless these days now that python supports the extended-call syntax (e.g. **arguments), however I need to implement something that works a bit like this:</p>

<pre><code>rapply = Rapply( server_hostname ) # Set up a connection
result = rapply( fn, args, kwargs ) # Remotely call the function
assert result == fn( *args, **kwargs ) #Just as a test, verify that it has the expected value.
</code></pre>

<p>Rapply should be a class which can be used to remotely execute some arbitrary code (<code>fn</code> could be literally anything) on a remote server. It will send back the result which the <code>rapply</code> function will return. The ""result"" should have the same value as if I had called the function locally.</p>

<p>Now let's suppose that <code>fn</code> is a user-provided function I need some way of sending it over the wire to the execution server. If I could guarantee that fn was always something simple it could could just be a string containing python source code... but what if it were not so simple? </p>

<p>What if <code>fn</code> might have local dependencies: It could be a simple function which uses a class defined in a different module, is there a way of encapsulating <code>fn</code> and everything that <code>fn</code> requires which is not standard-library? An ideal solution would not require the users of this system to have much knowledge about python development. They simply want to write their function and call it.</p>

<p>Just to clarify, I'm not interested in discussing what kind of network protocol might be used to implement the communication between the client &amp; server. My problem is how to encapsulate a function and its dependencies as a single object which can be serialized and remotely executed. </p>

<p>I'm also not interested in the security implications of running arbitrary code on remote servers - let's just say that this system is intended purely for research and it is within a heavily firewalled environment. </p>
","<p>It sounds like you want to do the following.</p>

<ul>
<li><p>Define a shared filesystem space.</p></li>
<li><p>Put ALL your python source in this shared filesystem space.</p></li>
<li><p>Define simple agents or servers that will ""execfile"" a block of code.</p></li>
<li><p>Your client then contacts the agent (REST protocol with POST methods works well for<br />
this) with the block of code.
The agent saves the block of code and does an <code>execfile</code> on that block of code.</p></li>
</ul>

<p>Since all agents share a common filesystem, they all have the same Python library structure.</p>

<p>We do with with a simple WSGI application we call ""batch server"".  We have RESTful protocol for creating and checking on remote requests.</p>
"
246,137580,8,3,python,How can I perform a HEAD request with the mechanize library?,"<p>I know how to do a HEAD request with httplib, but I have to use mechanize for this site. </p>

<p>Essentially, what I need to do is grab a value from the header (filename) without actually downloading the file.</p>

<p>Any suggestions how I could accomplish this?</p>
","<p>Mechanize itself only sends GETs and POSTs, but you can easily extend the Request class to send HEAD. Example:</p>

<pre><code>import mechanize

class HeadRequest(mechanize.Request):
    def get_method(self):
        return ""HEAD""

request = HeadRequest(""http://www.example.com/"")
response = mechanize.urlopen(request)

print response.info()
</code></pre>
"
431,217900,4,3,python,how to generate unit test code for methods,"<p>i want to write code for unit test to test my application code. I have different methods and now want to test these methods one by one in python script.
but i do not how to i write. can any one give me example of small code for unit testing in python.
i am thankful </p>
","<p>It's probably best to start off with the given <code>unittest</code> example. Some standard best practices: </p>

<ul>
<li>put all your tests in a <code>tests</code> folder at the root of your project.</li>
<li>write one test module for each python module you're testing.</li>
<li>test modules should start with the word <code>test</code>.</li>
<li>test methods should start with the word <code>test</code>. </li>
</ul>

<p>When you've become comfortable with <code>unittest</code> (and it shouldn't take long), there are some nice extensions to it that will make life easier as your tests grow in number and scope:</p>

<ul>
<li><a href=""http://somethingaboutorange.com/mrl/projects/nose/"" rel=""nofollow"">nose</a> -- easily find and run all your tests, and more.</li>
<li><a href=""http://testoob.sourceforge.net/"" rel=""nofollow"">testoob</a> -- colorized output (and more, but that's why I use it).</li>
<li><a href=""http://pythoscope.org/"" rel=""nofollow"">pythoscope</a> -- haven't tried it, but this will automatically generate (failing) test stubs for your application. Should save a lot of time writing boilerplate code.</li>
</ul>
"
900,451690,5,3,python,What's the most efficient way to access sibling dictionary value in a Python dict?,"<p>In Python, I've got a list of dictionaries that looks like this:</p>

<pre><code>matchings = [
    {'id': 'someid1', 'domain': 'somedomain1.com'},
    {'id': 'someid2', 'domain': 'somedomain2.com'},
    {'id': 'someid3', 'domain': 'somedomain3.com'}
]
</code></pre>

<p>and, I have a variable:</p>

<pre><code>the_id = 'someid3'
</code></pre>

<p>What's the most efficient way to retrieve the domain value of the item?</p>
","<p>You can use a <a href=""http://docs.python.org/tutorial/datastructures.html#list-comprehensions"" rel=""nofollow"">list comprehension</a>:</p>

<pre><code>domains = [matching['domain'] for matching in matchings if matching['id'] == the_id]
</code></pre>

<p>Which follows the format standard format of:</p>

<pre><code>resulting_list = [item_to_return for item in items if condition]
</code></pre>

<p>And basically encapsulates all the following functionality:</p>

<pre><code>domains = []
for matching in matchings:
    if matching['id'] == the_id:
        domains.append(matching['domain'])
</code></pre>

<p>All that functionality is represented in a single line using list comprehensions.</p>
"
901,451690,0,3,python,What's the most efficient way to access sibling dictionary value in a Python dict?,"<p>In Python, I've got a list of dictionaries that looks like this:</p>

<pre><code>matchings = [
    {'id': 'someid1', 'domain': 'somedomain1.com'},
    {'id': 'someid2', 'domain': 'somedomain2.com'},
    {'id': 'someid3', 'domain': 'somedomain3.com'}
]
</code></pre>

<p>and, I have a variable:</p>

<pre><code>the_id = 'someid3'
</code></pre>

<p>What's the most efficient way to retrieve the domain value of the item?</p>
","<p>The fact that there are dictionaries in the list doesn't really matter - the problem reduces to finding an item in a list where some property is true. To that end, some variation on @<a href=""#451700"" rel=""nofollow"">Soviut</a>'s answer is the way to go: loop or list comprehension, examining each of the items until a match is found. There's no inherent ordering of the items, so you couldn't even rely on something as helpful as <a href=""http://docs.python.org/library/bisect.html"" rel=""nofollow"">bisect</a>.</p>
"
902,451690,1,3,python,What's the most efficient way to access sibling dictionary value in a Python dict?,"<p>In Python, I've got a list of dictionaries that looks like this:</p>

<pre><code>matchings = [
    {'id': 'someid1', 'domain': 'somedomain1.com'},
    {'id': 'someid2', 'domain': 'somedomain2.com'},
    {'id': 'someid3', 'domain': 'somedomain3.com'}
]
</code></pre>

<p>and, I have a variable:</p>

<pre><code>the_id = 'someid3'
</code></pre>

<p>What's the most efficient way to retrieve the domain value of the item?</p>
","<p>The best I can figure is to do an explicit search.  This is one area where I get disappointed in Python is that it doesn't give you a strong set of decoupled building blocks like in the C++ STL algorithms</p>

<pre><code>[d[""domain""] for d in matchings if d[""id""] == ""someid3""]
</code></pre>
"
903,451690,2,3,python,What's the most efficient way to access sibling dictionary value in a Python dict?,"<p>In Python, I've got a list of dictionaries that looks like this:</p>

<pre><code>matchings = [
    {'id': 'someid1', 'domain': 'somedomain1.com'},
    {'id': 'someid2', 'domain': 'somedomain2.com'},
    {'id': 'someid3', 'domain': 'somedomain3.com'}
]
</code></pre>

<p>and, I have a variable:</p>

<pre><code>the_id = 'someid3'
</code></pre>

<p>What's the most efficient way to retrieve the domain value of the item?</p>
","<p>I'd restructure <code>matchings</code>.</p>

<pre><code>from collections import defaultdict
matchings_ix= defaultdict(list)
for m in matchings:
    matchings_ix[m['id']].append( m )
</code></pre>

<p>Now the most efficient lookup is</p>

<pre><code>matchings_ix[ d ]
</code></pre>
"
205,110760,1,3,python,Report generation,"<p>I am writing a web app using TurboGears, and in that app the users must be able to generate different reports.
The data the reports need is stored in a database (MySQL).
The reports must be returned either as a easily printable html document, or a pdf file.</p>

<p>I have previously used jasper and iReport for creating the documents, but if I can avoid having to fire up Java to create the report I would be happy.</p>

<p>Ideally I would like to specify reports in a easily readable markup language and then just feed the template data with some kind of library that produces the report.</p>

<p>I gladly accept any kind of hints on how I should go about generating these reports!</p>
","<p>A partial answer: the easily readable format you are looking for might be <a href=""http://www.docbook.org/"" rel=""nofollow"">DocBook</a>. From there it is very easy to go to PDF, html, RTF, etc. etc.</p>
"
539,264540,1,2,python,using jython and open office 2.4 to convert docs to pdf,"<p>I completed a python script using pyuno which successfully converted a document/ xls / rtf etc to a pdf.
Then I needed to update a mssql database, due to open office currently supporting python 2.3, it's ancientness, lacks support for decent database libs. So I have resorted to using Jython, this way im not burdened down by running inside OO python environment using an old pyuno.</p>

<p>This also means that my conversion code is broken, and I need to now make use of the java libraries instead of the pyuno libs.</p>

<blockquote>
  <p>import com.sun.star.beans.PropertyValue as PropertyValue<br />
  import com.sun.star.bridge.XUnoUrlResolver as XUnoUrlResolver<br />
  import com.sun.star.comp.helper.Bootstrap as Bootstrap<br />
  ->> import com.sun.star.frame.XComponentLoader as XComponentLoader<br />
  ->> import com.sun.star.frame.XStorable as XStorable<br />
  import com.sun.star.lang.XMultiComponentFactory as XMultiComponentFactory<br />
  import com.sun.star.uno.UnoRuntime as UnoRuntime<br />
  import com.sun.star.uno.XComponentContext as XComponentContext  </p>
</blockquote>

<p>The includes with the '->>' do not import the compiler does not recognise the com.sun.star.frame cant see the 'frame' bit. These are the libs I have included.</p>

<p><img src=""http://www.freeimagehosting.net/uploads/eda5cda76d.jpg"" alt=""alt text"" /></p>

<p>Some advice on this matter would be well received</p>

<blockquote>
  <p>context = XComponentContext<br />
  xMultiCompFactory = XMultiComponentFactory<br />
  xcomponentloader = XComponentLoader  </p>
  
  <p>//used in python<br />
  ctx = None<br />
  smgr = None<br />
  doc = None<br />
  url = None  </p>
  
  <p>context = Bootstrap.bootstrap()<br />
  xMultiCompFactory = self.context.getServiceManager()<br />
  xcomponentloader = UnoRuntime.queryInterface(XComponentLoader.class,  ....xMultiCompFactory.createInstanceWithContext(""com.sun.star.frame.Desktop"", context))  </p>
  
  <p>file = ""file:\\"" + file<br />
  // also what is the equivalent of url = uno.systemPathToFileUrl(file) in Java so that I can make use of it to nicely format my path<br />
  properties = []<br />
  p = PropertyValue()<br />
  p.Name = ""Hidden""<br />
  p.Value = True<br />
  properties.append(p)<br />
  properties = tuple(properties)<br />
  doc = xcomponentloader.loadComponentFromURL(file, ""_blank"",0, properties)  </p>
</blockquote>
","<p>And so it goes, according to this guy, you need some oil.... and it works like a charm</p>

<p><a href=""http://www.oooforum.org/forum/viewtopic.phtml?p=304263#304263"" rel=""nofollow"">http://www.oooforum.org/forum/viewtopic.phtml?p=304263#304263</a></p>

<p>include this lib C:\OpenOffice_24\program\classes\unoil.jar</p>
"
538,264540,0,2,python,using jython and open office 2.4 to convert docs to pdf,"<p>I completed a python script using pyuno which successfully converted a document/ xls / rtf etc to a pdf.
Then I needed to update a mssql database, due to open office currently supporting python 2.3, it's ancientness, lacks support for decent database libs. So I have resorted to using Jython, this way im not burdened down by running inside OO python environment using an old pyuno.</p>

<p>This also means that my conversion code is broken, and I need to now make use of the java libraries instead of the pyuno libs.</p>

<blockquote>
  <p>import com.sun.star.beans.PropertyValue as PropertyValue<br />
  import com.sun.star.bridge.XUnoUrlResolver as XUnoUrlResolver<br />
  import com.sun.star.comp.helper.Bootstrap as Bootstrap<br />
  ->> import com.sun.star.frame.XComponentLoader as XComponentLoader<br />
  ->> import com.sun.star.frame.XStorable as XStorable<br />
  import com.sun.star.lang.XMultiComponentFactory as XMultiComponentFactory<br />
  import com.sun.star.uno.UnoRuntime as UnoRuntime<br />
  import com.sun.star.uno.XComponentContext as XComponentContext  </p>
</blockquote>

<p>The includes with the '->>' do not import the compiler does not recognise the com.sun.star.frame cant see the 'frame' bit. These are the libs I have included.</p>

<p><img src=""http://www.freeimagehosting.net/uploads/eda5cda76d.jpg"" alt=""alt text"" /></p>

<p>Some advice on this matter would be well received</p>

<blockquote>
  <p>context = XComponentContext<br />
  xMultiCompFactory = XMultiComponentFactory<br />
  xcomponentloader = XComponentLoader  </p>
  
  <p>//used in python<br />
  ctx = None<br />
  smgr = None<br />
  doc = None<br />
  url = None  </p>
  
  <p>context = Bootstrap.bootstrap()<br />
  xMultiCompFactory = self.context.getServiceManager()<br />
  xcomponentloader = UnoRuntime.queryInterface(XComponentLoader.class,  ....xMultiCompFactory.createInstanceWithContext(""com.sun.star.frame.Desktop"", context))  </p>
  
  <p>file = ""file:\\"" + file<br />
  // also what is the equivalent of url = uno.systemPathToFileUrl(file) in Java so that I can make use of it to nicely format my path<br />
  properties = []<br />
  p = PropertyValue()<br />
  p.Name = ""Hidden""<br />
  p.Value = True<br />
  properties.append(p)<br />
  properties = tuple(properties)<br />
  doc = xcomponentloader.loadComponentFromURL(file, ""_blank"",0, properties)  </p>
</blockquote>
","<p>Using Jython is a great idea for this I think. But why could you not use two scripts, one with pyuno/2.3 and one with pymssql/2.5 (or whatever db adapter you are using)?.</p>

<p>The intermediate format could be anything like a pickle, or json, or XML.</p>

<p>Edit: I should add that I have used pyuno quite extensively, and I feel your pain.</p>
"
1021,502610,1,2,python,Running SimpleXMLRPCServer in separate thread and shutting down,"<p>I have a class that I wish to test via SimpleXMLRPCServer in python. The way I have my unit test set up is that I create a new thread, and start SimpleXMLRPCServer in that. Then I run all the test, and finally shut down.</p>

<p>This is my ServerThread:</p>

<pre><code>class ServerThread(Thread):
    running = True
    def run(self):
        self.server = #Creates and starts SimpleXMLRPCServer

        while (self.running):
            self.server.handle_request()

    def stop(self):
        self.running = False
        self.server.server_close()
</code></pre>

<p>The problem is, that calling ServerThread.stop(), followed by Thread.stop() and Thread.join() will not cause the thread to stop properly if it's already waiting for a request in handle_request. And since there doesn't seem to be any interrupt or timeout mechanisms here that I can use, I am at a loss for how I can cleanly shut down the server thread.</p>
","<p>Two suggestions.</p>

<p>Suggestion One is to use a separate process instead of a separate thread.</p>

<ul>
<li><p>Create a stand-alone XMLRPC server program.</p></li>
<li><p>Start it with <code>subprocess.Popen()</code>. </p></li>
<li><p>Kill it when the test is done.  In standard OS's (not Windows) the kill works nicely.  In Windows, however, there's no trivial kill function, but there are recipes for this.</p></li>
</ul>

<p>The other suggestion is to have a function in your XMLRPC server which causes server self-destruction.  You define a function that calls <code>sys.exit()</code> or <code>os.abort()</code> or raises a similar exception that will stop the process.</p>
"
965,471660,1,2,python,Python/Twisted multiuser server - what is more efficient?,"<p>In Python, if I want my server to scale well CPU-wise, I obviously need to spawn multiple processes. I was wondering which is better (using Twisted):</p>

<p>A) The manager process (the one who holds the actual socket connections) puts received packets into a shared queue (the one from the multiprocessing module), and worker processes pull the packets out of the queue, process them and send the results back to the client.</p>

<p>B) The manager process (the one who holds the actual socket connections) launches a deferred thread and then calls the apply() function on the process pool. Once the result returns from the worker process, the manager sends the result back to the client.</p>

<p>In both implementations, the worker processes use thread pools so they can work on more than one packet at once (since there will be a lot of database querying).</p>
","<p>I think that ""A"" is the answer you want, but you don't have to do it yourself.</p>

<p>Have you considered <a href=""https://launchpad.net/ampoule"" rel=""nofollow"">ampoule</a>?</p>
"
964,471660,2,2,python,Python/Twisted multiuser server - what is more efficient?,"<p>In Python, if I want my server to scale well CPU-wise, I obviously need to spawn multiple processes. I was wondering which is better (using Twisted):</p>

<p>A) The manager process (the one who holds the actual socket connections) puts received packets into a shared queue (the one from the multiprocessing module), and worker processes pull the packets out of the queue, process them and send the results back to the client.</p>

<p>B) The manager process (the one who holds the actual socket connections) launches a deferred thread and then calls the apply() function on the process pool. Once the result returns from the worker process, the manager sends the result back to the client.</p>

<p>In both implementations, the worker processes use thread pools so they can work on more than one packet at once (since there will be a lot of database querying).</p>
","<p>I think that B is problematic. The thread would only run on one CPU, and even if it runs a process, the thread is still running. A may be better.</p>

<p>It is best to try and measure both in terms of time and see which one is faster and which one scales well. However, I'll reiterate that I highly doubt that B will scale well.</p>
"
110,82180,3,2,python,PyQt and PyCairo,"<p>I know it's possible to place a PyCairo surface inside a Gtk Drawing Area. But I think Qt is a lot better to work with, so I've been wondering if there's anyway to place a PyCairo surface inside some Qt component?</p>
","<p>Qt's own OpenGL based surfaces (using QPainter) are known to be much faster than Cairo. Might you explain why you want specifically Cairo in Qt?</p>

<p>For the basics of using QPainter see <a href=""http://www.informit.com/articles/article.aspx?p=1174421"" rel=""nofollow"">this excerpt</a> from the book ""C++ GUI Programming with Qt4"", and while it's C++ code, the PyQt implementation will be parallel.</p>

<p>As for joining Cairo with Qt... <a href=""http://arstechnica.com/news.ars/post/20080818-nokia-helps-port-firefox-to-qt.html"" rel=""nofollow"">This article in ArsTechnica</a> sheds some light - it seems nothing that could help you exists currently (iow., nobody tried such marriage).</p>
"
111,82180,0,2,python,PyQt and PyCairo,"<p>I know it's possible to place a PyCairo surface inside a Gtk Drawing Area. But I think Qt is a lot better to work with, so I've been wondering if there's anyway to place a PyCairo surface inside some Qt component?</p>
","<p>For plotting with you should also consider matplotlib, which provides a higher level API and integrates well with PyQT.</p>
"
908,452430,6,2,python,How can I test that I have a Python module successfully installed?,"<p>I tried to install beautifulsoup. I get such an error:<br>
&lt;-- snip --></p>

<pre><code>raise MissingSectionHeaderError(fpname, lineno, line)
ConfigParser.MissingSectionHeaderError: File contains no section headers.
file: /Users/Sam/.pydistutils.cfg, line: 1
'install_lib = ~/Library/Python/$py_version_short/site-packages\n'
</code></pre>

<p>I get an similar error as I run my Python code in vim by: 
:!python %</p>
","<p>You can test if a module is installed like so:</p>

<pre><code>$ python
&gt;&gt;&gt; import modulename
</code></pre>
"
627,318390,1,2,python,Running numpy from cygwin,"<p>I am running a windows machine have installed Python 2.5.  I also used the windows installer to install NumPy. </p>

<p>This all works great when I run the Python (command line) tool that comes with Python.</p>

<p>However, if I run cygwin and then run Python from within, it cannot find the numpy package.</p>

<p>What environment variable do I need to set? What value should it be set to?  </p>
","<p>You're running a separate copy of python provided by cygwin.</p>

<p>You can run /cygdrive/c/python25/python (or wherever you installed it)
to get your win32 one, or just install another copy of numpy.</p>
"
628,318390,0,2,python,Running numpy from cygwin,"<p>I am running a windows machine have installed Python 2.5.  I also used the windows installer to install NumPy. </p>

<p>This all works great when I run the Python (command line) tool that comes with Python.</p>

<p>However, if I run cygwin and then run Python from within, it cannot find the numpy package.</p>

<p>What environment variable do I need to set? What value should it be set to?  </p>
","<p>Ensure that PYTHONPATH has NumPy. Refer <a href=""http://www.python.org/doc/2.5.2/tut/node8.html"" rel=""nofollow"">The Module Search Path (section 6.1.2)</a> and <a href=""http://www.python.org/doc/2.5.2/inst/search-path.html"" rel=""nofollow"">Modifying Python's Search Path (section 4.1)</a>.</p>
"
778,394500,1,2,python,Is there a simple way in Python to create a file which can be written to in one thread and read in a different one?,"<p>In the python program I'm writing, I've got a thread which iterates over a large structure in memory and writes it incrementally into a file-like object.  I've got another thread which takes a file-like object and writes it to disk.  Is there an easy way to connect the two, such that any data input from the first thread will be buffered for the second?</p>

<p>Specifically, I'm trying to pass data to subprocess.Popen().  The process will read from stdin, but you cannot pass a ""file-like"" object to Popen because it calls stdin.fileno() and blows up unless you have a real file.</p>

<p>Instead, you need to pass the PIPE argument to Popen, which allows you to use proc.stdin as a file-like object.  But if you've already got a file-like object, there doesn't seem to be a great way to yolk the two of them together.</p>
","<p>I think there is something wrong in the design if you already have a file-like object if you want your data to end up in the subprocess. You should then arrange that they get written into the subprocess in the first place, rather than having them written into something else file-like first. Whoever is writing the data should allow the flexibility to specify the output stream, and that should be the subprocess pipe.</p>

<p>Alternatively, if the writer insists on creating its own stream object, you should let it complete writing, and only then start the subprocess, feeding it from the result of first write. E.g. if it is a StringIO object, take its value after writing, and write it into the pipe; no need for thread synchronization here.</p>
"
626,318390,3,2,python,Running numpy from cygwin,"<p>I am running a windows machine have installed Python 2.5.  I also used the windows installer to install NumPy. </p>

<p>This all works great when I run the Python (command line) tool that comes with Python.</p>

<p>However, if I run cygwin and then run Python from within, it cannot find the numpy package.</p>

<p>What environment variable do I need to set? What value should it be set to?  </p>
","<p>Cygwin comes with its own version of Python, so it's likely that you have two Python installs on your system; one that installed under Windows and one which came with Cygwin.</p>

<p>To test this, try opening a bash prompt in Cygwin and typing <code>which python</code> to see where the Python executable is located.  If it says <code>/cygdrive/c/Python25/python.exe</code> or something similar then you'll know you're running the Windows executable.  If you see <code>/usr/local/bin/python</code> or something like that, then you'll know that you're running the Cygwin version.</p>

<p>I recommend opening a DOS prompt and running Python from there when you need interactive usage.  This will keep your two Python installs nicely separate (it can be very useful to have both; I do this on my own machine).  Also, you may have some problems running a program designed for Windows interactive console use from within a Cygwin shell.</p>
"
1006,491380,2,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>I don't know Python, so I can't comment on what it offers, and I agree with those who suggest Nagios or other existing systems.</p>

<p>However, if you decide to roll your own system with Perl, Consider using <a href=""http://search.cpan.org/~rcaputo/POE-1.003/lib/POE.pm"" rel=""nofollow"">POE</a>. POE is a cooperative multitasking and networking framework.  </p>

<p>POE has a steep learning curve.  But you will be repaid for you effort very quickly.  POE will provide a solid foundation to build from.  Much of the <a href=""http://search.cpan.org/search?query=POE+Component&amp;mode=all"" rel=""nofollow"">client code</a> you will need is already available on CPAN.</p>
"
624,311300,0,2,python,Admin generic inlines for multi-table subclassed models broken --- any alternatives?,"<p>Here's what I'm trying to do, and failing...</p>

<p>I have a File model which has a generic-relation to other objects:</p>

<pre><code>class File(models.Model):
    content_type = models.ForeignKey(ContentType)
    object_id = models.PositiveIntegerField()
    content_object = generic.GenericForeignKey()
    file = models.FileField(upload_to='files/%Y/%m/%d')
    # etc....
</code></pre>

<p>I also want to have a sub-class of File to deal with the specific case of images to be displayed in-page, rather than downloaded:</p>

<pre><code>class Image(File):
    file = models.ImageField(upload_to='files/%Y/%m/%d')
</code></pre>

<p>All of the above works fine, including generic inlines of the File model, until I want to use a generic-inline of the Image model --- the save process fails to create the base class instance and so raises an error stating that the Image.file_ptr (the 'secret' foreign key to the base class) cannot be None.</p>

<p>So, basically, generic inlines do not properly support multi-table inheritance at the moment.</p>

<p>It's quite likely that I'm making this more complicated than it need be, so can anyone suggest either a fix for this problem, or a better way of achieving the same end?</p>

<p>Please let me know if you need further clarification.</p>
","<p>Inheritance can be implemented two ways in a relational model.</p>

<p>A subclass can be a new table with all the same columns as the superclass repeated.  This works well when you have an abstract superclass or subclass features that override the superclass.</p>

<p>A subclass can be just the unique columns with a join to the superclass table.  This works well when you have a concrete superclass.</p>

<p>In your case, it looks you might have the following.</p>

<pre><code>class FileFacts( models.Model ):
    content_type = models.ForeignKey(ContentType)
    object_id = models.PositiveIntegerField()
    content_object = generic.GenericForeignKey()

class DownloadFile( models.Model ):
    facts = models.ForeignKey( FileFacts )
    file = models.FileField(upload_to='files/%Y/%m/%d')

class InlineImage( models.Model ):
    facts = models.ForeignKey( FileFacts )
    file = models.ImageField(upload_to='files/%Y/%m/%d')
</code></pre>

<p>This is my preference for handling a subclass-like model.</p>
"
7,19030,2,2,python,How to check set of files conform to a naming scheme,"<p>I have a bunch of files (TV episodes, although that is fairly arbitrary) that I want to check match a specific naming/organisation scheme..</p>

<p>Currently: I have three arrays of regex, one for valid filenames, one for files missing an episode name, and one for valid paths.</p>

<p>Then, I loop though each valid-filename regex, if it matches, append it to a ""valid"" dict, if not, do the same with the missing-ep-name regexs, if it matches this I append it to an ""invalid"" dict with an error code (2:'missing epsiode name'), if it matches neither, it gets added to invalid with the 'malformed name' error code.</p>

<p>The current code can be found <a href=""http://github.com/dbr/checktveps/tree/8a6dc68ad61e684c8d8f0ca1dc37a22d1c51aa82/2checkTvEps.py"" rel=""nofollow"">here</a></p>

<p>I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. </p>

<p>How could I write this system in a more expandable way?</p>

<p>The rules it needs to check would be..</p>

<ul>
<li>File is in the format <code>Show Name - [01x23] - Episode Name.avi</code> or <code>Show Name - [01xSpecial02] - Special Name.avi</code> or <code>Show Name - [01xExtra01] - Extra Name.avi</code></li>
<li>If filename is in the format <code>Show Name - [01x23].avi</code> display it a 'missing episode name' section of the output</li>
<li>The path should be in the format <code>Show Name/season 2/the_file.avi</code> (where season 2 should be the correct season number in the filename)</li>
<li>each <code>Show Name/season 1/</code> folder should contain ""folder.jpg""</li>
</ul>

<p>.any ideas? While I'm trying to check TV episodes, this concept/code should be able to apply to many things..</p>

<p>The only thought I had was a list of dicts in the format:</p>

<pre><code>checker = [
{
    'name':'valid files',
    'type':'file',
    'function':check_valid(), # runs check_valid() on all files
    'status':0 # if it returns True, this is the status the file gets
}
</code></pre>
","<blockquote>
  <p>I want to add a rule that checks for
  the presence of a folder.jpg file in
  each directory, but to add this would
  make the code substantially more messy
  in it's current state..</p>
</blockquote>

<p>This doesn't look bad.  In fact your current code does it very nicely, and Sven mentioned a good way to do it as well:</p>

<ol>
<li>Get a list of all the files</li>
<li>Check for ""required"" files</li>
</ol>

<p>You would just have have add to your dictionary a list of required files:</p>

<pre><code>checker = {
  ...
  'required': ['file', 'list', 'for_required']
}
</code></pre>

<p>As far as there being a better/extensible way to do this?  I am not exactly sure.  I could only really think of a way to possibly drop the ""multiple"" regular expressions and build off of Sven's idea for using a delimiter.  So my strategy would be defining a dictionary as follows (and I'm sorry I don't know Python syntax and I'm a tad to lazy to look it up but it should make sense.  The /regex/ is shorthand for a regex):</p>

<pre><code>check_dict = {
  'delim'    : /\-/,
  'parts'    : [ 'Show Name', 'Episode Name', 'Episode Number' ],
  'patterns' : [/valid name/, /valid episode name/, /valid number/ ],
  'required' : ['list', 'of', 'files'],
  'ignored'  : ['.*', 'hidden.txt'],
  'start_dir': '/path/to/dir/to/test/'
}
</code></pre>

<ol>
<li>Split the filename based on the delimiter.</li>
<li>Check each of the parts.</li>
</ol>

<p>Because its an ordered list you can determine what parts are missing and if a section doesn't match any pattern it is malformed.  Here the <code>parts</code> and <code>patterns</code> have a 1 to 1 ratio.  Two arrays instead of a dictionary enforces the order.</p>

<p>Ignored and required files can be listed.  The <code>.</code> and <code>..</code> files should probably be ignored automatically.  The user should be allowed to input ""globs"" which can be shell expanded.  I'm thinking here of <code>svn:ignore</code> properties, but globbing is natural for listing files.</p>

<p>Here <code>start_dir</code> would be default to the current directory but if you wanted a single file to run automated testing of a bunch of directories this would be useful.</p>

<p>The real loose end here is the path template and along the same lines what path is required for ""valid files"".  I really couldn't come up with a solid idea without writing one large regular expression and taking groups from it... to build a template.  It felt a lot like writing a TextMate language grammar.  But that starts to stray on the ease of use.  The real problem was that the path template was not composed of <code>parts</code>, which makes sense but adds complexity.</p>

<p>Is this strategy in tune with what you were thinking of?</p>
"
1005,491380,14,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>Well, I work in both Perl and Python, and my day job is supporting a network monitoring software. Most of the import points have already been covered, but I'll consolidate/reiterate here: </p>

<ol>
<li><p>Don't reinvent the wheel - there are dozens of network monitoring solutions that you can use to perform ping tests and analyze collected data. See for example</p>

<ul>
<li><a href=""http://www.nagios.org/""><strong>Nagios</strong></a> </li>
<li><a href=""http://www.zenoss.com/""><strong>Zenoss</strong></a></li>
<li><a href=""http://www.opennms.org/index.php/Main_Page""><strong>OpenNMS</strong></a></li>
<li><a href=""http://keith.dart.googlepages.com/pynmshome""><strong>PyNMS</strong></a></li>
</ul></li>
<li><p>If you insist on doing this yourself, this can be done in either Perl or Python - use the one you know best. If you're planning on parsing a lot of text, it will be easier to do this ""quick and dirty"" in Perl than it will be in Python. Both can do it, but Python requires an OOP approach and it just isn't as easy as Perl's inline regex syntax. </p></li>
<li><p>Use libraries - many, many people have done this task before you so look around for a suitable lib like Net::Ping in Perl or the <a href=""http://code.activestate.com/recipes/409689/"">icmplib</a> in Python or <a href=""http://svn.pylucid.net/pylucid/CodeSnippets/ping.py"">this ping.py</a> code. </p></li>
<li><p>Use threads or asynchronous pings - otherwise pinging is going to take forever for example see <a href=""http://www.wellho.net/solutions/python-python-threads-a-first-example.html"">this recipe</a> using threads to run pings simultaneously. This is particularly easy to do in Python using either approach, so this is one place Python will be easier to work with IMO than using Perl. </p></li>
</ol>
"
6,19030,0,2,python,How to check set of files conform to a naming scheme,"<p>I have a bunch of files (TV episodes, although that is fairly arbitrary) that I want to check match a specific naming/organisation scheme..</p>

<p>Currently: I have three arrays of regex, one for valid filenames, one for files missing an episode name, and one for valid paths.</p>

<p>Then, I loop though each valid-filename regex, if it matches, append it to a ""valid"" dict, if not, do the same with the missing-ep-name regexs, if it matches this I append it to an ""invalid"" dict with an error code (2:'missing epsiode name'), if it matches neither, it gets added to invalid with the 'malformed name' error code.</p>

<p>The current code can be found <a href=""http://github.com/dbr/checktveps/tree/8a6dc68ad61e684c8d8f0ca1dc37a22d1c51aa82/2checkTvEps.py"" rel=""nofollow"">here</a></p>

<p>I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. </p>

<p>How could I write this system in a more expandable way?</p>

<p>The rules it needs to check would be..</p>

<ul>
<li>File is in the format <code>Show Name - [01x23] - Episode Name.avi</code> or <code>Show Name - [01xSpecial02] - Special Name.avi</code> or <code>Show Name - [01xExtra01] - Extra Name.avi</code></li>
<li>If filename is in the format <code>Show Name - [01x23].avi</code> display it a 'missing episode name' section of the output</li>
<li>The path should be in the format <code>Show Name/season 2/the_file.avi</code> (where season 2 should be the correct season number in the filename)</li>
<li>each <code>Show Name/season 1/</code> folder should contain ""folder.jpg""</li>
</ul>

<p>.any ideas? While I'm trying to check TV episodes, this concept/code should be able to apply to many things..</p>

<p>The only thought I had was a list of dicts in the format:</p>

<pre><code>checker = [
{
    'name':'valid files',
    'type':'file',
    'function':check_valid(), # runs check_valid() on all files
    'status':0 # if it returns True, this is the status the file gets
}
</code></pre>
","<p>maybe you should take the approach of defaulting to: ""the filename is correct"" and work from there to disprove that statement:</p>

<p>with the fact that you only allow filenames with: 'show name', 'season number x episode number' and 'episode name', you know for certain that these items should be separated by a ""-"" (dash) so you have to have 2 of those for a filename to be correct.<br>
if that checks out, you can use your code to check that the show name matches the show name as seen in the parent's parent folder (case insensitive i assume), the season number matches the parents folder numeric value (with or without an extra 0 prepended).</p>

<p>if however you don't see the correct amount of dashes you instantly know that there is something wrong and stop before the rest of the tests etc.</p>

<p>and separately you can check if the file <code>folder.jpg</code> exists and take the necessary actions. <strong>or</strong> do that first and filter that file from the rest of the files in that folder.</p>
"
1004,491380,1,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>Whichever you know better or are more comfortable using.  They both can do the job and do it well, so it is your preference.  </p>
"
1100,543140,2,2,python,Granularity of Paradigm Mixing,"<p>When using a multi-paradigm language such as Python, C++, D, or Ruby, how much do you mix paradigms within a single application?  Within a single module?  Do you believe that mixing the functional, procedural and OO paradigms at a fine granularity leads to clearer, more concise code because you're using the right tool for every subproblem, or an inconsistent mess because you're doing similar things 3 different ways?</p>
","<p>Different paradigms mix in different ways.  For example, Using OOP doesn't eliminate the use of subroutines and procedural code from an outside library.  It merely moves the procedures around into a different place.</p>

<p>It is impossible to purely program with one paradigm.  You may think you have a single one in mind when you program, but that's your illusion.  Your resultant code will land along the borders and within the bounds of many paradigms.</p>
"
1003,491380,-1,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>I'd say that if you need something quick and dirty that's up and running by this afternoon, then perl is probably the better language.</p>

<p>However for developing solid application that's easy to maintain and extend and that you can build on over time, I'd go with python.</p>

<p>This is of course assuming you know both languages more or less equally well.  </p>
"
1002,491380,22,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>I agree that it is pretty subjective which programming language you use - essentially I would rather get the job done as quickly and efficiently as possible which making it supportable - so that depends on your infrastructure...</p>

<p>Can I suggest that you look at <a href=""http://www.nagios.org/"">Nagios</a> rather than re-inventing the wheel yourself? </p>

<p>While Nagios might require a greater learning curve in terms of configuration, it will be worth it in the long run, and if you can't find a plugin to suit your requirements, then it is easy to write your own. <a href=""http://www.joelonsoftware.com/items/2008/01/22.html"">Joel Spolsky</a> has written an interesting article on this.</p>
"
1001,491380,12,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>Go with Perl.</p>

<p>You'll have access to a nice Ping object, <a href=""http://search.cpan.org/perldoc?Net::Ping"">Net::Ping</a> and storing the results in a database is pretty easy.</p>
"
779,394500,2,2,python,Is there a simple way in Python to create a file which can be written to in one thread and read in a different one?,"<p>In the python program I'm writing, I've got a thread which iterates over a large structure in memory and writes it incrementally into a file-like object.  I've got another thread which takes a file-like object and writes it to disk.  Is there an easy way to connect the two, such that any data input from the first thread will be buffered for the second?</p>

<p>Specifically, I'm trying to pass data to subprocess.Popen().  The process will read from stdin, but you cannot pass a ""file-like"" object to Popen because it calls stdin.fileno() and blows up unless you have a real file.</p>

<p>Instead, you need to pass the PIPE argument to Popen, which allows you to use proc.stdin as a file-like object.  But if you've already got a file-like object, there doesn't seem to be a great way to yolk the two of them together.</p>
","<p>Use <a href=""http://docs.python.org/library/shutil.html#shutil.copyfileobj"" rel=""nofollow""><code>shutil</code>'s <code>copyfileobj()</code></a> function:</p>

<pre><code>import shutil
import subprocess

proc = subprocess.Popen([...], stdin=subprocess.PIPE)

my_input = get_filelike_object('from a place not given in the question')

shutil.copyfileobj(my_input, proc.stdin)
</code></pre>

<p>No need to use threads.</p>
"
776,394500,4,2,python,Is there a simple way in Python to create a file which can be written to in one thread and read in a different one?,"<p>In the python program I'm writing, I've got a thread which iterates over a large structure in memory and writes it incrementally into a file-like object.  I've got another thread which takes a file-like object and writes it to disk.  Is there an easy way to connect the two, such that any data input from the first thread will be buffered for the second?</p>

<p>Specifically, I'm trying to pass data to subprocess.Popen().  The process will read from stdin, but you cannot pass a ""file-like"" object to Popen because it calls stdin.fileno() and blows up unless you have a real file.</p>

<p>Instead, you need to pass the PIPE argument to Popen, which allows you to use proc.stdin as a file-like object.  But if you've already got a file-like object, there doesn't seem to be a great way to yolk the two of them together.</p>
","<p>You should use the <a href=""http://docs.python.org/library/queue.html"" rel=""nofollow"">Queue</a> module for sharing sequential data across threads. You would have to make a file-like Queue subclass, where .read and .write mutually block each other, with a buffer in-between.</p>

<p>OTOH, I wonder why the first thread can't write to the real file in the first place.</p>
"
777,394500,0,2,python,Is there a simple way in Python to create a file which can be written to in one thread and read in a different one?,"<p>In the python program I'm writing, I've got a thread which iterates over a large structure in memory and writes it incrementally into a file-like object.  I've got another thread which takes a file-like object and writes it to disk.  Is there an easy way to connect the two, such that any data input from the first thread will be buffered for the second?</p>

<p>Specifically, I'm trying to pass data to subprocess.Popen().  The process will read from stdin, but you cannot pass a ""file-like"" object to Popen because it calls stdin.fileno() and blows up unless you have a real file.</p>

<p>Instead, you need to pass the PIPE argument to Popen, which allows you to use proc.stdin as a file-like object.  But if you've already got a file-like object, there doesn't seem to be a great way to yolk the two of them together.</p>
","<p>I'm not clear what you're trying to do ehre.  This sounds like a job for a regular old pipe, which is a file-like object.  I'm guessing, however, that you mean you're got a stream of some other sort.</p>

<p>It also sounds a lot like what you want is a python <a href=""http://docs.python.org/library/queue.html"" rel=""nofollow"">Queue</a>, or maybe a <a href=""http://docs.python.org/library/tempfile.html#module-tempfile"" rel=""nofollow"">tempfile</a>.</p>
"
765,392100,3,2,python,wxPython and sharing objects between windows,"<p>I've been working with python for a while now and am just starting to learn wxPython.  After creating a few little programs, I'm having difficulty understanding how to create objects that can be shared between dialogs.</p>

<p>Here's some code as an example (apologies for the length - I've tried to trim):</p>

<pre><code>import wx

class ExampleFrame(wx.Frame):
    """"""The main GUI""""""
    def __init__(self, parent, id, title):
        wx.Frame.__init__(self, parent, id, title, size=(200,75))
        mainSizer = wx.BoxSizer(wx.VERTICAL)

        # Setup buttons
        buttonSizer = wx.BoxSizer(wx.HORIZONTAL)
        playerButton = wx.Button(self, wx.ID_ANY, ""Player number"", wx.DefaultPosition, wx.DefaultSize, 0)
        buttonSizer.Add(playerButton, 1, wx.ALL | wx.EXPAND, 0)
        nameButton = wx.Button(self, wx.ID_ANY, ""Player name"", wx.DefaultPosition, wx.DefaultSize, 0)
        buttonSizer.Add(nameButton, 1, wx.ALL | wx.EXPAND, 0)

        # Complete layout and add statusbar
        mainSizer.Add(buttonSizer, 1, wx.EXPAND, 5)
        self.SetSizer(mainSizer)
        self.Layout()

        # Deal with the events
        playerButton.Bind(wx.EVT_BUTTON, self.playerButtonEvent)
        nameButton.Bind(wx.EVT_BUTTON, self.nameButtonEvent)
        self.Show(True)
        return

    def playerButtonEvent(self, event):
        """"""Displays the number of game players""""""
        playerDialog = PlayerDialogWindow(None, -1, ""Player"")
        playerDialogResult = playerDialog.ShowModal() 
        playerDialog.Destroy()
        return

    def nameButtonEvent(self, event):
        """"""Displays the names of game players""""""
        nameDialog = NameDialogWindow(None, -1, ""Name"")
        nameDialogResult = nameDialog.ShowModal() 
        nameDialog.Destroy()
        return

class PlayerDialogWindow(wx.Dialog):
    """"""Displays the player number""""""
    def __init__(self, parent, id, title):
        wx.Dialog.__init__(self, parent, id, title, size=(200,120))

        # Setup layout items
        self.SetAutoLayout(True)
        mainSizer = wx.BoxSizer(wx.VERTICAL)
        dialogPanel = wx.Panel(self, wx.ID_ANY, wx.DefaultPosition, wx.DefaultSize, wx.TAB_TRAVERSAL)
        dialogSizer = wx.BoxSizer(wx.VERTICAL)

        # Display player number
        playerNumber = ""Player number is %i"" % gamePlayer.number
        newLabel = wx.StaticText(dialogPanel, wx.ID_ANY, playerNumber, wx.DefaultPosition, wx.DefaultSize, 0)
        dialogSizer.Add(newLabel, 0, wx.ALL | wx.EXPAND, 5)

        # Setup buttons
        buttonSizer = wx.StdDialogButtonSizer()
        okButton = wx.Button(dialogPanel, wx.ID_OK)
        buttonSizer.AddButton(okButton)
        buttonSizer.Realize()
        dialogSizer.Add(buttonSizer, 1, wx.EXPAND, 5)

        # Complete layout
        dialogPanel.SetSizer(dialogSizer)
        dialogPanel.Layout()
        dialogSizer.Fit(dialogPanel)
        mainSizer.Add(dialogPanel, 1, wx.ALL | wx.EXPAND, 5)
        self.SetSizer(mainSizer)
        self.Layout()

        # Deal with the button events
        okButton.Bind(wx.EVT_BUTTON, self.okClick)
        return

    def okClick(self, event):
        """"""Deals with the user clicking the ok button""""""
        self.EndModal(wx.ID_OK)
        return 

class NameDialogWindow(wx.Dialog):
    """"""Displays the player name""""""
    def __init__(self, parent, id, title):
        wx.Dialog.__init__(self, parent, id, title, size=(200,120))

        # Setup layout items
        self.SetAutoLayout(True)
        mainSizer = wx.BoxSizer(wx.VERTICAL)
        dialogPanel = wx.Panel(self, wx.ID_ANY, wx.DefaultPosition, wx.DefaultSize, wx.TAB_TRAVERSAL)
        dialogSizer = wx.BoxSizer(wx.VERTICAL)

        # Display player number
        playerNumber = ""Player name is %s"" % gamePlayer.name
        newLabel = wx.StaticText(dialogPanel, wx.ID_ANY, playerNumber, wx.DefaultPosition, wx.DefaultSize, 0)
        dialogSizer.Add(newLabel, 0, wx.ALL | wx.EXPAND, 5)

        # Setup buttons
        buttonSizer = wx.StdDialogButtonSizer()
        okButton = wx.Button(dialogPanel, wx.ID_OK)
        buttonSizer.AddButton(okButton)
        buttonSizer.Realize()
        dialogSizer.Add(buttonSizer, 1, wx.EXPAND, 5)

        # Complete layout
        dialogPanel.SetSizer(dialogSizer)
        dialogPanel.Layout()
        dialogSizer.Fit(dialogPanel)
        mainSizer.Add(dialogPanel, 1, wx.ALL | wx.EXPAND, 5)
        self.SetSizer(mainSizer)
        self.Layout()

        # Deal with the button events
        okButton.Bind(wx.EVT_BUTTON, self.okClick)
        return

    def okClick(self, event):
        """"""Deals with the user clicking the ok button""""""
        self.EndModal(wx.ID_OK)
        return 

class Player(object):
    """"""A game player""""""
    def __init__(self, number, name):
        self.number = number
        self.name = name
        return

def main():
    # Start GUI
    global gamePlayer
    gamePlayer = Player(1, ""John Smith"")
    app = wx.App(redirect=False)
    frame = ExampleFrame(None, -1, ""Example frame"")
    frame.Show(True)
    app.MainLoop()
    return 0

if __name__ == '__main__':
    main()
</code></pre>

<p>So, I want both of the dialogs to access the gamePlayer object.  At the moment, the only way I can think of doing it is to create the gamePlayer object as a global object, but these are normally frowned upon - is there a better way to do this?</p>

<p>There is a method of passing objects in event bindings in <a href=""http://stackoverflow.com/questions/173687?sort=votes"" rel=""nofollow"">this question</a>, but it doesn't feel quite right.</p>

<p>Is learning to implement the MVC pattern the way forward here?</p>

<p>Thanks.</p>
","<p>You can pass a gamePlayer object to <code>__init__</code> as another argument.</p>

<pre><code>def __init__(self, parent, id, title, gamePlayer ):
    ...etc...
</code></pre>

<p>In the long run, this isn't ideal.  </p>

<p>You should separate building an empty panel from loading that panel with data.  The empty panel is one thing, populating it with data from the model is unrelated.</p>

<p>Populating a frame with data is where you must be given the gamePlayer object which will be used to update the various display widgets.</p>

<p>I'd suggest you look at the Document-View framework for guidance on this.  <a href=""http://docs.wxwidgets.org/stable/wx_docviewoverview.html#docviewoverview"" rel=""nofollow"">http://docs.wxwidgets.org/stable/wx_docviewoverview.html#docviewoverview</a>.  Unfortunately, there aren't any good Python examples of this, so it can be confusing to convert from the C++ code to Python.</p>

<p>Ultimately, you have a ""document"" which is the main object (""gamePlayer"") that is being displayed.  Each Frame is a view of that document.</p>
"
909,452430,1,2,python,How can I test that I have a Python module successfully installed?,"<p>I tried to install beautifulsoup. I get such an error:<br>
&lt;-- snip --></p>

<pre><code>raise MissingSectionHeaderError(fpname, lineno, line)
ConfigParser.MissingSectionHeaderError: File contains no section headers.
file: /Users/Sam/.pydistutils.cfg, line: 1
'install_lib = ~/Library/Python/$py_version_short/site-packages\n'
</code></pre>

<p>I get an similar error as I run my Python code in vim by: 
:!python %</p>
","<p>I'd try the following:  </p>

<ol>
<li>Open Python shell  </li>
<li>Type <code>import &lt;moduleName&gt;</code></li>
<li>Parse the results (no error, ImportError or some module loading error)  </li>
<li>Try to invoke any function from imported module (to see if module is correctly initialized).</li>
</ol>

<p>Do you need something more sophisticated?</p>
"
841,419260,1,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>You can use Perl to help you complete your task.</p>

<pre><code>use strict;
use LWP;

my $browser = LWP::UserAgent-&gt;new;

my $responce = $browser-&gt;get(""http://google.com"");
print $responce-&gt;content;
</code></pre>

<p>Your responce object can tell you if it suceeded as well as returning the content of the page.You can also use this same library to post to a page.</p>

<p>Here is some documentation. <a href=""http://metacpan.org/pod/LWP::UserAgent"" rel=""nofollow"">http://metacpan.org/pod/LWP::UserAgent</a></p>
"
840,419260,1,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>This is called <strong>Web scraping</strong>, and it even has its own <a href=""http://en.wikipedia.org/wiki/Web_scraping"" rel=""nofollow"">Wikipedia article</a> where you can find more information.</p>

<p>Also, you might find more details in this <a href=""http://stackoverflow.com/questions/419235/anyone-know-of-a-good-python-based-web-crawler-that-i-could-use"">SO discussion</a>.</p>
"
839,419260,0,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>As long as the layout of the web page your trying to 'scrape' doesnt regularly change, you should be able to parse the html with any modern day programming language.</p>
"
373,191700,2,2,python,Configuring python,"<p>I am new to python and struggling to find how to control the amount of memory a python process can take? I am running python on a Cento OS machine with more than 2 GB of main memory size. Python is taking up only 128mb of this and I want to allocate it more. I tried to search all over the internet on this for last half an hour and found absolutely nothing! Why is it so difficult to find information on python related stuff :(</p>

<p>I would be happy if someone could throw some light on how to configure python for various things like allowed memory size, number of threads etc.</p>

<p>A link to a site where most controllable parameters of python are described would be appreciated well.</p>
","<p>Are you sure that the machine does not have a 128M process limit? If you are running the python script as a CGI inside a web server, it is quite likely that there is a process limit set - you will need to look at the web server configuration.</p>
"
999,491380,7,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>Either one should work just fine. If you don't have experience with either, flip a coin. No language is inherently productive; languages allow people to be productive. Different people will benefit differently from different languages. </p>

<p>In general, though, when you know your specific task and need to choose a tool, look for the  libraries that would make your life easy. For Perl, check out the <a href=""http://search.cpan.org"" rel=""nofollow"">Comprehensive Perl Archive Network</a>. There are modules for just every networking thing you might need.</p>

<p>Python probably has very similar tools and libraries; I just don't know what they are.</p>
"
372,191700,11,2,python,Configuring python,"<p>I am new to python and struggling to find how to control the amount of memory a python process can take? I am running python on a Cento OS machine with more than 2 GB of main memory size. Python is taking up only 128mb of this and I want to allocate it more. I tried to search all over the internet on this for last half an hour and found absolutely nothing! Why is it so difficult to find information on python related stuff :(</p>

<p>I would be happy if someone could throw some light on how to configure python for various things like allowed memory size, number of threads etc.</p>

<p>A link to a site where most controllable parameters of python are described would be appreciated well.</p>
","<p>Forget all that, python just allocates more memory as needed, there is not a myriad of comandline arguments for the VM as in java, just let it run. For all comandline switches you can just run python -h or read man python.</p>
"
558,273060,0,2,python,Testing Web Services Consumer,"<p>Here are some tools that I have found to test web services consumers:</p>

<p><a href=""http://www.soapui.org/"" rel=""nofollow"">http://www.soapui.org/</a>
https://wsunit.dev.java.net/</p>

<p>Are there any others? I would prefer testing frameworks that are written in Java or Python.</p>
","<p>You really need to be more specific: What is it that you want to test in your WS-consumer? That it calls the right WS? This looks a bit pointless - WS are a perfect place for mocking whatever may be called - without anything being called.</p>

<p>In order to test the consumer you'd otherwise be writing a Webservice that mocks the original, right? I'd suppose that the communication protocol that goes through the wire is not the clients domain - e.g. it's generated. So the only thing a WS-consumer's client sees is the interface. And there's nothing to test in an interface.</p>

<p>It might be that I completely misunderstood your question - please clarify if I did. I'll revise the answer then.</p>
"
464,234590,3,2,python,Solving the shared-server security problem for Python,"<p>So my group is trying to set up a shared-server environment for various and sundry web services.  I think we've settled on setting <code>disable_functions</code> and <code>disable_classes</code> site wide in <code>php.ini</code> and <code>php_admin_value</code> to force <code>open_basedir</code> in each app's <code>httpd.conf</code>
 for php scripts, and passenger's <a href=""http://www.modrails.com/documentation/Users%20guide.html#user_switching"" rel=""nofollow"">user switching</a> for ruby scripts.  </p>

<p>We still need to find something for python though.  Passenger does support python, but not for per-application security for specific sub-directories (it's all or nothing at the domain level).  </p>

<p>Any suggestions?</p>

<p>(And if any of the previous doesn't make sense - well, I'm the guy who's supposed to set up the python support, not the guy who set up the php or ruby support, so there's still some ""and then some magic happens"" steps in there from my perspective).</p>
","<p>Well, there is a system called <a href=""http://pypi.python.org/pypi/virtualenv"" rel=""nofollow"">virtualenv</a> which allows you to run Python in a sort of safe environment, and configure/load/shutdown these environments on the fly. I don't know much about it, but you should take a serious look into it; here is the description from its web page (just Google it and you'll find it):</p>

<blockquote>
  <p>The basic problem being addressed is one of dependencies and versions, and indirectly permissions. Imagine you have an application that needs version 1 of LibFoo, but another application requires version 2. How can you use both these applications? If you install everything into /usr/lib/python2.4/site-packages (or whatever your platform's standard location is), it's easy to end up in a situation where you unintentionally upgrade an application that shouldn't be upgraded.</p>
  
  <p>Or more generally, what if you want to install an application and leave it be? If an application works, any change in its libraries or the versions of those libraries can break the application.</p>
  
  <p>Also, what if you can't install packages into the global site-packages directory? For instance, on a shared host.</p>
  
  <p>In all these cases, virtualenv can help you. It creates an environment that has its own installation directories, that doesn't share libraries with other virtualenv environments (and optionally doesn't use the globally installed libraries either).</p>
</blockquote>
"
557,273060,1,2,python,Testing Web Services Consumer,"<p>Here are some tools that I have found to test web services consumers:</p>

<p><a href=""http://www.soapui.org/"" rel=""nofollow"">http://www.soapui.org/</a>
https://wsunit.dev.java.net/</p>

<p>Are there any others? I would prefer testing frameworks that are written in Java or Python.</p>
","<p>I've  used <a href=""http://www.codeplex.com/WebserviceStudio"" rel=""nofollow"">Web Service Studio</a>.</p>

<blockquote>
  <p><strong>Web Service Studio</strong> is a tool to invoke web methods interactively. The
  user can provide a WSDL endpoint. On clicking button Get the tool
  fetches the WSDL, generates .NET proxy from the WSDL and displays the
  list of methods available. The user can choose any method and provide
  the required input parameters. On clicking Invoke the SOAP request is
  sent to the server and the response is parsed to display the return
  value.</p>
  
  <p>This tool is meant for web service implementers to test their web
  services without having to write the client code. This could also be
  used to access other web services whose WSDL endpoint is known.</p>
</blockquote>

<p>Also the <strong>Web Services Explorer</strong> in Eclipse which comes as part of the <a href=""http://www.eclipse.org/webtools/"" rel=""nofollow"">Web Tools Platform</a>.</p>

<blockquote>
  <p>Through UDDI and WSIL, other applications can discover WSDL documents
  and bind with them to execute transactions or perform other business
  processes. The Web Services Explorer allows you to explore, import,
  and test WSDL documents.</p>
</blockquote>
"
556,273060,1,2,python,Testing Web Services Consumer,"<p>Here are some tools that I have found to test web services consumers:</p>

<p><a href=""http://www.soapui.org/"" rel=""nofollow"">http://www.soapui.org/</a>
https://wsunit.dev.java.net/</p>

<p>Are there any others? I would prefer testing frameworks that are written in Java or Python.</p>
","<p>I have used soapui by a maven plugin. It can create junit-linke reports to be run and analysed like unit tests. This can be easily integrated in continious build, also with the free distribution of soapui.</p>
"
555,273060,0,2,python,Testing Web Services Consumer,"<p>Here are some tools that I have found to test web services consumers:</p>

<p><a href=""http://www.soapui.org/"" rel=""nofollow"">http://www.soapui.org/</a>
https://wsunit.dev.java.net/</p>

<p>Are there any others? I would prefer testing frameworks that are written in Java or Python.</p>
","<p>The Grinder is right up your ally with both Java and Python, that handles most web services, (SOAP/REST/CORBA/RMI/JMS/EJB) etc.</p>

<p><a href=""http://grinder.sourceforge.net/"" rel=""nofollow"">http://grinder.sourceforge.net/</a></p>
"
838,419260,1,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>That site doesnt offer an API for you to be able to get the appropriate data that you need. In that case you'll need to parse the actual HTML page returned by, for example, a CURL request .</p>
"
837,419260,5,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>What you're asking about is called ""web scraping.""  I'm sure if you google around you'll find some stuff, but the core notion is that you want to open a connection to the website, slurp in the HTML, parse it and identify the chunks you want.</p>

<p>The <a href=""http://wiki.python.org/moin/WebProgramming"">Python Wiki</a> has a good lot of stuff on this.</p>
"
836,419260,11,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p><a href=""http://www.crummy.com/software/BeautifulSoup/documentation.html#Quick%20Start"" rel=""nofollow"">Beautiful Soup</a> is a Python library designed for parsing web pages. Between it and <a href=""http://docs.python.org/library/urllib2.html"" rel=""nofollow"">urllib2</a> (<a href=""http://docs.python.org/py3k/library/urllib.request"" rel=""nofollow"">urllib.request</a> in Python 3) you should be able to figure out what you need.</p>
"
835,419260,3,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>Since you write in C, you may want to check out <a href=""http://curl.haxx.se/"" rel=""nofollow"" title=""cURL"">cURL</a>; in particular, take a look at libcurl. It's great.</p>
"
842,419260,2,2,python,Grabbing text from a webpage,"<p>I would like to write a program that will find bus stop times and update my personal webpage accordingly.</p>

<p>If I were to do this manually I would </p>

<ol>
<li>Visit www.calgarytransit.com</li>
<li>Enter a stop number. ie) 9510</li>
<li>Click the button ""next bus""</li>
</ol>

<p>The results may look like the following:</p>

<blockquote>
  <p>10:16p    Route 154	 
  10:46p Route 154	
  11:32p    Route 154</p>
</blockquote>

<p>Once I've grabbed the time and routes then I will update my webpage accordingly. </p>

<p>I have no idea where to start. I know diddly squat about web programming but can write some C and Python. What are some topics/libraries I could look into?</p>
","<p>You can use the mechanize library that is available for Python <a href=""http://wwwsearch.sourceforge.net/mechanize/"" rel=""nofollow"">http://wwwsearch.sourceforge.net/mechanize/</a></p>
"
1000,491380,3,2,python,Should I use Perl or Python for network monitoring?,"<p>I want to have some work done on the Network front, pinging numerous computers on a LAN and retrieving data about the response time. Which would be the most useful and productive to work with: Perl or Python?</p>
","<p>I know Perl better than Python, so my choice would fall on Perl. That said, I'd argue that on low level tasks (like pinging computers on a network and things like that) they are rather equivalent. Python may have a better object-oriented support but for scripting (that happens to be what you need) the power of Perl is quite obvious. The large pool of tested modules (some of them are even object oriented) that you find on <a href=""http://www.cpan.org"" rel=""nofollow"">CPAN</a> usually can do everything you need and they can even scale well if you use them appropriately.</p>
"
577,286150,12,2,python,How to split a web address,"<p>So I'm using python to do some parsing of web pages and I want to split the full web address into two parts. Say I have the address <a href=""http://www.stackoverflow.com/questions/ask"" rel=""nofollow"">http://www.stackoverflow.com/questions/ask</a>. I would need the protocol and domain (e.g. <a href=""http://www.stackoverflow.com"" rel=""nofollow"">http://www.stackoverflow.com</a>) and the path (e.g. /questions/ask). I figured this might be solved by some regex, however I'm not so handy with that. Any suggestions?</p>
","<p>Dan is right: urlparse is your friend:</p>

<pre><code>&gt;&gt;&gt; from urlparse import urlparse
&gt;&gt;&gt;
&gt;&gt;&gt; parts = urlparse(""http://www.stackoverflow.com/questions/ask"")
&gt;&gt;&gt; parts.scheme + ""://"" + parts.netloc
'http://www.stackoverflow.com'
&gt;&gt;&gt; parts.path
'/questions/ask'
</code></pre>
"
886,447600,3,2,python,decrypting pdf protected by aes-256bit using the right password,"<p>Is there any way to decrypting a pdf protected by an aes-256 bit key?</p>

<p>I have the correct password and I need a command-line tool (or library - perhaps in python :P ) for decrypting the file and then doing some operation over it.</p>

<p>The best thing could be if the file could be saved decrypted, then I elaborate it and then I can remove it...</p>

<p>Does anyone know something about it?</p>
","<pre><code>import pyPdf                                                                
pdf = pyPdf.PdfFileReader(open(""file.pdf""))
pdf.decrypt(""password"")
</code></pre>

<p>You can then do whatever you want with the contents.  This will work with either the user or owner passwords.</p>
"
885,445980,1,2,python,Is there an easy way to send SCSI passthrough on OSX using native python,"<p>On Windows I am able to sent SCSI passthrough to devices using win32file.DeviceIOControl(..), on UN*X I can do it using fnctl.ioctl(...).</p>

<p>I have been searching for something equivalent in OSX that would allow me to send the IOCTL commands using only native python.</p>

<p>I would to send commands to hard drives specifically, not USB devices.</p>

<p>Is there anyway to do it without writing a Kernel Extension or any other code using only standard python libraries? </p>
","<p>I saw <a href=""http://wagerlabs.com/blog/2008/02/04/writing-a-mac-osx-usb-device-driver-that-implements-scsi-pass-through/"" rel=""nofollow"">this blog post</a> recently talking about using SCSI passthrough under OS X.  Looks like it isn't as easy as Windows or Unix</p>
"
575,286150,0,2,python,How to split a web address,"<p>So I'm using python to do some parsing of web pages and I want to split the full web address into two parts. Say I have the address <a href=""http://www.stackoverflow.com/questions/ask"" rel=""nofollow"">http://www.stackoverflow.com/questions/ask</a>. I would need the protocol and domain (e.g. <a href=""http://www.stackoverflow.com"" rel=""nofollow"">http://www.stackoverflow.com</a>) and the path (e.g. /questions/ask). I figured this might be solved by some regex, however I'm not so handy with that. Any suggestions?</p>
","<pre><code>import re
url = ""http://stackoverflow.com/questions/ask""
protocol, domain = re.match(r""(http://[^/]*)(.*)"", url).groups()
</code></pre>
"
576,286150,7,2,python,How to split a web address,"<p>So I'm using python to do some parsing of web pages and I want to split the full web address into two parts. Say I have the address <a href=""http://www.stackoverflow.com/questions/ask"" rel=""nofollow"">http://www.stackoverflow.com/questions/ask</a>. I would need the protocol and domain (e.g. <a href=""http://www.stackoverflow.com"" rel=""nofollow"">http://www.stackoverflow.com</a>) and the path (e.g. /questions/ask). I figured this might be solved by some regex, however I'm not so handy with that. Any suggestions?</p>
","<p>Use the Python urlparse module:</p>

<p><a href=""https://docs.python.org/library/urlparse.html"" rel=""nofollow"">https://docs.python.org/library/urlparse.html</a></p>

<p>For a well-defined and well-traveled problem like this, don't bother with writing your own code, let alone your own regular expressions.  They cause too much trouble ;-).</p>
"
647,328490,5,2,python,Monitoring a displays state in python?,"<p>How can I tell when Windows is changing a monitors power state?</p>
","<p>It seems that, when Windows wants to start the screen saver or turn the monitor off, it will send a <code>WM_SYSCOMMAND</code> to the topmost window with a <code>wParam</code> of <code>SC_SCREENSAVE</code> (to start the screen saver) or a <code>wParam</code> of <code>SC_MONITORPOWER</code> and a <code>lParam</code> of 1 or 2 (to turn the monitor off). This message will then be passed to <code>DefWindowProc</code>, which will actually do the action. So, if your window happens to be the topmost one, you can intercept these events and ignore them (or do anything else you want before passing them to <code>DefWindowProc</code>).</p>

<p>On Windows Vista, there seems to be a more intuitive, and more reliable, way to know the monitor power state. You call <code>RegisterPowerSettingNotification</code> to tell the system to send your window a <code>WM_POWERBROADCAST</code> message with a <code>wParam</code> of <code>PBT_POWERSETTINGCHANGE</code> and a <code>lParam</code> pointing to a <code>POWERBROADCAST_SETTING</code> structure.</p>

<p>I cannot test either of them since I currently do not have any computer with Windows nearby. I hope, however, they point you in the right direction.</p>

<p>References:</p>

<ul>
<li><a href=""http://blogs.msdn.com/oldnewthing/archive/2006/06/13/629451.aspx"" rel=""nofollow"">The Old New Thing : Fumbling around in the dark and stumbling across the wrong solution</a></li>
<li><a href=""http://groups.google.com/group/borland.public.delphi.nativeapi.win32/browse_thread/thread/81afbb4aff7503d4"" rel=""nofollow"">Recursive hook ... - borland.public.delphi.nativeapi.win32 | Google Groups</a></li>
<li><a href=""http://msdn.microsoft.com/en-us/library/aa373195(VS.85).aspx"" rel=""nofollow"">Registering for Power Events (Windows)</a></li>
</ul>
"
541,265720,7,2,python,HTTP Request Timeout,"<p>In Python 2.6, a new ""timeout"" parameter was added to the httplib.HTTPConnection class:
<a href=""http://docs.python.org/library/httplib.html#httplib.HTTPConnection"" rel=""nofollow"">http://docs.python.org/library/httplib.html#httplib.HTTPConnection</a></p>

<p>However, this is only a timeout for the connection to a server.  I am looking to set a timeout value for the <b>request</b>, not the connection.  This doesn't seem to be supported by httplib.</p>

<p>Is there any way to emulate this behavior?</p>
","<p>No, there isn't.</p>

<p>It's because the <a href=""http://www.greenbytes.de/tech/webdav/rfc2616.html"">HTTP spec</a> does not provide anything for the client to specify time-to-live information with a HTTP request. You can do this only on TCP level, as you mentioned.</p>

<p>On the other hand, the server may inform the client about timeout situations with HTTP status codes <a href=""http://www.greenbytes.de/tech/webdav/rfc2616.html#status.408"">408 Request Timeout</a> resp. <a href=""http://www.greenbytes.de/tech/webdav/rfc2616.html#status.504"">504 Gateway Timeout</a>.</p>
"
540,265720,9,2,python,HTTP Request Timeout,"<p>In Python 2.6, a new ""timeout"" parameter was added to the httplib.HTTPConnection class:
<a href=""http://docs.python.org/library/httplib.html#httplib.HTTPConnection"" rel=""nofollow"">http://docs.python.org/library/httplib.html#httplib.HTTPConnection</a></p>

<p>However, this is only a timeout for the connection to a server.  I am looking to set a timeout value for the <b>request</b>, not the connection.  This doesn't seem to be supported by httplib.</p>

<p>Is there any way to emulate this behavior?</p>
","<p>You can set a global socket timeout <sup>(*)</sup>:</p>

<pre><code>import socket

timeout = 10
socket.setdefaulttimeout(timeout)
</code></pre>

<hr>

<p><sup>(*)</sup> <strong>EDIT</strong>: As people in the comments correctly point out: This is technically true, but it only has predictable results for tasks that involve a single socket operation. An HTTP request consists of multiple socket operations (e.g. DNS requests or other things that might be abstracted away from an HTTP client). The timeout of the overall operation becomes unpredictable because of that.</p>
"
535,263820,2,1,python,launching vs2008 build from python,"<p>The first batch file launches a command prompt, i need the second command to be in the ccontext of the first.  how can I do this in python?</p>

<p>As is, it launches the batch, and blocks until the batch (with its command prompt context) terminates, and then executes <code>devenv</code> without the necessary context.</p>

<pre><code>os.system(r'%comspec% /k """"C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"""" x86')
os.system(r'devenv asdf.sln /rebuild Debug /Out last-build.txt')
</code></pre>

<p>think of it as in i'm in bash, and i need to execute a command in a perl context, so i type <code>perl -c 'asdf'</code>.  executing perl and asdf back to back won't work, i need to get the <code>devenv</code> inside of the perl context.</p>
","<p>You could append the devenv command onto the end of the original batch file like so:</p>

<pre><code>'%comspec% /k ""...vcvarsall.bat"" x86 &amp;&amp; devenv asdf.sln /rebuild ...'
</code></pre>

<p>(obviously I have shortened the commands for simplicity's sake)</p>
"
753,383010,7,1,python,"Using Python's ctypes to pass/read a parameter declared as ""struct_name *** param_name""?","<p>I am trying to use Python's ctypes library to access some methods in the scanning library <a href=""http://www.sane-project.org/"" rel=""nofollow"">SANE</a>.  This is my first experience with ctypes and the first time I have had to deal with C datatypes in over a year so there is a fair learning curve here, but I think even without that this particular declaration would be troublesome:</p>

<pre><code>extern SANE_Status sane_get_devices (const SANE_Device *** device_list, SANE_Bool local_only);
</code></pre>

<p>First of all, I've successfully dealt with <code>SANE_Status</code> (an enum) and <code>SANE_Bool</code> (a typedef to <code>c_int</code>).  Those were both simple.  That first parameter, on the other hand, is causing me all sorts of grief.  I'm unfamiliar with the ""<code>***</code>"" notation to begin with and my tracer bullets so far have yielded nothing more than garbage data.  How do I format the input to this function such that I can read back a list of my Python structure-objects?  For reference, the C structure being referenced is:</p>

<pre><code>typedef struct
{
    SANE_String_Const name; /* unique device name */
    SANE_String_Const vendor;   /* device vendor string */
    SANE_String_Const model;    /* device model name */
    SANE_String_Const type; /* device type (e.g., ""flatbed scanner"") */
 }
SANE_Device;
</code></pre>

<p>Where <code>SANE_String_Const</code> is defined as a <code>c_char_p</code>.</p>

<p>My Python/ctypes version of this object is:</p>

<pre><code>class SANE_Device(Structure):
    _fields_ = [
        (""name"", c_char_p),
        (""vendor"", c_char_p),
        (""model"", c_char_p),
        (""type"", c_char_p)]
</code></pre>

<p>Suggestions on what I should pass in such that I can get the expected behavior (a list of structure-objects) out of this?  All responses appreciated.</p>

<p><strong>Update 1:</strong></p>

<p>Using the following, I was able to retrieve a correct SANE_Device Python structure:</p>

<pre><code>devices = pointer(pointer(pointer(SANE_Device())))
status = libsane.sane_get_devices(devices, c_int(0))
print status, devices, devices.contents.contents.contents.name
</code></pre>

<p>However, 1) yuck and 2) that seems like it would only work if there is a single result.  I can't len() on <code>devices.contents.contents</code> or <code>devices.contents.contents.contents</code>.  How am I to determine the number of results?  The SANE docs specify that ""If the function executes successfully, it stores a pointer to a NULL terminated array of pointers to SANE_Device structures in *device_list"".  Suggestions?</p>

<p><strong>Update 2:</strong></p>

<p>I was able to pass an ten-item array and then access the first element using:</p>

<pre><code>devices = pointer(pointer(pointer((SANE_Device * 10)())))
status = libsane.sane_get_devices(devices, c_int(0))
print status, devices, devices.contents.contents.contents[0].name
</code></pre>

<p>However, ten is obviously an arbitrary number and I have no way of determining the actual number of results.  Trying to access <code>devices.contents.contents.contents[1].name</code> when only one device is connected causes a segmentation fault.  There must be a proper way of dealing with variable-length constructs like these in ctypes.</p>
","<p>A <code>const SANE_Device ***</code> is a three-level pointer: it's a pointer to a pointer to a pointer to a constant SANE_Device.  You can use the program <a href=""http://gd.tuwien.ac.at/linuxcommand.org/man_pages/cdecl1.html"">cdecl</a> to decipher complicated C/C++ type definitions.</p>

<p>According to the <a href=""http://www.sane-project.org/html/doc012.html"">SANE documentation</a>, <code>SANE_get_devices()</code> will store a pointer to a NULL-terminated list of pointers to SANE devices if successful.  Thus, the proper way to call it is to declare a variable of type <code>const SANE_Device **</code> (i.e. a pointer to a pointer to a constant `SANE_Device), and pass in the address of that pointer:</p>

<pre><code>const SANE_Device **device_list;
SANE_get_devices(&amp;device_list, local_only);  // check return value
// Now, device_list[0] points to the first device,
// device_list[1] points to the second device, etc.
// Once you hit a NULL pointer, that's the end of the list:
int num_devices = 0;
while(device_list[num_devices] != NULL)
    num_devices++;
// num_devices now stores the total number of devices
</code></pre>

<p>Now, this is how you would call it from C code.  I've skimmed the documentation on ctypes, and it appears that you want to use the <code>byref</code> function to pass the argument by reference, and that the value you pass should be a POINTER to a POINTER to a SANE_Device.  Note the distinction between <code>pointer</code> and <code>POINTER</code>: the former creates a pointer to an <em>instance</em>, whereas the latter creates a pointer to a <em>type</em>.  Thus, I'm guessing the following code will work:</p>

<pre><code>// SANE_Device declared as you had it
devices = POINTER(POINTER(SANE_Device))()  // devices is a NULL pointer to a pointer to a SANE_Device
status = libsane.sane_get_devices(byref(devices), c_int(0))
if status != successful:   // replace this by whatever success is
    print error
else:
    num_devices = 0
    // Convert NULL-terminated C list into Python list
    device_list = []
    while devices[num_devices]:
        device_list.append(devices[num_devices].contents)  // use .contents here since each entry in the C list is itself a pointer
        num_devices += 1
    print device_list
</code></pre>

<p>[Edit] I've tested the above code using a very simple placeholder for <code>SANE_get_devices</code>, and it works.</p>
"
775,394300,5,1,python,python introspection not showing functions for Lock,"<p>When I try to use introspection to look at what methods are available on threading.Lock I don't see what I would expect.</p>

<p>Specifically I don't see acquire, release or locked.  Why is this?</p>

<p>Here's what I do see:</p>

<pre><code>&gt;&gt;&gt; dir (threading.Lock)
['__call__', '__class__', '__cmp__', '__delattr__', '__doc__', '__getattribute__', '__hash__', '__init__', '__module__', '__name__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__self__', '__setattr__', '__str__']
</code></pre>
","<p>You're doing it wrong.  <code>threading.Lock</code> is not an object.</p>

<pre><code>&gt;&gt;&gt; import threading
&gt;&gt;&gt; threading.Lock
&lt;built-in function allocate_lock&gt;
&gt;&gt;&gt; type(threading.Lock)
&lt;type 'builtin_function_or_method'&gt;
&gt;&gt;&gt; x=threading.Lock()
&gt;&gt;&gt; type(x)
&lt;type 'thread.lock'&gt;
&gt;&gt;&gt; dir(x)
['__enter__', '__exit__', 'acquire', 'acquire_lock', 'locked', 'locked_lock', 'release', 'release_lock']
&gt;&gt;&gt;
</code></pre>
"
537,263820,2,1,python,launching vs2008 build from python,"<p>The first batch file launches a command prompt, i need the second command to be in the ccontext of the first.  how can I do this in python?</p>

<p>As is, it launches the batch, and blocks until the batch (with its command prompt context) terminates, and then executes <code>devenv</code> without the necessary context.</p>

<pre><code>os.system(r'%comspec% /k """"C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"""" x86')
os.system(r'devenv asdf.sln /rebuild Debug /Out last-build.txt')
</code></pre>

<p>think of it as in i'm in bash, and i need to execute a command in a perl context, so i type <code>perl -c 'asdf'</code>.  executing perl and asdf back to back won't work, i need to get the <code>devenv</code> inside of the perl context.</p>
","<p>I run my Python script from a batch file that sets the variables :-)</p>

<pre><code>call ...\vcvarsall.bat
c:\python26\python.exe myscript.py
</code></pre>

<p>But Brett's solution sounds better.</p>
"
536,263820,2,1,python,launching vs2008 build from python,"<p>The first batch file launches a command prompt, i need the second command to be in the ccontext of the first.  how can I do this in python?</p>

<p>As is, it launches the batch, and blocks until the batch (with its command prompt context) terminates, and then executes <code>devenv</code> without the necessary context.</p>

<pre><code>os.system(r'%comspec% /k """"C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"""" x86')
os.system(r'devenv asdf.sln /rebuild Debug /Out last-build.txt')
</code></pre>

<p>think of it as in i'm in bash, and i need to execute a command in a perl context, so i type <code>perl -c 'asdf'</code>.  executing perl and asdf back to back won't work, i need to get the <code>devenv</code> inside of the perl context.</p>
","<p>I these situations I use script that does it all. That way you can chain as much as you want. Sometimes I will generate the script on the fly.</p>

<pre><code>compileit.cmd
  call C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat
  devenv $1.sln /rebuild Debug /Out last-build.txt
</code></pre>
"
754,383760,4,1,python,"Django objects.filter, how ""expensive"" would this be?","<p>I am trying to make a search view in Django. It is a search form with freetext input + some options to select, so that you can filter on years and so on. This is some of the code I have in the view so far, the part that does the filtering. And I would like some input on how expensive this would be on the database server.</p>

<p><code>
    soknad_list = Soknad.objects.all()</p>

<pre><code>if var1:
    soknad_list = soknad_list.filter(pub_date__year=var1)

if var2:
    soknad_list = soknad_list.filter(muncipality__name__exact=var2)

if var3:
    soknad_list = soknad_list.filter(genre__name__exact=var3)

# TEXT SEARCH
stop_word_list = re.compile(STOP_WORDS, re.IGNORECASE)
search_term = '%s' % request.GET['q']
cleaned_search_term = stop_word_list.sub('', search_term)
cleaned_search_term = cleaned_search_term.strip()
if len(cleaned_search_term) != 0:
    soknad_list = soknad_list.filter(Q(dream__icontains=cleaned_search_term) | Q(tags__icontains=cleaned_search_term) | Q(name__icontains=cleaned_search_term) | Q(school__name__icontains=cleaned_search_term))
</code></pre>

<p></code></p>

<p>So what I do is, first make a list of all objects, then I check which variables exists (I fetch these with GET on an earlier point) and then I filter the results if they exists. But this doesn't seem too elegant, it probably does a lot of queries to achieve the result, so is there a better way to this?</p>

<p>It does exactly what I want, but I guess there is a better/smarter way to do this. Any ideas?</p>
","<p>filter itself doesn't execute a query, no query is executed until you explicitly fetch items from query (e.g. get), and list( query ) also executes it.</p>
"
534,263690,1,1,python,launching VS2008 build from python,"<p>if I paste this into the command prompt by hand, it works, but if I run it from python, I get <code>The filename, directgory name, or volume label syntax is incorrect</code>.</p>

<pre><code>os.system('%comspec% /k """"C:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"""" x86')
os.system('devenv Immersica.sln /rebuild Debug /Out last-build.txt')
</code></pre>
","<p>I think the backslashes are messing you up.  You need to use an R string (raw)</p>

<p>r""string""</p>

<p>See <a href=""https://docs.python.org/2/reference/lexical_analysis.html#string-literals"" rel=""nofollow"">https://docs.python.org/2/reference/lexical_analysis.html#string-literals</a> for reference</p>
"
548,267660,1,1,python,How to create a picture with animated aspects programmatically,"<p>Background</p>

<p>I have been asked by a client to create a picture of the world which has animated arrows/rays that come from one part of the world to another.   </p>

<p>The rays will be randomized, will represent a transaction, will fade out after they happen and will increase in frequency as time goes on.  The rays will start in one country's boundary and end in another's.  As each animated transaction happens a continuously updating sum of the amounts of all the transactions will be shown at the bottom of the image. The amounts of the individual transactions will be randomized.  There will also be a year showing on the image that will increment every n seconds.</p>

<p>The randomization, summation and incrementing are not a problem for me, but I am at a loss as to how to approach the animation of the arrows/rays.</p>

<p><strong>My question is what is the best way to do this?  What frameworks/libraries are best suited for this job?</strong></p>

<p>I am most fluent in python so python suggestions are most easy for me, but I am open to any elegant way to do this.
The client will present this as a slide in a presentation in a windows machine.</p>
","<p>If you are adventurous use OpenGL :)</p>

<p>You can draw bezier curves in 3d space on top of a textured plane (earth map), you can specify a thickness for them and you can draw a point (small cone) at the end. It's easy and it looks nice, problem is learning the basics of OpenGL if you haven't used it before but that would be fun and probably useful if your in to programing graphics.</p>

<p>You can use OpenGL from python either with <a href=""http://pyopengl.sourceforge.net/"" rel=""nofollow"">pyopengl</a> or <a href=""http://www.pyglet.org/"" rel=""nofollow"">pyglet</a>.</p>

<p>If you make the animation this way you can capture it to an avi file (using <a href=""http://www.techsmith.com/camtasia.asp"" rel=""nofollow"">camtasia</a> or something similar) that can be put onto a presentation slide.</p>
"
396,207230,1,1,python,Hooking up GUI interface with asynchronous (s)ftp operation,"<p>Trying to implement a progress dialog window for file uploads that look like a cross between <a href=""http://www.codinghorror.com/blog/images/ie6-download-ui.png"" rel=""nofollow"">IE download dialog</a> and <a href=""http://www.codinghorror.com/blog/images/firefox2-download-ui.png"" rel=""nofollow"">Firefox download dialog</a> with a python GUI library on Windows.</p>

<ol>
<li>What asynchronous (S)FTP libraries are there for python? Ideally I should be able to do file upload resumes and track the progress of each parallel file uploads.</li>
<li>If I'm running each file upload in a separate process each, how would I get the upload status and display it in a progress bar dialog?</li>
</ol>
","<p>If you want a complete example of how to use threads and events to update your GUI with long running tasks using WxPython have a look at this <a href=""http://wiki.wxpython.org/LongRunningTasks"" rel=""nofollow"">page</a>. This tutorial is quite useful and helped me perform a similar program than yours.</p>
"
546,267660,1,1,python,How to create a picture with animated aspects programmatically,"<p>Background</p>

<p>I have been asked by a client to create a picture of the world which has animated arrows/rays that come from one part of the world to another.   </p>

<p>The rays will be randomized, will represent a transaction, will fade out after they happen and will increase in frequency as time goes on.  The rays will start in one country's boundary and end in another's.  As each animated transaction happens a continuously updating sum of the amounts of all the transactions will be shown at the bottom of the image. The amounts of the individual transactions will be randomized.  There will also be a year showing on the image that will increment every n seconds.</p>

<p>The randomization, summation and incrementing are not a problem for me, but I am at a loss as to how to approach the animation of the arrows/rays.</p>

<p><strong>My question is what is the best way to do this?  What frameworks/libraries are best suited for this job?</strong></p>

<p>I am most fluent in python so python suggestions are most easy for me, but I am open to any elegant way to do this.
The client will present this as a slide in a presentation in a windows machine.</p>
","<p>It depends largely on the effort you want to expend on this, but the basic outline of an easy way. Would be to load an image of an arrow, and use a drawing library to color and rotate it in the direction you want to point(or draw it using shapes/curves).</p>

<p>Finally to actually animate it interpolate between the coordinates based on time.</p>

<p>If its just for a presentation though, I would use Macromedia Flash, or a similar animation program.(would do the same as above but you don't need to program anything)</p>
"
547,267660,2,1,python,How to create a picture with animated aspects programmatically,"<p>Background</p>

<p>I have been asked by a client to create a picture of the world which has animated arrows/rays that come from one part of the world to another.   </p>

<p>The rays will be randomized, will represent a transaction, will fade out after they happen and will increase in frequency as time goes on.  The rays will start in one country's boundary and end in another's.  As each animated transaction happens a continuously updating sum of the amounts of all the transactions will be shown at the bottom of the image. The amounts of the individual transactions will be randomized.  There will also be a year showing on the image that will increment every n seconds.</p>

<p>The randomization, summation and incrementing are not a problem for me, but I am at a loss as to how to approach the animation of the arrows/rays.</p>

<p><strong>My question is what is the best way to do this?  What frameworks/libraries are best suited for this job?</strong></p>

<p>I am most fluent in python so python suggestions are most easy for me, but I am open to any elegant way to do this.
The client will present this as a slide in a presentation in a windows machine.</p>
","<blockquote>
  <p>The client will present this as a slide in a presentation in a windows machine</p>
</blockquote>

<p>I think this is the key to your answer. Before going to a 3d implementation and writing all the code in the world to create this feature, you need to look at the presentation software.  Chances are, your options will boil down to two things:</p>

<ol>
<li>Animated Gif</li>
<li>Custom Presentation Scripts</li>
</ol>

<p>Obviously, an animated gif is not ideal due to the fact that it repeats when it is done rendering, and to make it last a long time would make a large gif.</p>

<p>Custom Presentation Scripts would probably be the other way to allow him to bring it up in a presentation without running any side-programs, or doing anything strange. I'm not sure which presentation application is the target, but this could be valuable information.</p>

<p>He sounds like he's more non-technical and requesting something he doesn't realize will be difficult. I think you should come up with some options, explain the difficulty in implementing them, and suggest another solution that falls into the 'bang for your buck' range.</p>
"
755,383760,2,1,python,"Django objects.filter, how ""expensive"" would this be?","<p>I am trying to make a search view in Django. It is a search form with freetext input + some options to select, so that you can filter on years and so on. This is some of the code I have in the view so far, the part that does the filtering. And I would like some input on how expensive this would be on the database server.</p>

<p><code>
    soknad_list = Soknad.objects.all()</p>

<pre><code>if var1:
    soknad_list = soknad_list.filter(pub_date__year=var1)

if var2:
    soknad_list = soknad_list.filter(muncipality__name__exact=var2)

if var3:
    soknad_list = soknad_list.filter(genre__name__exact=var3)

# TEXT SEARCH
stop_word_list = re.compile(STOP_WORDS, re.IGNORECASE)
search_term = '%s' % request.GET['q']
cleaned_search_term = stop_word_list.sub('', search_term)
cleaned_search_term = cleaned_search_term.strip()
if len(cleaned_search_term) != 0:
    soknad_list = soknad_list.filter(Q(dream__icontains=cleaned_search_term) | Q(tags__icontains=cleaned_search_term) | Q(name__icontains=cleaned_search_term) | Q(school__name__icontains=cleaned_search_term))
</code></pre>

<p></code></p>

<p>So what I do is, first make a list of all objects, then I check which variables exists (I fetch these with GET on an earlier point) and then I filter the results if they exists. But this doesn't seem too elegant, it probably does a lot of queries to achieve the result, so is there a better way to this?</p>

<p>It does exactly what I want, but I guess there is a better/smarter way to do this. Any ideas?</p>
","<p>You can see the query that will be generated by using:</p>

<pre><code>soknad_list.query.as_sql()[0]
</code></pre>

<p>You can then put that into your database shell to see how long the query takes, or use EXPLAIN (if your database backend supports it) to see how expensive it is.</p>
"
756,383760,-1,1,python,"Django objects.filter, how ""expensive"" would this be?","<p>I am trying to make a search view in Django. It is a search form with freetext input + some options to select, so that you can filter on years and so on. This is some of the code I have in the view so far, the part that does the filtering. And I would like some input on how expensive this would be on the database server.</p>

<p><code>
    soknad_list = Soknad.objects.all()</p>

<pre><code>if var1:
    soknad_list = soknad_list.filter(pub_date__year=var1)

if var2:
    soknad_list = soknad_list.filter(muncipality__name__exact=var2)

if var3:
    soknad_list = soknad_list.filter(genre__name__exact=var3)

# TEXT SEARCH
stop_word_list = re.compile(STOP_WORDS, re.IGNORECASE)
search_term = '%s' % request.GET['q']
cleaned_search_term = stop_word_list.sub('', search_term)
cleaned_search_term = cleaned_search_term.strip()
if len(cleaned_search_term) != 0:
    soknad_list = soknad_list.filter(Q(dream__icontains=cleaned_search_term) | Q(tags__icontains=cleaned_search_term) | Q(name__icontains=cleaned_search_term) | Q(school__name__icontains=cleaned_search_term))
</code></pre>

<p></code></p>

<p>So what I do is, first make a list of all objects, then I check which variables exists (I fetch these with GET on an earlier point) and then I filter the results if they exists. But this doesn't seem too elegant, it probably does a lot of queries to achieve the result, so is there a better way to this?</p>

<p>It does exactly what I want, but I guess there is a better/smarter way to do this. Any ideas?</p>
","<p>As Aaron mentioned, you should get a hold of the query text that is going to be run against the database and use an EXPLAIN (or other some method) to view the query execution plan. Once you have a hold of the execution plan for the query you can see what is going on in the database itself. There are a lot of operations that see very expensive to run through procedural code that are very trivial for any database to run, especially if you provide indexes that the database can use for speeding up your query.</p>

<p>If I read your question correctly, you're retrieving a result set of all rows in the Soknad table. Once you have these results back you use the filter() method to trim down your results meet your criteria. From looking at the Django documentation, it looks like this will do an in-memory filter rather than re-query the database (of course, this really depends on which data access layer you're using and not on Django itself).</p>

<p>The most optimal solution would be to use a full-text search engine (Lucene, ferret, etc) to handle this for you. If that is not available or practical the next best option would be to to construct a query predicate (WHERE clause) before issuing your query to the database and let the database perform the filtering. </p>

<p><strong>However,</strong> as with all things that involve the database, the real answer is 'it depends.' The best suggestion is to try out several different approaches using data that is close to production and benchmark them over at least 3 iterations before settling on a final solution to the problem. It may be just as fast, or even faster, to filter in memory rather than filter in the database.</p>
"
395,207230,1,1,python,Hooking up GUI interface with asynchronous (s)ftp operation,"<p>Trying to implement a progress dialog window for file uploads that look like a cross between <a href=""http://www.codinghorror.com/blog/images/ie6-download-ui.png"" rel=""nofollow"">IE download dialog</a> and <a href=""http://www.codinghorror.com/blog/images/firefox2-download-ui.png"" rel=""nofollow"">Firefox download dialog</a> with a python GUI library on Windows.</p>

<ol>
<li>What asynchronous (S)FTP libraries are there for python? Ideally I should be able to do file upload resumes and track the progress of each parallel file uploads.</li>
<li>If I'm running each file upload in a separate process each, how would I get the upload status and display it in a progress bar dialog?</li>
</ol>
","<p>""ftplib"" is the standard ftp library built in to Python. In Python 2.6, it had a callback parameter added to the method used for uploading.</p>

<p>That callback is a function you provide to the library; it is called once for every block that is completed.</p>

<p>Your function can send a message to the GUI (perhaps on a different thread/process, using standard inter-thread or inter-process communications) to tell it to update its progress bar.</p>

<p><a href=""http://docs.python.org/library/ftplib.html"" rel=""nofollow"" title=""Python 2.6 ftplib manual"">Reference</a></p>
"
397,207230,1,1,python,Hooking up GUI interface with asynchronous (s)ftp operation,"<p>Trying to implement a progress dialog window for file uploads that look like a cross between <a href=""http://www.codinghorror.com/blog/images/ie6-download-ui.png"" rel=""nofollow"">IE download dialog</a> and <a href=""http://www.codinghorror.com/blog/images/firefox2-download-ui.png"" rel=""nofollow"">Firefox download dialog</a> with a python GUI library on Windows.</p>

<ol>
<li>What asynchronous (S)FTP libraries are there for python? Ideally I should be able to do file upload resumes and track the progress of each parallel file uploads.</li>
<li>If I'm running each file upload in a separate process each, how would I get the upload status and display it in a progress bar dialog?</li>
</ol>
","<p>If you data transfer runs in a separate thread from the GUI, you can use wx.CallAfter() whenever you have to update you progress bar from the data transfer thread. </p>

<p>First, using CallAfter() is mandatory as wxPython function cannot be called from child threads.</p>

<p>Second, this will decouple the execution of the data transfer from the GUI in the main thread.</p>

<p>Note that CallAfter() only works for threads, not for separate processes. In that case, using the multiprocessing package should help.</p>
"
704,360600,1,1,python,Regular Expressions in unicode strings,"<p>I have some unicode text that I want to clean up using regular expressions.  For example I have cases where u'(2'.  This exists because for formatting reasons the closing paren ends up in an adjacent html cell.  My initial solution to this problem was to look ahead at the contents of the next cell and using a string function determine if it held the closing paren.  I knew this was not a great solution but it worked.  Now I want to fix it but I can't seem to make the regular expression work.   </p>

<pre><code>missingParen=re.compile(r""^\(\d[^\)]$"")
</code></pre>

<p>My understanding of what I think I am doing:<br />
^ at the beginning of the string I want to find<br />
( an open paren, the paren has to be backslashed because it is a special character<br />
\d I also want to find a single digit<br />
[ I am creating a special character class<br />
^ I don't want to find what follows<br />
) which is a close paren<br />
$ at the end of the string  </p>

<p>And of course the plot thickens I made a silly assumption that because I placed a \d I would not find (33 but I am wrong so I added a {1} to my regular expression and that did not help, it matched (3333, so my problem is more complicated than I thought.  I want the string to be only an open paren and a single digit.  Is this the more clever approach </p>

<pre><code>missingParen=re.compile(r""^\(\d$"")
</code></pre>

<p>And note S Lott _I already tagged it beginner so you can't pick up any cheap points Not that I don't appreciate your insights I keep meaning to read your book, it probably has the answer</p>
","<p>Okay sorry for using this a a stream of consciousness  thinking stimulator but it appears that writing out my original question got me on the path.  It seems to me that this is a solution for what I am trying to do:</p>

<pre><code>  missingParen=re.compile(r""^\(\d$"")
</code></pre>
"
998,490130,1,1,python,QScintilla scrollbar,"<p>When I add a QsciScintilla object to my main window the horizontal scrollbar is active and super wide (tons of apparent white space). Easy fix?</p>
","<p>Easy fix:</p>

<pre><code>sc.SendScintilla(sc.SCI_SETHSCROLLBAR, 0)
</code></pre>
"
953,469110,1,1,python,In Django how do i return the total number of items that are related to a model?,"<p>In Django how can i return the total number of items (count) that are related to another model, e.g the way stackoverflow does a list of questions then on the side it shows the count on the answers related to that question.</p>

<p>This is easy if i get the questionid, i can return all answers related to that question  but when am displaying the entire list of question it becomes a bit tricky to display on the side the count showing the total count.</p>

<p>I don't know if am clear but just think how stackoverflow displays its questions with answer,views count next to each question! </p>
","<p>If you're willing to use trunk, you can take advantage of the brand new annotate() QuerySet method added just a week or so ago, which solves this exact problem:</p>

<p><a href=""http://docs.djangoproject.com/en/dev/topics/db/aggregation/"" rel=""nofollow"">http://docs.djangoproject.com/en/dev/topics/db/aggregation/</a></p>

<p>If you want to stick with Django 1.0, you can achieve this in a slightly less elegant way using the select argument of the extra() QuerySet method. There's an example of exactly what you are talking about using extra() here:</p>

<p><a href=""http://docs.djangoproject.com/en/dev/ref/models/querysets/#extra-select-none-where-none-params-none-tables-none-order-by-none-select-params-none"" rel=""nofollow"">http://docs.djangoproject.com/en/dev/ref/models/querysets/#extra-select-none-where-none-params-none-tables-none-order-by-none-select-params-none</a></p>

<p>Finally, if you need this to be really high performance you can denormalise the count in to a separate column. I've got some examples of how to do this in the unit testing part of my presentation here:</p>

<p><a href=""http://www.slideshare.net/simon/advanced-django"" rel=""nofollow"">http://www.slideshare.net/simon/advanced-django</a></p>
"
721,369230,0,1,python,What is the best way to serialize a ModelForm object in Django?,"<p>I am using Django and the Google Web Toolkit (GWT) for my current project. I would like to pass a ModelForm instance to GWT via an Http response so that I can ""chop"" it up and render it as I please. My goal is to keep the form in sync with changes to my models.py file, yet increase control I have over the look of the form. However, the django classes for serialization, serializers and simplejson, cannot serialize a ModelForm. Neither can cPickle. What are my alternatives? </p>
","<p>If your problem is just to serialze a ModelForm to json, just write your own simplejson serializer subclass.</p>
"
401,207290,1,1,python,extracting a parenthesized Python expression from a string,"<p>I've been wondering about how hard it would be to write some Python code to search a string for the index of a substring of the form <code>${</code><em>expr</em><code>}</code>, for example, where <em>expr</em> is meant to be a Python expression or something resembling one.  Given such a thing, one could easily imagine going on to check the expression's syntax with <code>compile()</code>, evaluate it against a particular scope with <code>eval()</code>, and perhaps even substitute the result into the original string.  People must do very similar things all the time.</p>

<p>I could imagine solving such a problem using a third-party parser generator [oof], or by hand-coding some sort of state machine [eek], or perhaps by convincing Python's own parser to do the heavy lifting somehow [hmm].  Maybe there's a third-party templating library somewhere that can be made to do exactly this.  Maybe restricting the syntax of <em>expr</em> is likely to be a worthwhile compromise in terms of simplicity or execution time or cutting down on external dependencies -- for example, maybe all I really need is something that matches any <em>expr</em> that has balanced curly braces.</p>

<p>What's your sense?</p>

<h2>Update:</h2>

<p>Thanks very much for your responses so far!  Looking back at what I wrote yesterday, I'm not sure I was sufficiently clear about what I'm asking.  Template substitution is indeed an interesting problem, and probably much more useful to many more people than the expression extraction subproblem I'm wondering about, but I brought it up only as a simple example of how the answer to my question might be useful in real life.  Some other potential applications might include passing the extracted expressions to a syntax highlighter; passing the result to a real Python parser and looking at or monkeying with the parse tree; or using the sequence of extracted expressions to build up a larger Python program, perhaps in conjunction with some information taken from the surrounding text.</p>

<p>The <code>${</code><em>expr</em><code>}</code> syntax I mentioned is also intended as an example, and in fact I wonder if I shouldn't have used <code>$(</code><em>expr</em><code>)</code> as my example instead, because it makes the potential drawbacks of the obvious approach, along the lines of <code>re.finditer(r'$\{([^}]+)\}', s)</code>, a bit easier to see.  Python expressions can (and often do) contain the <code>)</code> (or <code>}</code>) character.  It seems possible that handling any of those cases might be much more trouble than it's worth, but I'm not convinced of that yet.  Please feel free to try to make this case!</p>

<p>Prior to posting this question, I spent quite a bit of time looking at Python template engines hoping that one might expose the sort of low-level functionality I'm asking about -- namely, something that can find expressions in a variety of contexts and tell me where they are rather than being limited to finding expressions embedded using a single hard-coded syntax, always evaluating them, and always substituting the results back into the original string.  I haven't figured out how to use any of them to solve my problem yet, but I do very much appreciate the suggestions regarding more to look at (can't believe I missed that wonderful list on the wiki!).  The API documentation for these things tends to be pretty high-level, and I'm not too familiar with the internals of any of them, so I'm sure I could use help looking at those and figuring out how to get them to do this sort of thing.</p>

<p>Thanks for your patience!</p>
","<p>If you want to handle arbitrary expressions like <code>{'{spam': 42}[""spam}""]</code>, you can't get away without full-blown parser.</p>
"
946,467600,0,1,python,How can I read system information in Python on OS X?,"<p>Following from this <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python"">OS-agnostic question</a>, specifically <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python#467291"">this response</a>, similar to data available from the likes of /proc/meminfo on Linux, how can I read system information from OS X using Python (including, but not limited to memory usage).</p>
","<p>Here's a MacFUSE-based /proc fs:</p>

<p><a href=""http://www.osxbook.com/book/bonus/chapter11/procfs"" rel=""nofollow"">http://www.osxbook.com/book/bonus/chapter11/procfs</a></p>

<p>If you have control of the boxes you're running your python program on it might be a reasonable solution.  At any rate it's nice to have a /proc to look at!</p>
"
945,467600,3,1,python,How can I read system information in Python on OS X?,"<p>Following from this <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python"">OS-agnostic question</a>, specifically <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python#467291"">this response</a>, similar to data available from the likes of /proc/meminfo on Linux, how can I read system information from OS X using Python (including, but not limited to memory usage).</p>
","<p>The only stuff that's really nicely accesible is available from the platform module, but it's extremely limited (cpu, os version, architecture, etc). For cpu usage and uptime I think you will have to wrap the command line utilities 'uptime' and 'vm_stat'.</p>

<p>I built you one for vm_stat, the other one is up to you ;-)</p>

<pre><code>import os, sys

def memoryUsage():

	result = dict()

	for l in [l.split(':') for l in os.popen('vm_stat').readlines()[1:8]]:
		result[l[0].strip(' ""').replace(' ', '_').lower()] = int(l[1].strip('.\n '))

	return result

print memoryUsage()
</code></pre>
"
944,467600,3,1,python,How can I read system information in Python on OS X?,"<p>Following from this <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python"">OS-agnostic question</a>, specifically <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python#467291"">this response</a>, similar to data available from the likes of /proc/meminfo on Linux, how can I read system information from OS X using Python (including, but not limited to memory usage).</p>
","<p>You can get a large amount of system information from the command line utilities <a href=""http://developer.apple.com/DOCUMENTATION/Darwin/Reference/ManPages/man8/sysctl.8.html"" rel=""nofollow""><code>sysctl</code></a> and <a href=""http://developer.apple.com/DOCUMENTATION/DARWIN/Reference/ManPages/man1/vm_stat.1.html"" rel=""nofollow""><code>vm_stat</code></a> (as well as <code>ps</code>, as in <a href=""http://stackoverflow.com/questions/276052/how-to-get-current-cpu-and-ram-usage-in-python"">this question</a>.) </p>

<p>If you don't find a better way, you could always call these using <a href=""http://docs.python.org/library/subprocess.html"" rel=""nofollow""><code>subprocess</code></a>.</p>
"
943,467600,2,1,python,How can I read system information in Python on OS X?,"<p>Following from this <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python"">OS-agnostic question</a>, specifically <a href=""http://stackoverflow.com/questions/466684/how-can-i-return-system-information-in-python#467291"">this response</a>, similar to data available from the likes of /proc/meminfo on Linux, how can I read system information from OS X using Python (including, but not limited to memory usage).</p>
","<p>I did some more googling (looking for ""OS X /proc"") -- it looks like the sysctl command might be what you want, although I'm not sure if it will give you all the information you need.  Here's the manpage: <a href=""http://developer.apple.com/DOCUMENTATION/Darwin/Reference/ManPages/man8/sysctl.8.html"" rel=""nofollow"">http://developer.apple.com/DOCUMENTATION/Darwin/Reference/ManPages/man8/sysctl.8.html</a></p>

<p>Also, <a href=""http://en.wikipedia.org/wiki/Sysctl"" rel=""nofollow"">wikipedia</a>.</p>
"
402,207290,0,1,python,extracting a parenthesized Python expression from a string,"<p>I've been wondering about how hard it would be to write some Python code to search a string for the index of a substring of the form <code>${</code><em>expr</em><code>}</code>, for example, where <em>expr</em> is meant to be a Python expression or something resembling one.  Given such a thing, one could easily imagine going on to check the expression's syntax with <code>compile()</code>, evaluate it against a particular scope with <code>eval()</code>, and perhaps even substitute the result into the original string.  People must do very similar things all the time.</p>

<p>I could imagine solving such a problem using a third-party parser generator [oof], or by hand-coding some sort of state machine [eek], or perhaps by convincing Python's own parser to do the heavy lifting somehow [hmm].  Maybe there's a third-party templating library somewhere that can be made to do exactly this.  Maybe restricting the syntax of <em>expr</em> is likely to be a worthwhile compromise in terms of simplicity or execution time or cutting down on external dependencies -- for example, maybe all I really need is something that matches any <em>expr</em> that has balanced curly braces.</p>

<p>What's your sense?</p>

<h2>Update:</h2>

<p>Thanks very much for your responses so far!  Looking back at what I wrote yesterday, I'm not sure I was sufficiently clear about what I'm asking.  Template substitution is indeed an interesting problem, and probably much more useful to many more people than the expression extraction subproblem I'm wondering about, but I brought it up only as a simple example of how the answer to my question might be useful in real life.  Some other potential applications might include passing the extracted expressions to a syntax highlighter; passing the result to a real Python parser and looking at or monkeying with the parse tree; or using the sequence of extracted expressions to build up a larger Python program, perhaps in conjunction with some information taken from the surrounding text.</p>

<p>The <code>${</code><em>expr</em><code>}</code> syntax I mentioned is also intended as an example, and in fact I wonder if I shouldn't have used <code>$(</code><em>expr</em><code>)</code> as my example instead, because it makes the potential drawbacks of the obvious approach, along the lines of <code>re.finditer(r'$\{([^}]+)\}', s)</code>, a bit easier to see.  Python expressions can (and often do) contain the <code>)</code> (or <code>}</code>) character.  It seems possible that handling any of those cases might be much more trouble than it's worth, but I'm not convinced of that yet.  Please feel free to try to make this case!</p>

<p>Prior to posting this question, I spent quite a bit of time looking at Python template engines hoping that one might expose the sort of low-level functionality I'm asking about -- namely, something that can find expressions in a variety of contexts and tell me where they are rather than being limited to finding expressions embedded using a single hard-coded syntax, always evaluating them, and always substituting the results back into the original string.  I haven't figured out how to use any of them to solve my problem yet, but I do very much appreciate the suggestions regarding more to look at (can't believe I missed that wonderful list on the wiki!).  The API documentation for these things tends to be pretty high-level, and I'm not too familiar with the internals of any of them, so I'm sure I could use help looking at those and figuring out how to get them to do this sort of thing.</p>

<p>Thanks for your patience!</p>
","<p>After posting this, reading the replies so far (thanks everyone!), and thinking about the problem for a while, here is the best approach I've been able to come up with:</p>

<ol>
<li>Find the first <code>${</code>.</li>
<li>Find the next <code>}</code> after that.</li>
<li>Feed whatever's in between to <code>compile()</code>.  If it works, stick a fork in it and we're done.</li>
<li>Otherwise, keep extending the string by looking for subsequent occurences of <code>}</code>.  As soon as something compiles, return it.</li>
<li>If we run out of <code>}</code> without being able to compile anything, use the results of the last compilation attempt to give information about where the problem lies.</li>
</ol>

<p>Advantages of this approach:</p>

<ul>
<li>The code is quite short and easy to understand.</li>
<li>It's pretty efficient -- optimal, even, in the case where the expression contains no <code>}</code>.  Worst-case seems like it wouldn't be too bad either.</li>
<li>It works on many expressions that contain <code>${</code> and/or <code>}</code>.</li>
<li>No external dependencies.  No need to import <em>anything</em>, in fact.  (This surprised me.)</li>
</ul>

<p>Disadvantages:</p>

<ul>
<li>Sometimes it grabs too much or too little.  See below for an example of the latter.  I could imagine a scary example where you have two expressions and the first one is subtly wrong and the algorithm ends up mistakenly grabbing the whole thing and everything in between and returning it as valid, though I haven't been able to demonstrate this.  Perhaps things are not so bad as I fear.  I don't think misunderstandings can be avoided in general -- the problem definition is kind of slippery -- but it seems like it ought to be possible to do better, especially if one were willing to trade simplicity or execution time.</li>
<li>I haven't done any benchmarks, but I could imagine there being faster alternatives, especially in cases that involve lots of <code>}</code> in the expression.  That could be a big deal if one wanted to apply this technique to sizable blocks of Python code rather than just very short expressions.</li>
</ul>

<p>Here is my implementation.</p>

<pre><code>def findExpr(s, i0=0, begin='${', end='}', compArgs=('&lt;string&gt;', 'eval')):
  assert '\n' not in s, 'line numbers not implemented'
  i0 = s.index(begin, i0) + len(begin)
  i1 = s.index(end, i0)
  code = errMsg = None
  while code is None and errMsg is None:
    expr = s[i0:i1]
    try: code = compile(expr, *compArgs)
    except SyntaxError, e:
      i1 = s.find(end, i1 + 1)
      if i1 &lt; 0: errMsg, i1 = e.msg, i0 + e.offset
  return i0, i1, code, errMsg
</code></pre>

<p>And here's the docstring with some illustrations in doctest format, which I didn't insert into the middle of the function above only because it's long and I feel like the code is easier to read without it.</p>

<pre><code>'''
Search s for a (possibly invalid) Python expression bracketed by begin
and end, which default to '${' and '}'.  Return a 4-tuple.

&gt;&gt;&gt; s = 'foo ${a*b + c*d} bar'
&gt;&gt;&gt; i0, i1, code, errMsg = findExpr(s)
&gt;&gt;&gt; i0, i1, s[i0:i1], errMsg
(6, 15, 'a*b + c*d', None)
&gt;&gt;&gt; ' '.join('%02x' % ord(byte) for byte in code.co_code)
'65 00 00 65 01 00 14 65 02 00 65 03 00 14 17 53'
&gt;&gt;&gt; code.co_names
('a', 'b', 'c', 'd')
&gt;&gt;&gt; eval(code, {'a': 1, 'b': 2, 'c': 3, 'd': 4})
14
&gt;&gt;&gt; eval(code, {'a': 'a', 'b': 2, 'c': 'c', 'd': 4})
'aacccc'
&gt;&gt;&gt; eval(code, {'a': None})
Traceback (most recent call last):
  ...
NameError: name 'b' is not defined

Expressions containing start and/or end are allowed.

&gt;&gt;&gt; s = '{foo ${{""}"": ""${""}[""}""]} bar}'
&gt;&gt;&gt; i0, i1, code, errMsg = findExpr(s)
&gt;&gt;&gt; i0, i1, s[i0:i1], errMsg
(7, 23, '{""}"": ""${""}[""}""]', None)

If the first match is syntactically invalid Python, i0 points to the
start of the match, i1 points to the parse error, code is None and
errMsg contains a message from the compiler.

&gt;&gt;&gt; s = '{foo ${qwerty asdf zxcvbnm!!!} ${7} bar}'
&gt;&gt;&gt; i0, i1, code, errMsg = findExpr(s)
&gt;&gt;&gt; i0, i1, s[i0:i1], errMsg
(7, 18, 'qwerty asdf', 'invalid syntax')
&gt;&gt;&gt; print code
None

If a second argument is given, start searching there.

&gt;&gt;&gt; i0, i1, code, errMsg = findExpr(s, i1)
&gt;&gt;&gt; i0, i1, s[i0:i1], errMsg
(33, 34, '7', None)

Raise ValueError if there are no further matches.

&gt;&gt;&gt; i0, i1, code, errMsg = findExpr(s, i1)
Traceback (most recent call last):
  ...
ValueError: substring not found

In ambiguous cases, match the shortest valid expression.  This is not
always ideal behavior.

&gt;&gt;&gt; s = '{foo ${x or {} # return {} instead of None} bar}'
&gt;&gt;&gt; i0, i1, code, errMsg = findExpr(s)
&gt;&gt;&gt; i0, i1, s[i0:i1], errMsg
(7, 25, 'x or {} # return {', None)

This implementation must not be used with multi-line strings.  It does
not adjust line number information in the returned code object, and it
does not take the line number into account when computing the offset
of a parse error.

'''
</code></pre>
"
398,207230,0,1,python,Hooking up GUI interface with asynchronous (s)ftp operation,"<p>Trying to implement a progress dialog window for file uploads that look like a cross between <a href=""http://www.codinghorror.com/blog/images/ie6-download-ui.png"" rel=""nofollow"">IE download dialog</a> and <a href=""http://www.codinghorror.com/blog/images/firefox2-download-ui.png"" rel=""nofollow"">Firefox download dialog</a> with a python GUI library on Windows.</p>

<ol>
<li>What asynchronous (S)FTP libraries are there for python? Ideally I should be able to do file upload resumes and track the progress of each parallel file uploads.</li>
<li>If I'm running each file upload in a separate process each, how would I get the upload status and display it in a progress bar dialog?</li>
</ol>
","<p>If you can't use Python 2.6's ftplib, there is a company offering a <em>commercial</em> solution.</p>

<p>Chilkat's <a href=""http://www.chilkatsoft.com/refdoc/pythonCkFtp2Ref.html"" rel=""nofollow"" title=""CKFTP2 Manual"">CKFTP2</a> costs several hundreds of dollars, but promises to work with Python 2.5, and offers a function call get_AsyncBytesSent() which returns the information you need. (I didn't see a callback, but it may offer that too.)</p>

<p>I haven't used this product.</p>

<p>Also consider that if FTP proves to be too hard/expensive, you could always switch to HTTP uploads instead. Chilkat have a free HTTP/HTTPS upload library.</p>
"
899,450290,0,1,python,Python Path,"<p>I am installing active python, django. I really dont know how to set the python path in vista environment system. first of all will it work in vista.</p>
","<p>Remember that in addition to setting <code>PYTHONPATH</code> in your system environment, you'll also want to assign <code>DJANGO_SETTINGS_MODULE</code>.</p>
"
898,450290,1,1,python,Python Path,"<p>I am installing active python, django. I really dont know how to set the python path in vista environment system. first of all will it work in vista.</p>
","<p>Perhaps this helps: It's a <a href=""http://www.neuralwiki.org/index.php?title=Guide_to_installing_Python_in_Windows_Vista"" rel=""nofollow"">Guide to installing Python in Windows Vista</a>.</p>
"
881,443650,0,1,python,Django template ifequal comparison of decimals,"<p>So, I have a decimalfield that can be 3 different values. In my view,
I pass in a dictionary of values that contains the appropriate decimal
values as keys.</p>

<pre><code>{% for item in booklist %}  
    {% for key, value in numvec.items %}  
        {{item.number}}  
        {% ifequals item.number {{key}} %}  
            {{value}}  
        {% endifequals %}  
    {% endfor %}
{% endfor %}
</code></pre>

<p>this is the dict I pass in as numvec:</p>

<pre><code>numvec = {""TEST"":Decimal(""0.999""), ""TEST2"":Decimal(""0.500""),
</code></pre>

<p>""TEST3"":Decimal(""0.255"")}</p>

<p>the number field was defined as having these choices in my model:</p>

<pre><code>BOOK_CHOICES=((Decimal(""0.999""), 'TEST'),(Decimal(""0.500""), 'TEST2'),(Decimal(""0.255""), 'TEST3'),)
</code></pre>

<p>The item number prints out just fine in the view if I compare the dict
with the attribute, but for some reason the ifequals cannot properly
compare two decimals together. Is this a bug, or am I doing something
wrong in my template with ifequals? </p>
","<p>Simplest solution is to define a method on the model which encapsulates the numeric logic and returns the human-friendly string.</p>

<p>Or you can write a template tag to do it, which is a lot more code, but perhaps preserves the model/view layer separation a bit better.</p>
"
880,443650,2,1,python,Django template ifequal comparison of decimals,"<p>So, I have a decimalfield that can be 3 different values. In my view,
I pass in a dictionary of values that contains the appropriate decimal
values as keys.</p>

<pre><code>{% for item in booklist %}  
    {% for key, value in numvec.items %}  
        {{item.number}}  
        {% ifequals item.number {{key}} %}  
            {{value}}  
        {% endifequals %}  
    {% endfor %}
{% endfor %}
</code></pre>

<p>this is the dict I pass in as numvec:</p>

<pre><code>numvec = {""TEST"":Decimal(""0.999""), ""TEST2"":Decimal(""0.500""),
</code></pre>

<p>""TEST3"":Decimal(""0.255"")}</p>

<p>the number field was defined as having these choices in my model:</p>

<pre><code>BOOK_CHOICES=((Decimal(""0.999""), 'TEST'),(Decimal(""0.500""), 'TEST2'),(Decimal(""0.255""), 'TEST3'),)
</code></pre>

<p>The item number prints out just fine in the view if I compare the dict
with the attribute, but for some reason the ifequals cannot properly
compare two decimals together. Is this a bug, or am I doing something
wrong in my template with ifequals? </p>
","<p>According to <a href=""http://docs.djangoproject.com/en/dev/ref/templates/builtins/#ifequal"" rel=""nofollow"">this</a>, it seems you can only compare strings. I'd make my own <a href=""http://www.mechanicalgirl.com/view/custom-template-tags-in-django/"" rel=""nofollow"">template tag</a> if I were you. </p>
"
676,351440,1,1,python,Determine record in multi record html form,"<p>In a html form, I'm displaying multiple records from a table, ready for update.</p>

<p>Right now I use: <code>name=&lt;column-name&gt;_&lt;pk-id&gt; value=&lt;value&gt;</code> for the fields.
Then in my python-script I go for:</p>

<pre><code>for key in form.keys():
    if key.startswith('&lt;name-A&gt;_'):
        update &lt;table&gt; set &lt;name-A&gt; = &lt;value&gt; where pk=&lt;pk-id&gt;
    if key.startswith('&lt;name-B&gt;_'):
        update &lt;table&gt; set &lt;name-B&gt; = &lt;value&gt; where pk=&lt;pk-id&gt;
</code></pre>

<p>Is there a more 'organic' way to handle multi-record forms?</p>
","<p>In java apps, it's common to JSONify the name.</p>

<pre><code>&lt;input name=""records[pk].fieldName""/&gt;
</code></pre>

<p><code>pk</code> being the primary key of the row and <code>fieldName</code> the field. Of course most frameworks handle this transparently. Each record ends up as a instance of a class with a property for each field, all of which are put into a list called ""records"". You may have to write some sort of interpreter, but that shouldn't be too hard.</p>
"
677,351760,0,1,python,Python method arguments with spaces,"<p>I would like to create a simple file format/DSL which would allow my users to input data.  My system is in python and using python's parser is appealing. 
Syntax like this for defining a data element seems quite convenient.</p>

<pre><code>Allocation(Param1 = Val1, Param2 = Val2 )
</code></pre>

<p>However, it does not support param names with spaces.</p>

<pre><code>Allocation(Param 1 = Val1, Param 2 = Val2 )
</code></pre>

<p>Python parser friendly versions can look as follows, but not very user friendly.</p>

<pre><code>Allocation((""Param 1"",Val1), (""Param 2"",Val1) )
Allocation(**{""Param 1"":Val1, ""Param 2"":Val1} )
</code></pre>

<p>Is there a way to make this more readable in python?</p>
","<p>You can do this:</p>

<pre><code>def Allocation(**kwargs):
    print kwargs

myargs = {""Param 1"":Val1, ""Param 2"":Val1}
Allocation(**myargs)
</code></pre>

<p><strong>Edit:</strong>
Your edit now includes my answer so no, there is no easier way to have spaces in keyword arguments.</p>
"
678,351760,1,1,python,Python method arguments with spaces,"<p>I would like to create a simple file format/DSL which would allow my users to input data.  My system is in python and using python's parser is appealing. 
Syntax like this for defining a data element seems quite convenient.</p>

<pre><code>Allocation(Param1 = Val1, Param2 = Val2 )
</code></pre>

<p>However, it does not support param names with spaces.</p>

<pre><code>Allocation(Param 1 = Val1, Param 2 = Val2 )
</code></pre>

<p>Python parser friendly versions can look as follows, but not very user friendly.</p>

<pre><code>Allocation((""Param 1"",Val1), (""Param 2"",Val1) )
Allocation(**{""Param 1"":Val1, ""Param 2"":Val1} )
</code></pre>

<p>Is there a way to make this more readable in python?</p>
","<p>Unless I am mistaking your basic premise here, there's nothing to stop you from writing a class that parses your own custom syntax, and then using that custom syntax as a single-argument string:</p>

<pre><code>Allocation(""Param 1=Check Up; Param 2=Mean Value Theorem;"")
</code></pre>

<p>In this example, semicolons act as the name-value-pair separators, and equals represents the name-value separator. Moreover, you can easily configure your parser to accept custom delimiters as part of the object constructor.</p>

<p>If it seems too daunting to write a parser, consider that (for a syntax such as this) you could obtain your values by simply splitting the string on </p>

<pre><code>/\s*;\s*/
</code></pre>

<p>and then on</p>

<pre><code>/\s*=\s*/
</code></pre>

<p>to quickly obtain the name-value pairs. You also have the option to choose from any of several argument parsers already written for Python.</p>

<p>Admittedly, this does not use Python as the argument parser, which is a consideration you will have to balance against the simplicity of an approach such as this.</p>
"
679,351760,3,1,python,Python method arguments with spaces,"<p>I would like to create a simple file format/DSL which would allow my users to input data.  My system is in python and using python's parser is appealing. 
Syntax like this for defining a data element seems quite convenient.</p>

<pre><code>Allocation(Param1 = Val1, Param2 = Val2 )
</code></pre>

<p>However, it does not support param names with spaces.</p>

<pre><code>Allocation(Param 1 = Val1, Param 2 = Val2 )
</code></pre>

<p>Python parser friendly versions can look as follows, but not very user friendly.</p>

<pre><code>Allocation((""Param 1"",Val1), (""Param 2"",Val1) )
Allocation(**{""Param 1"":Val1, ""Param 2"":Val1} )
</code></pre>

<p>Is there a way to make this more readable in python?</p>
","<p>I'd imagine that there would be some way to do it.  But I feel compelled to ask, is there really a big enough difference in readability from this</p>

<pre><code>Allocation(Param1 = Val1, Param2 = Val2 )
</code></pre>

<p>To this:</p>

<pre><code>Allocation(Param 1 = Val1, Param 2 = Val2 )
</code></pre>

<p>to make that big a difference?  I'm sure there's a way to do what you want to do, but my first concern is if the effort involved would be worth the result.</p>

<blockquote>
  <p>my goal is to provide a DSL which can be used for data entry into the system. In the above scenario, params would be people names and values would be percentages.</p>
</blockquote>

<p>I have a better understanding of what you want to do now, but I still think that you might end up having to sacrifice some readability to get what you want.  Personally, I would go with something like:</p>

<pre><code>Allocation(
    { 'name1' : value1,
      'name1' : value2, }
)
</code></pre>

<p>If that's not something you can go with, then you might want to reconsider whether you want to use Python for your DSL or go with something home-grown.  Allowing whitespace allows too many ambiguities for most programming languages to allow it.</p>

<p>If you still want to pursue this with using python, you might want to consider posting to the C-API SIG (<a href=""http://www.python.org/community/sigs/"" rel=""nofollow"">SIGS</a>) or maybe the <a href=""http://mail.python.org/mailman/listinfo/python-dev"" rel=""nofollow"">python-dev list</a> (as a last resort).  The only way that I can see to do this would be to embed the python interpreter into a C/C++ program and do some kind of hacking with it (which can be difficult!).</p>
"
680,351760,1,1,python,Python method arguments with spaces,"<p>I would like to create a simple file format/DSL which would allow my users to input data.  My system is in python and using python's parser is appealing. 
Syntax like this for defining a data element seems quite convenient.</p>

<pre><code>Allocation(Param1 = Val1, Param2 = Val2 )
</code></pre>

<p>However, it does not support param names with spaces.</p>

<pre><code>Allocation(Param 1 = Val1, Param 2 = Val2 )
</code></pre>

<p>Python parser friendly versions can look as follows, but not very user friendly.</p>

<pre><code>Allocation((""Param 1"",Val1), (""Param 2"",Val1) )
Allocation(**{""Param 1"":Val1, ""Param 2"":Val1} )
</code></pre>

<p>Is there a way to make this more readable in python?</p>
","<p>Here's my preference.</p>

<pre><code>AllocationSet(
    Alloc( name=""some name"", value=1.23 ),
    Alloc( name=""another name"", value=2.34 ),
    Alloc( name=""yet another name"", value=4.56 ),
)
</code></pre>

<p>These are relatively easy class declarations to create.  The resulting structure is pleasant to process, too.</p>
"
681,352340,2,1,python,Return file from python module,"<p>Edit: How to return/serve a file from a python controller (back end) over a web server, with the file_name? as suggested by @JV</p>
","<p>You can either pass back a reference to the file itself i.e. the full path to the file. Then you can open the file or otherwise manipulate it.</p>

<p>Or, the more normal case is to pass back the file handle, and, use the standard read/write operations on the file handle.</p>

<p>It is not recommended to pass the actual data as files can be arbiterally large and the program could run out of memory.</p>

<p>In your case, you probably want to return a tuple containing the open file handle, the file name and any other meta data you are interested in.</p>
"
682,352340,0,1,python,Return file from python module,"<p>Edit: How to return/serve a file from a python controller (back end) over a web server, with the file_name? as suggested by @JV</p>
","<p>For information on MIME types (which are how downloads happen), start here: <a href=""https://developer.mozilla.org/en/Properly_Configuring_Server_MIME_Types"" rel=""nofollow"">Properly Configure Server MIME Types</a>.</p>

<p>For information on CherryPy, look at the attributes of a <a href=""http://www.cherrypy.org/wiki/ResponseObject"" rel=""nofollow"">Response</a> object.  You can set the <a href=""http://www.cherrypy.org/wiki/ResponseObject#headers"" rel=""nofollow"">content type</a> of the response.  Also, you can use <a href=""http://www.cherrypy.org/wiki/BuiltinTools#tools.response_headers"" rel=""nofollow"">tools.response_headers</a> to set the content type.</p>

<p>And, of course, there's an example of <a href=""http://www.cherrypy.org/wiki/FileDownload"" rel=""nofollow"">File Download</a>.</p>
"
683,352340,1,1,python,Return file from python module,"<p>Edit: How to return/serve a file from a python controller (back end) over a web server, with the file_name? as suggested by @JV</p>
","<p>Fully supported in CherryPy using</p>

<pre><code>from cherrypy.lib.static import serve_file
</code></pre>

<p>As documented in the <a href=""http://www.cherrypy.org/wiki/FileDownload"" rel=""nofollow"">CherryPy docs - FileDownload</a>:</p>

<pre><code>import glob
import os.path

import cherrypy
from cherrypy.lib.static import serve_file


class Root:
    def index(self, directory="".""):
        html = """"""&lt;html&gt;&lt;body&gt;&lt;h2&gt;Here are the files in the selected directory:&lt;/h2&gt;
        &lt;a href=""index?directory=%s""&gt;Up&lt;/a&gt;&lt;br /&gt;
        """""" % os.path.dirname(os.path.abspath(directory))

        for filename in glob.glob(directory + '/*'):
            absPath = os.path.abspath(filename)
            if os.path.isdir(absPath):
                html += '&lt;a href=""/index?directory=' + absPath + '""&gt;' + os.path.basename(filename) + ""&lt;/a&gt; &lt;br /&gt;""
            else:
                html += '&lt;a href=""/download/?filepath=' + absPath + '""&gt;' + os.path.basename(filename) + ""&lt;/a&gt; &lt;br /&gt;""

        html += """"""&lt;/body&gt;&lt;/html&gt;""""""
        return html
    index.exposed = True

class Download:
        def index(self, filepath):
        return serve_file(filepath, ""application/x-download"", ""attachment"")
        index.exposed = True

if __name__ == '__main__':
    root = Root()
    root.download = Download()
    cherrypy.quickstart(root)
</code></pre>
"
443,224660,1,1,python,Incoming poplib refactoring using windows python 2.3,"<p>Hi Guys could you please help me refactor this so that it is sensibly pythonic.</p>

<pre><code>import sys
import poplib
import string
import StringIO, rfc822
import datetime
import logging

def _dump_pop_emails(self):
    self.logger.info(""open pop account %s with username: %s"" % (self.account[0], self.account[1]))
    self.popinstance = poplib.POP3(self.account[0])
    self.logger.info(self.popinstance.getwelcome()) 
    self.popinstance.user(self.account[1])
    self.popinstance.pass_(self.account[2])
    try:
        (numMsgs, totalSize) = self.popinstance.stat()
        for thisNum in range(1, numMsgs+1):
            (server_msg, body, octets) = self.popinstance.retr(thisNum)
            text = string.join(body, '\n')
            mesg = StringIO.StringIO(text)                               
            msg = rfc822.Message(mesg)
            name, email = msg.getaddr(""From"")
            emailpath = str(self._emailpath + self._inboxfolder + ""\\"" + email + ""_"" + msg.getheader(""Subject"") + "".eml"")
            emailpath = self._replace_whitespace(emailpath)
            file = open(emailpath,""wb"")
            file.write(text)
            file.close()
            self.popinstance.dele(thisNum)
    finally:
        self.logger.info(self.popinstance.quit())

def _replace_whitespace(self,name):
    name = str(name)
    return name.replace("" "", ""_"")
</code></pre>

<p>Also in the _replace_whitespace method I would like to have some kind of cleaning routine which takes out all illegal characters which could cause processing.</p>

<p>Basically I want to write the email to the inbox directory in a standard way.</p>

<p>Am i doing something wrong here?</p>
","<p>This isn't refactoring (it doesn't need refactoring as far as I can see), but some suggestions:</p>

<p>You should use the email package rather than rfc822.  Replace rfc822.Message with email.Message, and use email.Utils.parseaddr(msg[""From""]) to get the name and email address, and msg[""Subject""] to get the subject.</p>

<p>Use os.path.join to create the path.  This:</p>

<pre><code>emailpath = str(self._emailpath + self._inboxfolder + ""\\"" + email + ""_"" + msg.getheader(""Subject"") + "".eml"")
</code></pre>

<p>Becomes:</p>

<pre><code>emailpath = os.path.join(self._emailpath + self._inboxfolder, email + ""_"" + msg.getheader(""Subject"") + "".eml"")
</code></pre>

<p>(If self._inboxfolder starts with a slash or self._emailpath ends with one, you could replace the first + with a comma also).</p>

<p>It doesn't really hurt anything, but you should probably not use ""file"" as a variable name, since it shadows a built-in type (checkers like pylint or pychecker would warn you about that).</p>

<p>If you're not using self.popinstance outside of this function (seems unlikely given that you connect and quit within the function), then there's no point making it an attribute of self.  Just use ""popinstance"" by itself.</p>

<p>Use xrange instead of range.</p>

<p>Instead of just importing StringIO, do this:</p>

<pre><code>try:
    import cStringIO as StringIO
except ImportError:
    import StringIO
</code></pre>

<p>If this is a POP mailbox that can be accessed by more than one client at a time, you might want to put a try/except around the RETR call to continue on if you can't retrieve one message.</p>

<p>As John said, use ""\n"".join rather than string.join, use try/finally to only close the file if it is opened, and pass the logging parameters separately.</p>

<p>The one refactoring issue I could think of would be that you don't really need to parse the whole message, since you're just dumping a copy of the raw bytes, and all you want is the From and Subject headers.  You could instead use popinstance.top(0) to get the headers, create the message (blank body) from that, and use that for the headers.  Then do a full RETR to get the bytes.  This would only be worth doing if your messages were large (and so parsing them took a long time).  I would definitely measure before I made this optimisation.</p>

<p>For your function to sanitise for the names, it depends how nice you want the names to be, and how certain you are that the email and subject make the filename unique (seems fairly unlikely).  You could do something like:</p>

<pre><code>emailpath = """".join([c for c in emailpath if c in (string.letters + string.digits + ""_ "")])
</code></pre>

<p>And you'd end up with just alphanumeric characters and the underscore and space, which seems like a readable set.  Given that your filesystem (with Windows) is probably case insensitive, you could lowercase that also (add .lower() to the end).  You could use emailpath.translate if you want something more complex.</p>
"
442,224660,0,1,python,Incoming poplib refactoring using windows python 2.3,"<p>Hi Guys could you please help me refactor this so that it is sensibly pythonic.</p>

<pre><code>import sys
import poplib
import string
import StringIO, rfc822
import datetime
import logging

def _dump_pop_emails(self):
    self.logger.info(""open pop account %s with username: %s"" % (self.account[0], self.account[1]))
    self.popinstance = poplib.POP3(self.account[0])
    self.logger.info(self.popinstance.getwelcome()) 
    self.popinstance.user(self.account[1])
    self.popinstance.pass_(self.account[2])
    try:
        (numMsgs, totalSize) = self.popinstance.stat()
        for thisNum in range(1, numMsgs+1):
            (server_msg, body, octets) = self.popinstance.retr(thisNum)
            text = string.join(body, '\n')
            mesg = StringIO.StringIO(text)                               
            msg = rfc822.Message(mesg)
            name, email = msg.getaddr(""From"")
            emailpath = str(self._emailpath + self._inboxfolder + ""\\"" + email + ""_"" + msg.getheader(""Subject"") + "".eml"")
            emailpath = self._replace_whitespace(emailpath)
            file = open(emailpath,""wb"")
            file.write(text)
            file.close()
            self.popinstance.dele(thisNum)
    finally:
        self.logger.info(self.popinstance.quit())

def _replace_whitespace(self,name):
    name = str(name)
    return name.replace("" "", ""_"")
</code></pre>

<p>Also in the _replace_whitespace method I would like to have some kind of cleaning routine which takes out all illegal characters which could cause processing.</p>

<p>Basically I want to write the email to the inbox directory in a standard way.</p>

<p>Am i doing something wrong here?</p>
","<p>Further to my comment on John's answer</p>

<p>I found out what the issue was, there were illegal characters in the name field and Subject field, which caused python to get the hiccups, as it tried to write the email as a directory, after seeing "":"" and ""/"".</p>

<p>John point number 4 doesnt work! so I left it as before.
Also is point no 1 correct, have I implemented your suggestion correctly?</p>

<pre><code>def _dump_pop_emails(self):
    self.logger.info(""open pop account %s with username: %s"", self.account[0], self.account[1])
    self.popinstance = poplib.POP3(self.account[0])
    self.logger.info(self.popinstance.getwelcome()) 
    self.popinstance.user(self.account[1])
    self.popinstance.pass_(self.account[2])
    try:
        (numMsgs, totalSize) = self.popinstance.stat()
        for thisNum in range(1, numMsgs+1):
            (server_msg, body, octets) = self.popinstance.retr(thisNum)
            text = '\n'.join(body)
            mesg = StringIO.StringIO(text)                               
            msg = rfc822.Message(mesg)
            name, email = msg.getaddr(""From"")
            emailpath = str(self._emailpath + self._inboxfolder + ""\\"" + self._sanitize_string(email + "" "" + msg.getheader(""Subject"") + "".eml""))
            emailpath = self._replace_whitespace(emailpath)
            print emailpath
            file = open(emailpath,""wb"")
            file.write(text)
            file.close()
            self.popinstance.dele(thisNum)
    finally:
        self.logger.info(self.popinstance.quit())

def _replace_whitespace(self,name):
    name = str(name)
    return name.replace("" "", ""_"")   

def _sanitize_string(self,name):
    illegal_chars = "":"", ""/"", ""\\""
    name = str(name)
    for item in illegal_chars:
        name = name.replace(item, ""_"")
    return name
</code></pre>
"
441,224660,3,1,python,Incoming poplib refactoring using windows python 2.3,"<p>Hi Guys could you please help me refactor this so that it is sensibly pythonic.</p>

<pre><code>import sys
import poplib
import string
import StringIO, rfc822
import datetime
import logging

def _dump_pop_emails(self):
    self.logger.info(""open pop account %s with username: %s"" % (self.account[0], self.account[1]))
    self.popinstance = poplib.POP3(self.account[0])
    self.logger.info(self.popinstance.getwelcome()) 
    self.popinstance.user(self.account[1])
    self.popinstance.pass_(self.account[2])
    try:
        (numMsgs, totalSize) = self.popinstance.stat()
        for thisNum in range(1, numMsgs+1):
            (server_msg, body, octets) = self.popinstance.retr(thisNum)
            text = string.join(body, '\n')
            mesg = StringIO.StringIO(text)                               
            msg = rfc822.Message(mesg)
            name, email = msg.getaddr(""From"")
            emailpath = str(self._emailpath + self._inboxfolder + ""\\"" + email + ""_"" + msg.getheader(""Subject"") + "".eml"")
            emailpath = self._replace_whitespace(emailpath)
            file = open(emailpath,""wb"")
            file.write(text)
            file.close()
            self.popinstance.dele(thisNum)
    finally:
        self.logger.info(self.popinstance.quit())

def _replace_whitespace(self,name):
    name = str(name)
    return name.replace("" "", ""_"")
</code></pre>

<p>Also in the _replace_whitespace method I would like to have some kind of cleaning routine which takes out all illegal characters which could cause processing.</p>

<p>Basically I want to write the email to the inbox directory in a standard way.</p>

<p>Am i doing something wrong here?</p>
","<p>I don't see anything significant wrong with that code -- is it behaving incorrectly, or are you just looking for general style guidelines?</p>

<p>A few notes:</p>

<ol>
<li>Instead of <code>logger.info (""foo %s %s"" % (bar, baz))</code>, use <code>""foo %s %s"", bar, baz</code>. This avoids the overhead of string formatting if the message won't be printed.</li>
<li>Put a <code>try...finally</code> around opening <code>emailpath</code>.</li>
<li>Use <code>'\n'.join (body)</code>, instead of <code>string.join (body, '\n')</code>.</li>
<li>Instead of <code>msg.getaddr(""From"")</code>, just <code>msg.From</code>.</li>
</ol>
"
860,432080,2,1,python,3D Polygons in Python,"<p>As far as I am aware there is no inbuilt polygon functionality for Python. I want to create a 3D map and figured that polygons would be the best way to go about it.</p>

<p>Not wanting to reinvent the wheel I did some googling and found that there's a lot of Python stuff out there, but I couldn't find what I wanted. Thus before I reinvent the wheel (or invent it a whole), does anybody know of a Polygon system for Python?</p>

<p>Note that it does need to be 3D (I found quite a few 2D ones). Note also that I am not interested in the displaying of them but in storing them and the datastructure within Python.</p>

<p>Thanks</p>
","<p>I think you mean Polyhedron, not Polygon .. and you might wanna look at <a href=""http://vpython.org/"" rel=""nofollow"">vpython</a></p>
"
859,432080,4,1,python,3D Polygons in Python,"<p>As far as I am aware there is no inbuilt polygon functionality for Python. I want to create a 3D map and figured that polygons would be the best way to go about it.</p>

<p>Not wanting to reinvent the wheel I did some googling and found that there's a lot of Python stuff out there, but I couldn't find what I wanted. Thus before I reinvent the wheel (or invent it a whole), does anybody know of a Polygon system for Python?</p>

<p>Note that it does need to be 3D (I found quite a few 2D ones). Note also that I am not interested in the displaying of them but in storing them and the datastructure within Python.</p>

<p>Thanks</p>
","<p>One of the most complete geography/mapping systems available for Python that I know about is <a href=""http://geodjango.org/"" rel=""nofollow"">GeoDjango</a>.  This works on top of the <a href=""http://www.djangoproject.com/"" rel=""nofollow"">Django</a>, an MVC framework.  With it comes a large collection of polygon, line and distance calculation tools that can even take into account the curvature of the earth's surface if need be.</p>

<p>With that said, the quickest way I can think of to produce a 3D map is using a height map.  Create a two dimensional list of tuples containing (x, y, z) coordinates.  Each tuple represents an evenly spaced point on a grid, mapped out by the dimensions of the array.  This creates a simple plane along the X and Z axes; the ground plane.  The polygons that make up the plane are quads, a polygon with four sides.</p>

<p>Next, to produce the three dimensional height, simply give each point a Y value.  This will create peaks and valleys in your ground plane.</p>

<p>How you render this will be up to you, and converting your grid of points into a polygon format that something like OpenGL can understand may take some work, but have a look at <a href=""http://vpython.org/"" rel=""nofollow"">Visual Python</a>, its the simplest 3D library I've seen for Python.</p>
"
699,357810,2,1,python,A small question about python's variable scope,"<p>I am a beginner of python and have a question, very confusing for me.
If I define a function first but within the function I have to use a variable which is defined in another function below, can I do it like this? Or how can I import the return things of another function into a function?
for example:</p>

<pre><code>def hello(x,y):
    good=hi(iy,ix)
    ""then do somethings,and use the parameter'good'.""
    return something

def hi(iy,ix):
    ""code""
    return good
</code></pre>
","<p>your example program works, because the two instances of 'good' are different variables (you just happen to have both variables with the same name). The following code is exactly the same:</p>

<pre><code>def hello(x,y):
    good=hi(iy,ix)
    ""then do somethings,and use the parameter'good'.""
    return something

def hi(iy,ix):
    ""code""
    return great
</code></pre>
"
700,357810,5,1,python,A small question about python's variable scope,"<p>I am a beginner of python and have a question, very confusing for me.
If I define a function first but within the function I have to use a variable which is defined in another function below, can I do it like this? Or how can I import the return things of another function into a function?
for example:</p>

<pre><code>def hello(x,y):
    good=hi(iy,ix)
    ""then do somethings,and use the parameter'good'.""
    return something

def hi(iy,ix):
    ""code""
    return good
</code></pre>
","<p>The scope of functions <code>hello</code> and <code>hi</code> are entirely different.  They do not have any variables in common.</p>

<p>Note that the result of calling <code>hi(x,y)</code> is some object.  You save that object with the name <code>good</code> in the function <code>hello</code>.</p>

<p>The variable named <code>good</code> in <code>hello</code> is a different variable, unrelated to the variable named <code>good</code> in the function <code>hi</code>.</p>

<p>They're spelled the same, but the exist in different namespaces.  To prove this, change the spelling the <code>good</code> variable in one of the two functions, you'll see that things still work.</p>

<p><hr /></p>

<p>Edit.  Follow-up: ""so what should i do if i want use the result of <code>hi</code> function in <code>hello</code> function?""</p>

<p>Nothing unusual.  Look at <code>hello</code> closely.</p>

<pre><code>def hello(x,y):
    fordf150 = hi(y,x)
    ""then do somethings,and use the variable 'fordf150'.""
    return something

def hi( ix, iy ):
    ""compute some value, good.""
    return good
</code></pre>

<p>Some script evaluates <code>hello( 2, 3)</code>.</p>

<ol>
<li><p>Python creates a new namespace for the evaluation of <code>hello</code>.</p></li>
<li><p>In <code>hello</code>, <code>x</code> is bound to the object <code>2</code>.  Binding is done position order.</p></li>
<li><p>In <code>hello</code>, <code>y</code> is bound to the object <code>3</code>.</p></li>
<li><p>In <code>hello</code>, Python evaluates the first statement, <code>fordf150 = hi( y, x )</code>, <code>y</code> is 3, <code>x</code> is 2.</p>

<p>a.  Python creates a new namespace for the evaluation of <code>hi</code>.</p>

<p>b.  In <code>hi</code>, <code>ix</code> is bound to the object <code>3</code>.  Binding is done position order.</p>

<p>c.  In <code>hi</code>, <code>iy</code> is bound to the object <code>2</code>.</p>

<p>d.  In <code>hi</code>, something happens and <code>good</code> is bound to some object, say <code>3.1415926</code>.</p>

<p>e.  In <code>hi</code>, a <code>return</code> is executed; identifying an object as the value for <code>hi</code>.  In this case, the object is named by <code>good</code> and is the object  <code>3.1415926</code>.</p>

<p>f.  The <code>hi</code> namespace is discarded.  <code>good</code>, <code>ix</code> and <code>iy</code> vanish.  The object (<code>3.1415926</code>), however, remains as the value of evaluating <code>hi</code>.</p></li>
<li><p>In <code>hello</code>, Python finishes the first statement, <code>fordf150 = hi( y, x )</code>, <code>y</code> is 3, <code>x</code> is 2.  The value of <code>hi</code> is  <code>3.1415926</code>.</p>

<p>a.  <code>fordf150</code> is bound to the object created by evaluating <code>hi</code>, <code>3.1415926</code>.</p></li>
<li><p>In <code>hello</code>, Python moves on to other statements.</p></li>
<li><p>At some point <code>something</code> is bound to an object, say, <code>2.718281828459045</code>.</p></li>
<li><p>In <code>hello</code>, a <code>return</code> is executed; identifying an object as the value for <code>hello</code>.  In this case, the object is named by <code>something</code> and is the object  <code>2.718281828459045 </code>.</p></li>
<li><p>The namespace is discarded.  <code>fordf150</code> and <code>something</code> vanish, as do <code>x</code> and <code>y</code>.  The object (<code>2.718281828459045 </code>), however, remains as the value of evaluating <code>hello</code>.</p></li>
</ol>

<p>Whatever program or script called <code>hello</code> gets the answer.</p>
"
701,357810,1,1,python,A small question about python's variable scope,"<p>I am a beginner of python and have a question, very confusing for me.
If I define a function first but within the function I have to use a variable which is defined in another function below, can I do it like this? Or how can I import the return things of another function into a function?
for example:</p>

<pre><code>def hello(x,y):
    good=hi(iy,ix)
    ""then do somethings,and use the parameter'good'.""
    return something

def hi(iy,ix):
    ""code""
    return good
</code></pre>
","<p>The ""hello"" function doesn't mind you calling the ""hi"" function which is hasn't been defined yet, provided you don't try to actually use the ""hello"" function until after the both functions have been defined.</p>
"
702,357810,3,1,python,A small question about python's variable scope,"<p>I am a beginner of python and have a question, very confusing for me.
If I define a function first but within the function I have to use a variable which is defined in another function below, can I do it like this? Or how can I import the return things of another function into a function?
for example:</p>

<pre><code>def hello(x,y):
    good=hi(iy,ix)
    ""then do somethings,and use the parameter'good'.""
    return something

def hi(iy,ix):
    ""code""
    return good
</code></pre>
","<p>If you want to define a variable to the global namespace from inside a function, and thereby make it accessible by other functions in this space, you can use the global keyword. Here's some examples</p>

<pre><code>varA = 5   #A normal declaration of an integer in the main ""global"" namespace

def funcA():
    print varA #This works, because the variable was defined in the global namespace
               #and functions have read access to this.
def changeA():
    varA = 2  #This however, defines a variable in the function's own namespace
              #Because of this, it's not accessible by other functions.
              #It has also replaced the global variable, though only inside this function
def newVar():
    global varB #By using the global keyword, you assign this variable to the global namespace
    varB = 5

def funcB():
    print varB #Making it accessible to other functions
</code></pre>

<p>Conclusion: variables defined in a function stays in the function's namespace. It still has access to the global namespace for reading only, unless the variable has been called with the global keyword.</p>

<p>The term global isn't entirely global as it may seem at first. It's practically only a link to the lowest namespace in the file you're working in. Global keywords cannot be accessed in another module.</p>

<p>As a mild warning, this may be considered to be less ""good practice"" by some.</p>
"
952,469110,5,1,python,In Django how do i return the total number of items that are related to a model?,"<p>In Django how can i return the total number of items (count) that are related to another model, e.g the way stackoverflow does a list of questions then on the side it shows the count on the answers related to that question.</p>

<p>This is easy if i get the questionid, i can return all answers related to that question  but when am displaying the entire list of question it becomes a bit tricky to display on the side the count showing the total count.</p>

<p>I don't know if am clear but just think how stackoverflow displays its questions with answer,views count next to each question! </p>
","<p><a href=""http://docs.djangoproject.com/en/dev/ref/models/querysets/#count"">QuerySet.count()</a></p>

<p>See also an <a href=""http://docs.djangoproject.com/en/dev/topics/db/queries/#following-relationships-backward"">example</a> how to build QuerySets of related models.</p>
"
978,484220,2,1,python,calling methods on an instance with getattr [ python ],"<p>I was trying to write some code that would check if an item has some attributes , and to call them . I tried to do that with getattr , but the modifications wouldn't be permanent . I made a ""dummy"" class to check upon this .
Here is the code I used for the class :</p>

<pre><code>
class X:                                         
   def __init__(self):
     self.value = 90  
   def __get(self):   
     return self.value
   def __set(self,value):
     self.value = value  
   value = property(__get,__set)

x = X()
print x.value # this would output 90
getattr(x,""value="",99) # when called from an interactive python interpreter this would output 99
print x.value # this is still 90 ( how could I make this be 99 ? ) 
</code></pre>

<p>Thanks !</p>
","<pre><code>getattr(x,""value="",99)
</code></pre>

<p>returns 99 because <code>x</code> has no attribute ""value="" (note the equals sign), so getattr returns the supplied default (99).</p>
"
722,369230,1,1,python,What is the best way to serialize a ModelForm object in Django?,"<p>I am using Django and the Google Web Toolkit (GWT) for my current project. I would like to pass a ModelForm instance to GWT via an Http response so that I can ""chop"" it up and render it as I please. My goal is to keep the form in sync with changes to my models.py file, yet increase control I have over the look of the form. However, the django classes for serialization, serializers and simplejson, cannot serialize a ModelForm. Neither can cPickle. What are my alternatives? </p>
","<p>If you were using pure Django, you'd pass the form to your template, and could then call individual fields on the form for more precise rendering, rather than using ModelForm.to_table.  You can use the following to iterate over each field and render it exactly how you want:</p>

<pre><code>{% for field in form.fields %}
    &lt;div class=""form-field""&gt;{{ field }}&lt;/div&gt;
{% endfor %}
</code></pre>

<p>This also affords you the ability to do conditional checks using {% if %} blocks inside the loop should you want to exclude certain fields.</p>
"
473,244720,0,1,python,opengl set texture color with vertex color,"<p>Because I need to display a <a href=""http://codeflow.org/ubuntu.png"" rel=""nofollow"">huge number of labels</a> that <a href=""http://www.youtube.com/watch?v=A_ah-SE-cNY"" rel=""nofollow"">move independently</a>, I need to render a label in <a href=""http://pyglet.org"" rel=""nofollow"">pyglet</a> to a texture (otherwise updating the vertex list for each glyph is too slow).</p>

<p>I have a solution to do this, but my problem is that the texture that contains the glyphs is black, but I'd like it to be red. See the example below:</p>

<pre><code>from pyglet.gl import *

def label2texture(label):
    vertex_list = label._vertex_lists[0].vertices[:]
    xpos = map(int, vertex_list[::8])
    ypos = map(int, vertex_list[1::8])
    glyphs = label._get_glyphs()

    xstart = xpos[0]
    xend = xpos[-1] + glyphs[-1].width
    width = xend - xstart

    ystart = min(ypos)
    yend = max(ystart+glyph.height for glyph in glyphs)
    height = yend - ystart

    texture = pyglet.image.Texture.create(width, height, pyglet.gl.GL_RGBA)

    for glyph, x, y in zip(glyphs, xpos, ypos):
        data = glyph.get_image_data()
        x = x - xstart
        y =  height - glyph.height - y + ystart
        texture.blit_into(data, x, y, 0)

    return texture.get_transform(flip_y=True)

window = pyglet.window.Window()
label = pyglet.text.Label('Hello World!', font_size = 36)
texture = label2texture(label)

@window.event
def on_draw():
    hoff = (window.width / 2) - (texture.width / 2)
    voff = (window.height / 2) - (texture.height / 2)

    glClear(GL_COLOR_BUFFER_BIT)
    glEnable(GL_BLEND)
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)
    glClearColor(0.0, 1.0, 0.0, 1.0)
    window.clear()
    glEnable(GL_TEXTURE_2D);

    glBindTexture(GL_TEXTURE_2D, texture.id)
    glColor4f(1.0, 0.0, 0.0, 1.0) #I'd like the font to be red
    glBegin(GL_QUADS);
    glTexCoord2d(0.0,1.0); glVertex2d(hoff,voff);
    glTexCoord2d(1.0,1.0); glVertex2d(hoff+texture.width,voff);
    glTexCoord2d(1.0,0.0); glVertex2d(hoff+texture.width,voff+texture.height);
    glTexCoord2d(0.0,0.0); glVertex2d(hoff, voff+texture.height);
    glEnd();

pyglet.app.run()
</code></pre>

<p>Any idea how I could color this?</p>
","<p>Isn't that when you use decaling, through <code><a href=""http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/texenv.html"" rel=""nofollow"">glTexEnv()</a></code>?</p>
"
630,318700,1,1,python,Does anyone know where there is a recipe for serializing data and preserving its order in the output?,"<p>I am working with a set of data that I have converted to a list of dictionaries</p>

<p>For example one item in my list is </p>

<pre><code>{'reportDate': u'R20070501', 'idnum': u'1078099', 'columnLabel': u'2005',
 'actionDate': u'C20070627', 'data': u'76,000', 'rowLabel': u'Sales of Bananas'}
</code></pre>

<p>Per request </p>

<p>The second item in my list could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078099', 'columnLabel': u'2006',
 'actionDate': u'C20070627', 'data': u'86,000', 'rowLabel': u'Sales of Bananas'}
</code></pre>

<p>The third item could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078100', 'columnLabel': u'Full Year 2005',
 'actionDate': u'C20070627', 'data': u'116,000', 'rowLabel': u'Sales of Cherries'}
</code></pre>

<p>The fourth item could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078100', 'columnLabel': u'Full Year 2006',
 'actionDate': u'C20070627', 'data': u'76,000', 'rowLabel': u'Sales of Sales of Cherries'}
</code></pre>

<p>The reason I need to pickle this is because I need to find out all of the ways the columns were labeled before I consolidate the results and put them into a database.  The first and second items will be one row in the results, the third and fourth would be the next line in the results (after someone decides what the uniform column header label should be)</p>

<p>I tested pickle and was able to save and retrieve my data.  However, I need to be able to preserve the order in the output.  One idea I have is to add another key that would be a counter so I could retrieve my data and then sort by the counter.  Is there a better way?</p>

<p>I don't want to put this into a database because it is not permanent.  </p>

<p>I marked an answer down below. It is not what I am getting, so I need to figure out if the problem is somewhere else in my code.</p>
","<p>The Python dict is an unordered container. If you need to preserve the order of the entries, you should consider using a list of 2-tuples.</p>

<p>Another option would be to keep an extra, ordered list of the keys. This way you can benefit from the quick, keyed access offered by the dictionary, while still being able to iterate through its values in an ordered fashion:</p>

<pre><code>data = {'reportDate': u'R20070501', 'idnum': u'1078099', 
        'columnLabel': u'2005', 'actionDate': u'C20070627', 
        'data': u'76,000', 'rowLabel': u'Sales of Bananas'}
dataOrder = ['reportDate', 'idnum', 'columnLabel', 
             'actionDate', 'data', 'rowLabel']

for key in dataOrder:
    print key, data[key]
</code></pre>
"
814,408810,1,1,python,Catch MainLoop exceptions and displaying them in MessageDialogs,"<p>I have a wxPython application that relies on an external config file.  I want provide friendly message dialogs that show up if there are any config errors.  I've tried to make this work by wrapping my app.MainLoop() call in a try/except statement.</p>

<p>The code below works for the init code in my MainWindow frame class, but doesn't catch any exceptions that occur within the MainLoop.  How can I catch these exceptions as well?</p>

<pre><code>if __name__ == '__main__':
    app = MyApp(0)
    try:
        MainWindow(None, -1, 'My Cool App')
        app.MainLoop()
    except ConfigParser.Error, error_message:
        messagebox = wx.MessageDialog(None, error_message, 'Configuration Error', wx.OK | wx.ICON_ERROR)
        messagebox.ShowModal()
</code></pre>

<p>I've read some mention of an OnExceptionInMainLoop method that can be overridden in the wx.App class, but the source I read must be out of date (2004) since wx.App no longer seems to have a method by that name.</p>

<p><strong>EDIT:</strong></p>

<p>I need to be able to catch unhandled exceptions during my mainloop so that I can further handle them and display them in error dialogs, not pass silently, and not terminate the app.</p>

<p>The sys.excepthook solution is too low level and doesn't play nice with the wxPython mainloop thread.  While the link to the other answer does the same try/except wrapping around the mainloop which doesn't work due, once again, to wxPython spawning a different thread for the app/ui.</p>
","<p>I coded something like this for <a href=""http://chandlerproject.org/"" rel=""nofollow"">Chandler</a>, where any unhandled exceptions pop up a window with the stack and other info, and users can put in additional comments (what did they do when it happened etc.) and submit it for Chandler developers. A bit like the <a href=""https://wiki.mozilla.org/QA/Talkback"" rel=""nofollow"">Mozilla Talkback</a> (<a href=""https://developer.mozilla.org/en/Crash_reporting"" rel=""nofollow"">nowadays</a> they use Breakpad I believe) feature if you will.</p>

<p>To do this in wxPython, you need to provide redirect parameter to wx.App. This will pop up <a href=""http://www.wxpython.org/docs/api/wx.PyOnDemandOutputWindow-class.html"" rel=""nofollow"">wx.PyOnDemandOutputWindow</a> (you will probably want to override it to provide a nicer looking implementation).</p>

<p>The relevant source files in Chandler are here:</p>

<ul>
<li><a href=""http://svn.osafoundation.org/chandler/trunk/chandler/Chandler.py"" rel=""nofollow"">Chandler.py</a> starts the application and sets the redirect attribute, as well as tries to catch and display error dialogs in case normal application startup fails</li>
<li><a href=""http://svn.osafoundation.org/chandler/trunk/chandler/application/Application.py"" rel=""nofollow"">Application.py</a> customizes the application object, including setting up our customized wx.PyOnDemandOutputWindow </li>
<li><a href=""http://svn.osafoundation.org/chandler/trunk/chandler/application/feedback.py"" rel=""nofollow"">feedback.py</a> has the implementation for the customized wx.PyOnDemandOutputWindow; it will additionally need feedback.xrc and feedback_xrc.py</li>
</ul>
"
629,318700,1,1,python,Does anyone know where there is a recipe for serializing data and preserving its order in the output?,"<p>I am working with a set of data that I have converted to a list of dictionaries</p>

<p>For example one item in my list is </p>

<pre><code>{'reportDate': u'R20070501', 'idnum': u'1078099', 'columnLabel': u'2005',
 'actionDate': u'C20070627', 'data': u'76,000', 'rowLabel': u'Sales of Bananas'}
</code></pre>

<p>Per request </p>

<p>The second item in my list could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078099', 'columnLabel': u'2006',
 'actionDate': u'C20070627', 'data': u'86,000', 'rowLabel': u'Sales of Bananas'}
</code></pre>

<p>The third item could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078100', 'columnLabel': u'Full Year 2005',
 'actionDate': u'C20070627', 'data': u'116,000', 'rowLabel': u'Sales of Cherries'}
</code></pre>

<p>The fourth item could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078100', 'columnLabel': u'Full Year 2006',
 'actionDate': u'C20070627', 'data': u'76,000', 'rowLabel': u'Sales of Sales of Cherries'}
</code></pre>

<p>The reason I need to pickle this is because I need to find out all of the ways the columns were labeled before I consolidate the results and put them into a database.  The first and second items will be one row in the results, the third and fourth would be the next line in the results (after someone decides what the uniform column header label should be)</p>

<p>I tested pickle and was able to save and retrieve my data.  However, I need to be able to preserve the order in the output.  One idea I have is to add another key that would be a counter so I could retrieve my data and then sort by the counter.  Is there a better way?</p>

<p>I don't want to put this into a database because it is not permanent.  </p>

<p>I marked an answer down below. It is not what I am getting, so I need to figure out if the problem is somewhere else in my code.</p>
","<p>Python does not retain order in dictionaries.<br>
However, there is the <a href=""http://docs.python.org/2/library/collections.html?highlight=collections#ordereddict-objects"" rel=""nofollow"">OrderedDict</a> class in the <em>collections</em> module.</p>

<p>Another option would be to use a list of tuples:</p>

<pre><code>[('reportDate', u'R20080501'), ('idnum', u'1078099'), ...etc]
</code></pre>

<p>You can use the built in <code>dict()</code> if you need to convert this to a dictionary later.</p>
"
977,484220,8,1,python,calling methods on an instance with getattr [ python ],"<p>I was trying to write some code that would check if an item has some attributes , and to call them . I tried to do that with getattr , but the modifications wouldn't be permanent . I made a ""dummy"" class to check upon this .
Here is the code I used for the class :</p>

<pre><code>
class X:                                         
   def __init__(self):
     self.value = 90  
   def __get(self):   
     return self.value
   def __set(self,value):
     self.value = value  
   value = property(__get,__set)

x = X()
print x.value # this would output 90
getattr(x,""value="",99) # when called from an interactive python interpreter this would output 99
print x.value # this is still 90 ( how could I make this be 99 ? ) 
</code></pre>

<p>Thanks !</p>
","<p>You need to do something like</p>

<pre><code>class X:                                         
   def __init__(self):
     self._value = 90  

   def _get(self):   
     return self._value

   def _set(self, value):
     self._value = value  

   value = property(_get, _set)
</code></pre>

<p>Note that the ""internal"" variable has to have a different name than the property (I used <code>_value</code>).</p>

<p>Then,</p>

<pre><code>setattr(x, 'value', 99)
</code></pre>

<p>should work.</p>
"
703,357810,2,1,python,A small question about python's variable scope,"<p>I am a beginner of python and have a question, very confusing for me.
If I define a function first but within the function I have to use a variable which is defined in another function below, can I do it like this? Or how can I import the return things of another function into a function?
for example:</p>

<pre><code>def hello(x,y):
    good=hi(iy,ix)
    ""then do somethings,and use the parameter'good'.""
    return something

def hi(iy,ix):
    ""code""
    return good
</code></pre>
","<p>More details on the python scoping rules are here :</p>

<p><a href=""http://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules#292502"">Short Description of Python Scoping Rules</a></p>
"
474,244720,2,1,python,opengl set texture color with vertex color,"<p>Because I need to display a <a href=""http://codeflow.org/ubuntu.png"" rel=""nofollow"">huge number of labels</a> that <a href=""http://www.youtube.com/watch?v=A_ah-SE-cNY"" rel=""nofollow"">move independently</a>, I need to render a label in <a href=""http://pyglet.org"" rel=""nofollow"">pyglet</a> to a texture (otherwise updating the vertex list for each glyph is too slow).</p>

<p>I have a solution to do this, but my problem is that the texture that contains the glyphs is black, but I'd like it to be red. See the example below:</p>

<pre><code>from pyglet.gl import *

def label2texture(label):
    vertex_list = label._vertex_lists[0].vertices[:]
    xpos = map(int, vertex_list[::8])
    ypos = map(int, vertex_list[1::8])
    glyphs = label._get_glyphs()

    xstart = xpos[0]
    xend = xpos[-1] + glyphs[-1].width
    width = xend - xstart

    ystart = min(ypos)
    yend = max(ystart+glyph.height for glyph in glyphs)
    height = yend - ystart

    texture = pyglet.image.Texture.create(width, height, pyglet.gl.GL_RGBA)

    for glyph, x, y in zip(glyphs, xpos, ypos):
        data = glyph.get_image_data()
        x = x - xstart
        y =  height - glyph.height - y + ystart
        texture.blit_into(data, x, y, 0)

    return texture.get_transform(flip_y=True)

window = pyglet.window.Window()
label = pyglet.text.Label('Hello World!', font_size = 36)
texture = label2texture(label)

@window.event
def on_draw():
    hoff = (window.width / 2) - (texture.width / 2)
    voff = (window.height / 2) - (texture.height / 2)

    glClear(GL_COLOR_BUFFER_BIT)
    glEnable(GL_BLEND)
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)
    glClearColor(0.0, 1.0, 0.0, 1.0)
    window.clear()
    glEnable(GL_TEXTURE_2D);

    glBindTexture(GL_TEXTURE_2D, texture.id)
    glColor4f(1.0, 0.0, 0.0, 1.0) #I'd like the font to be red
    glBegin(GL_QUADS);
    glTexCoord2d(0.0,1.0); glVertex2d(hoff,voff);
    glTexCoord2d(1.0,1.0); glVertex2d(hoff+texture.width,voff);
    glTexCoord2d(1.0,0.0); glVertex2d(hoff+texture.width,voff+texture.height);
    glTexCoord2d(0.0,0.0); glVertex2d(hoff, voff+texture.height);
    glEnd();

pyglet.app.run()
</code></pre>

<p>Any idea how I could color this?</p>
","<p>You want to set <code>glEnable(GL_COLOR_MATERIAL)</code>. This makes the texture color mix with the current OpenGL color. You can also use the <code>glColorMaterial</code> function to specify whether the front/back/both of each polygon should be affected. Docs <a href=""http://www.glprogramming.com/blue/ch05.html#id37922"" rel=""nofollow"">here</a>.</p>
"
400,207290,2,1,python,extracting a parenthesized Python expression from a string,"<p>I've been wondering about how hard it would be to write some Python code to search a string for the index of a substring of the form <code>${</code><em>expr</em><code>}</code>, for example, where <em>expr</em> is meant to be a Python expression or something resembling one.  Given such a thing, one could easily imagine going on to check the expression's syntax with <code>compile()</code>, evaluate it against a particular scope with <code>eval()</code>, and perhaps even substitute the result into the original string.  People must do very similar things all the time.</p>

<p>I could imagine solving such a problem using a third-party parser generator [oof], or by hand-coding some sort of state machine [eek], or perhaps by convincing Python's own parser to do the heavy lifting somehow [hmm].  Maybe there's a third-party templating library somewhere that can be made to do exactly this.  Maybe restricting the syntax of <em>expr</em> is likely to be a worthwhile compromise in terms of simplicity or execution time or cutting down on external dependencies -- for example, maybe all I really need is something that matches any <em>expr</em> that has balanced curly braces.</p>

<p>What's your sense?</p>

<h2>Update:</h2>

<p>Thanks very much for your responses so far!  Looking back at what I wrote yesterday, I'm not sure I was sufficiently clear about what I'm asking.  Template substitution is indeed an interesting problem, and probably much more useful to many more people than the expression extraction subproblem I'm wondering about, but I brought it up only as a simple example of how the answer to my question might be useful in real life.  Some other potential applications might include passing the extracted expressions to a syntax highlighter; passing the result to a real Python parser and looking at or monkeying with the parse tree; or using the sequence of extracted expressions to build up a larger Python program, perhaps in conjunction with some information taken from the surrounding text.</p>

<p>The <code>${</code><em>expr</em><code>}</code> syntax I mentioned is also intended as an example, and in fact I wonder if I shouldn't have used <code>$(</code><em>expr</em><code>)</code> as my example instead, because it makes the potential drawbacks of the obvious approach, along the lines of <code>re.finditer(r'$\{([^}]+)\}', s)</code>, a bit easier to see.  Python expressions can (and often do) contain the <code>)</code> (or <code>}</code>) character.  It seems possible that handling any of those cases might be much more trouble than it's worth, but I'm not convinced of that yet.  Please feel free to try to make this case!</p>

<p>Prior to posting this question, I spent quite a bit of time looking at Python template engines hoping that one might expose the sort of low-level functionality I'm asking about -- namely, something that can find expressions in a variety of contexts and tell me where they are rather than being limited to finding expressions embedded using a single hard-coded syntax, always evaluating them, and always substituting the results back into the original string.  I haven't figured out how to use any of them to solve my problem yet, but I do very much appreciate the suggestions regarding more to look at (can't believe I missed that wonderful list on the wiki!).  The API documentation for these things tends to be pretty high-level, and I'm not too familiar with the internals of any of them, so I'm sure I could use help looking at those and figuring out how to get them to do this sort of thing.</p>

<p>Thanks for your patience!</p>
","<p>I think what you're asking about is being able to insert Python code into text files to be evaluated. There are several modules that already exist to provide this kind of functionality. You can check the Python.org <a href=""http://wiki.python.org/moin/Templating"" rel=""nofollow""><strong>Templating wiki page</strong></a> for a comprehensive list.</p>

<p>Some google searching also turned up a few other modules you might be interested in:</p>

<ul>
<li><a href=""http://py-templates.sourceforge.net/texttemplate/index.html"" rel=""nofollow"">texttemplate</a> (part of py-templates project)</li>
<li><a href=""http://www.embl-heidelberg.de/~chenna/pythonpages/template.html"" rel=""nofollow"">template module</a></li>
</ul>

<p>If you're really looking just into writing this yourself for whatever reason, you can also dig into this Python cookbook solution <a href=""http://code.activestate.com/recipes/52305/"" rel=""nofollow"">Yet Another Python Templating Utility (YAPTU) </a>:</p>

<blockquote>
  <p><em>""Templating"" (copying an input file to output, on the fly inserting Python 
  expressions and statements) is a frequent need, and YAPTU is a small but 
  complete Python module for that; expressions and statements are identified 
  by arbitrary user-chosen regular-expressions.</em></p>
</blockquote>

<p><strong>EDIT</strong>: Just for the heck of it, I whipped up a severely simplistic code sample for this. I'm sure it has bugs but it illustrates a simplified version of the concept at least: </p>

<pre><code>#!/usr/bin/env python

import sys
import re

FILE = sys.argv[1]

handle = open(FILE)
fcontent = handle.read()
handle.close()

for myexpr in re.finditer(r'\${([^}]+)}', fcontent, re.M|re.S):
    text = myexpr.group(1)
    try:
        exec text
    except SyntaxError:
        print ""ERROR: unable to compile expression '%s'"" % (text)
</code></pre>

<p>Tested against the following text: </p>

<pre><code>This is some random text, with embedded python like 
${print ""foo""} and some bogus python like

${any:thing}.

And a multiline statement, just for kicks: 

${
def multiline_stmt(foo):
  print foo

multiline_stmt(""ahem"")
}

More text here.
</code></pre>

<p>Output: </p>

<pre><code>[user@host]$ ./exec_embedded_python.py test.txt
foo
ERROR: unable to compile expression 'any:thing'
ahem
</code></pre>
"
399,207290,1,1,python,extracting a parenthesized Python expression from a string,"<p>I've been wondering about how hard it would be to write some Python code to search a string for the index of a substring of the form <code>${</code><em>expr</em><code>}</code>, for example, where <em>expr</em> is meant to be a Python expression or something resembling one.  Given such a thing, one could easily imagine going on to check the expression's syntax with <code>compile()</code>, evaluate it against a particular scope with <code>eval()</code>, and perhaps even substitute the result into the original string.  People must do very similar things all the time.</p>

<p>I could imagine solving such a problem using a third-party parser generator [oof], or by hand-coding some sort of state machine [eek], or perhaps by convincing Python's own parser to do the heavy lifting somehow [hmm].  Maybe there's a third-party templating library somewhere that can be made to do exactly this.  Maybe restricting the syntax of <em>expr</em> is likely to be a worthwhile compromise in terms of simplicity or execution time or cutting down on external dependencies -- for example, maybe all I really need is something that matches any <em>expr</em> that has balanced curly braces.</p>

<p>What's your sense?</p>

<h2>Update:</h2>

<p>Thanks very much for your responses so far!  Looking back at what I wrote yesterday, I'm not sure I was sufficiently clear about what I'm asking.  Template substitution is indeed an interesting problem, and probably much more useful to many more people than the expression extraction subproblem I'm wondering about, but I brought it up only as a simple example of how the answer to my question might be useful in real life.  Some other potential applications might include passing the extracted expressions to a syntax highlighter; passing the result to a real Python parser and looking at or monkeying with the parse tree; or using the sequence of extracted expressions to build up a larger Python program, perhaps in conjunction with some information taken from the surrounding text.</p>

<p>The <code>${</code><em>expr</em><code>}</code> syntax I mentioned is also intended as an example, and in fact I wonder if I shouldn't have used <code>$(</code><em>expr</em><code>)</code> as my example instead, because it makes the potential drawbacks of the obvious approach, along the lines of <code>re.finditer(r'$\{([^}]+)\}', s)</code>, a bit easier to see.  Python expressions can (and often do) contain the <code>)</code> (or <code>}</code>) character.  It seems possible that handling any of those cases might be much more trouble than it's worth, but I'm not convinced of that yet.  Please feel free to try to make this case!</p>

<p>Prior to posting this question, I spent quite a bit of time looking at Python template engines hoping that one might expose the sort of low-level functionality I'm asking about -- namely, something that can find expressions in a variety of contexts and tell me where they are rather than being limited to finding expressions embedded using a single hard-coded syntax, always evaluating them, and always substituting the results back into the original string.  I haven't figured out how to use any of them to solve my problem yet, but I do very much appreciate the suggestions regarding more to look at (can't believe I missed that wonderful list on the wiki!).  The API documentation for these things tends to be pretty high-level, and I'm not too familiar with the internals of any of them, so I'm sure I could use help looking at those and figuring out how to get them to do this sort of thing.</p>

<p>Thanks for your patience!</p>
","<p>I think your best bet is to match for all curly braced entries, and then check against Python itself whether or not it's valid Python, for which <a href=""http://www.python.org/doc/2.5.2/lib/compiler.html"" rel=""nofollow"">compiler</a> would be helpful.</p>
"
812,408810,2,1,python,Catch MainLoop exceptions and displaying them in MessageDialogs,"<p>I have a wxPython application that relies on an external config file.  I want provide friendly message dialogs that show up if there are any config errors.  I've tried to make this work by wrapping my app.MainLoop() call in a try/except statement.</p>

<p>The code below works for the init code in my MainWindow frame class, but doesn't catch any exceptions that occur within the MainLoop.  How can I catch these exceptions as well?</p>

<pre><code>if __name__ == '__main__':
    app = MyApp(0)
    try:
        MainWindow(None, -1, 'My Cool App')
        app.MainLoop()
    except ConfigParser.Error, error_message:
        messagebox = wx.MessageDialog(None, error_message, 'Configuration Error', wx.OK | wx.ICON_ERROR)
        messagebox.ShowModal()
</code></pre>

<p>I've read some mention of an OnExceptionInMainLoop method that can be overridden in the wx.App class, but the source I read must be out of date (2004) since wx.App no longer seems to have a method by that name.</p>

<p><strong>EDIT:</strong></p>

<p>I need to be able to catch unhandled exceptions during my mainloop so that I can further handle them and display them in error dialogs, not pass silently, and not terminate the app.</p>

<p>The sys.excepthook solution is too low level and doesn't play nice with the wxPython mainloop thread.  While the link to the other answer does the same try/except wrapping around the mainloop which doesn't work due, once again, to wxPython spawning a different thread for the app/ui.</p>
","<p>Don't know if this will work for a wxPython application, but in the sys module you can overwrite the excepthook attribute, which is a function called with 3 arguments, <code>(type, value, traceback)</code>, when an uncaugth exception is caught. You can install your own function in there that handles only the exceptions you want, and call the original function for all the others.</p>

<p>Consult: <a href=""http://docs.python.org/library/sys.html#sys.excepthook"" rel=""nofollow"" title=""sys module"">http://docs.python.org/library/sys.html#sys.excepthook</a></p>
"
813,408810,0,1,python,Catch MainLoop exceptions and displaying them in MessageDialogs,"<p>I have a wxPython application that relies on an external config file.  I want provide friendly message dialogs that show up if there are any config errors.  I've tried to make this work by wrapping my app.MainLoop() call in a try/except statement.</p>

<p>The code below works for the init code in my MainWindow frame class, but doesn't catch any exceptions that occur within the MainLoop.  How can I catch these exceptions as well?</p>

<pre><code>if __name__ == '__main__':
    app = MyApp(0)
    try:
        MainWindow(None, -1, 'My Cool App')
        app.MainLoop()
    except ConfigParser.Error, error_message:
        messagebox = wx.MessageDialog(None, error_message, 'Configuration Error', wx.OK | wx.ICON_ERROR)
        messagebox.ShowModal()
</code></pre>

<p>I've read some mention of an OnExceptionInMainLoop method that can be overridden in the wx.App class, but the source I read must be out of date (2004) since wx.App no longer seems to have a method by that name.</p>

<p><strong>EDIT:</strong></p>

<p>I need to be able to catch unhandled exceptions during my mainloop so that I can further handle them and display them in error dialogs, not pass silently, and not terminate the app.</p>

<p>The sys.excepthook solution is too low level and doesn't play nice with the wxPython mainloop thread.  While the link to the other answer does the same try/except wrapping around the mainloop which doesn't work due, once again, to wxPython spawning a different thread for the app/ui.</p>
","<p>Perhaps <a href=""http://stackoverflow.com/questions/166198/how-can-i-capture-all-exceptions-from-a-wxpython-application"">this</a> question might be of some use, it tries to capture all exceptions.</p>
"
631,318700,5,1,python,Does anyone know where there is a recipe for serializing data and preserving its order in the output?,"<p>I am working with a set of data that I have converted to a list of dictionaries</p>

<p>For example one item in my list is </p>

<pre><code>{'reportDate': u'R20070501', 'idnum': u'1078099', 'columnLabel': u'2005',
 'actionDate': u'C20070627', 'data': u'76,000', 'rowLabel': u'Sales of Bananas'}
</code></pre>

<p>Per request </p>

<p>The second item in my list could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078099', 'columnLabel': u'2006',
 'actionDate': u'C20070627', 'data': u'86,000', 'rowLabel': u'Sales of Bananas'}
</code></pre>

<p>The third item could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078100', 'columnLabel': u'Full Year 2005',
 'actionDate': u'C20070627', 'data': u'116,000', 'rowLabel': u'Sales of Cherries'}
</code></pre>

<p>The fourth item could be:</p>

<pre><code> {'reportDate': u'R20070501', 'idnum': u'1078100', 'columnLabel': u'Full Year 2006',
 'actionDate': u'C20070627', 'data': u'76,000', 'rowLabel': u'Sales of Sales of Cherries'}
</code></pre>

<p>The reason I need to pickle this is because I need to find out all of the ways the columns were labeled before I consolidate the results and put them into a database.  The first and second items will be one row in the results, the third and fourth would be the next line in the results (after someone decides what the uniform column header label should be)</p>

<p>I tested pickle and was able to save and retrieve my data.  However, I need to be able to preserve the order in the output.  One idea I have is to add another key that would be a counter so I could retrieve my data and then sort by the counter.  Is there a better way?</p>

<p>I don't want to put this into a database because it is not permanent.  </p>

<p>I marked an answer down below. It is not what I am getting, so I need to figure out if the problem is somewhere else in my code.</p>
","<p>So what's wrong with pickle?  If you structure your data as a list of dicts, then everything should work as you want it to (if I understand your problem).</p>

<pre><code>&gt;&gt;&gt; import pickle
&gt;&gt;&gt; d1 = {1:'one', 2:'two', 3:'three'}
&gt;&gt;&gt; d2 = {1:'eleven', 2:'twelve', 3:'thirteen'}
&gt;&gt;&gt; d3 = {1:'twenty-one', 2:'twenty-two', 3:'twenty-three'}
&gt;&gt;&gt; data = [d1, d2, d3]
&gt;&gt;&gt; out = open('data.pickle', 'wb')
&gt;&gt;&gt; pickle.dump(data, out)
&gt;&gt;&gt; out.close()
&gt;&gt;&gt; input = open('data.pickle')    
&gt;&gt;&gt; data2 = pickle.load(input)
&gt;&gt;&gt; data == data2
True
</code></pre>
"
428,217020,1,0,python,Python/editline on OS X: Â£ sign seems to be bound to ed-prev-word,"<p>On Mac OS X I canât enter a pound sterling sign (Â£) into the Python interactive shell.</p>

<pre><code>* Mac OS X 10.5.5
* Python 2.5.1 (r251:54863, Jan 17 2008, 19:35:17)
* European keyboard (Â£ is shift-3)
</code></pre>

<p>When I type shift-3 in the Python interactive shell, I seem to invoke the previous word function, i.e. the cursor will move to the start of the last âwordâ (i.e. space-delimited item) typed on the line. When Iâm back in the bash shell, typing shift-3 just produces a Â£, as expected.</p>

<p>This version of Python apparently uses editline for its interactive shell, as opposed to readline. Iâm guessing that one of the default editline key bindings binds shift-3 (or whatever editline sees when I type shift-3) to the ed-prev-word command.</p>

<p>Iâve tried a few things in my ~/.editrc file to remove this binding, and they donât have any effect:</p>

<ul>
<li><code>bind -r Â£</code></li>
<li><code>bind -r \243</code></li>
<li><code>bind -r \156</code></li>
</ul>

<p>And another that causes a bus error:</p>

<ul>
<li><code>bind Â£ \243</code></li>
</ul>

<p>Any ideas?</p>
","<p>This may be an editline issue; libedit may not accept UTF-8 characters:</p>

<ul>
<li><a href=""http://tracker.firebirdsql.org/browse/CORE-362#action_11593"" rel=""nofollow"">http://tracker.firebirdsql.org/browse/CORE-362#action_11593</a></li>
<li><a href=""http://marc.info/?t=119056021900002&amp;r=1&amp;w=2"" rel=""nofollow"">http://marc.info/?t=119056021900002&amp;r=1&amp;w=2</a></li>
</ul>
"
592,294960,1,0,python,Pycurl WRITEDATA WRITEFUNCTION collision/crash,"<p>How do I turnoff WRITEFUNCTION and WRITEDATA?</p>

<p>Using pycurl I have a class call curlUtil. In it I have pageAsString (self, URL) which returns a string. </p>

<p>To do this I setopt WRITEFUNCTION. Now in downloadFile (self, URL, fn, overwrite=0) I do an open and self.c.Setopt (pycurl.WRITEFUNCTION, 0) which cause problems. Int is not a valid argument. </p>

<p>I then assumed WRITEDATA would overwrite the value or there would be a NOWRITEFUNCTION commend. NOWRITEFUNCTION didn't exist so I just used WRITEDATA and Python crashed. </p>

<p>I wrote a quick func called reboot() which closes curl, opens it again, and calls reset to put it in the default state. I call it in both pageAsString and downloadFile and there is no problem at all. But, I don't want to reinitialize curl. There might be some special options I set. </p>

<p>How do I turnoff WRITEFUNCTION and WRITEDATA?</p>
","<p>using the writefunction, instead of turning it off would save you a lot off trouble. you might want to rewrite your pageAsString by utilizing WRITEFUNCTION..</p>

<p>as an example: </p>

<pre><code>from cStringIO import StringIO
c = pycurl.Curl()
buffer = StringIO()
c.setopt(pycurl.WRITEFUNCTION, buffer.write)
c.setopt(pycurl.URL, ""http://example.com"")
c.perform()
...
buffer.getvalue() # will return the data fetched.
</code></pre>
"
233,118540,0,0,python,What is wrong with my snap to grid code?,"<p>First of all, I'm fairly sure snapping to grid is fairly easy, however I've run into some odd trouble in this situation and my maths are too weak to work out specifically what is wrong.</p>

<p>Here's the situation</p>

<p>I have an abstract concept of a grid, with Y steps exactly Y_STEP apart (the x steps are working fine so ignore them for now)</p>

<p>The grid is in an abstract coordinate space, and to get things to line up I've got a magic offset in there, let's call it Y_OFFSET</p>

<p>to snap to the grid I've got the following code (python)</p>

<pre><code>def snapToGrid(originalPos, offset, step):
    index = int((originalPos - offset) / step) #truncates the remainder away
    return index * gap + offset
</code></pre>

<p>so I pass the cursor position, Y_OFFSET and Y_STEP into that function and it returns me the nearest floored y position on the grid</p>

<p>That appears to work fine in the original scenario, however when I take into account the fact that the view is scrollable things get a little weird.</p>

<p>Scrolling is made as basic as I can get it, I've got a viewPort that keeps count of the distance scrolled along the Y Axis and just offsets everything that goes through it.</p>

<p>Here's a snippet of the cursor's mouseMotion code:</p>

<pre><code>def mouseMotion(self, event):
    pixelPos = event.pos[Y]
    odePos = Scroll.pixelPosToOdePos(pixelPos)
    self.tool.positionChanged(odePos)
</code></pre>

<p>So there's two things to look at there, first the Scroll module's translation from pixel position to the abstract coordinate space, then the tool's positionChanged function which takes the abstract coordinate space value and snaps to the nearest Y step.</p>

<p>Here's the relevant Scroll code</p>

<pre><code>def pixelPosToOdePos(pixelPos):
    offsetPixelPos = pixelPos - self.viewPortOffset
    return pixelsToOde(offsetPixelPos)

def pixelsToOde(pixels):
    return float(pixels) / float(pixels_in_an_ode_unit)
</code></pre>

<p>And the tools update code</p>

<pre><code>def positionChanged(self, newPos):
    self.snappedPos = snapToGrid(originalPos, Y_OFFSET, Y_STEP)
</code></pre>

<p>The last relevant chunk is when the tool goes to render itself.  It goes through the Scroll object, which transforms the tool's snapped coordinate space position into an onscreen pixel position, here's the code:</p>

<pre><code>#in Tool
def render(self, screen):
    Scroll.render(screen, self.image, self.snappedPos)

#in Scroll
def render(self, screen, image, odePos):
    pixelPos = self.odePosToPixelPos(odePos)
    screen.blit(image, pixelPos) # screen is a surface from pygame for the curious

def odePosToPixelPos(self.odePos):
    offsetPos = odePos + self.viewPortOffset
    return odeToPixels(offsetPos)

def odeToPixels(odeUnits):
    return int(odeUnits * pixels_in_an_ode_unit)
</code></pre>

<p>Whew, that was a long explanation.  Hope you're still with me... </p>

<p>The problem I'm now getting is that when I scroll up the drawn image loses alignment with the cursor.<br />
It starts snapping to the Y step exactly 1 step below the cursor.
Additionally it appears to phase in and out of allignment.<br />
At some scrolls it is out by 1 and other scrolls it is spot on.<br />
It's never out by more than 1 and it's always snapping to a valid grid location.</p>

<p>Best guess I can come up with is that somewhere I'm truncating some data in the wrong spot, but no idea where or how it ends up with this behavior.</p>

<p>Anyone familiar with coordinate spaces, scrolling and snapping?</p>
","<p>Do you have a typo in positionChanged() ?</p>

<pre><code>def positionChanged(self, newPos):
    self.snappedPos = snapToGrid(newPos, Y_OFFSET, Y_STEP)
</code></pre>

<p>I guess you are off by one pixel because of the accuracy problems during float division. Try changing your snapToGrid() to this:</p>

<pre><code>def snapToGrid(originalPos, offset, step):
    EPS = 1e-6
    index = int((originalPos - offset) / step  + EPS) #truncates the remainder away
    return index * gap + offset
</code></pre>
"
525,262460,0,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>If you want to exit based on time, you can use the signal module's alarm(time) function, and the catch the SIGALRM - here's an example <a href=""http://docs.python.org/library/signal.html#example"" rel=""nofollow"">http://docs.python.org/library/signal.html#example</a></p>

<p>You can let the user interrupt the program in a sane manner by catching KeyboardInterrupt. Simply catch the KeyboardInterrupt exception from outside you main loop, and do whatever cleanup you want.</p>

<p>If you want to continue later where you left off, you will have to add some sort persistence. I would <a href=""http://docs.python.org/library/pickle.html#module-pickle"" rel=""nofollow"">pickle</a> a data structure to disk, that you could read back in to continue the operations. </p>

<p>I haven't tried anything like this, but you could look into using something like <a href=""http://wiki.python.org/moin/PythonDecoratorLibrary#head-11870a08b0fa59a8622201abfac735ea47ffade5"" rel=""nofollow"">memoizing</a>, and caching to the disk.</p>
"
1079,530480,1,0,python,Deploying bluechannel with fastcgi,"<p>I am trying to get a basic blue-channel website running through fcgi, I have a django.fcgi file. How do I do this.
Thank you</p>
","<p><a href=""http://docs.djangoproject.com/en/dev/howto/deployment/fastcgi/#apache-setup"" rel=""nofollow"">Read The Fabulous Manual</a></p>
"
961,471190,0,0,python,How do I remove VSS hooks from a VS Web Site?,"<p>I have a Visual Studio 2008 solution with 7 various projects included with it.  3 of these 'projects' are Web Sites (the kind of project without a project file).</p>

<p>I have stripped all the various Visual Sourcesafe files from all the directories, removed the Scc references in the SLN file and all the project files that exist.  I deleted the SUO file and all the USER files also.  Visual Studio still thinks that 2 of the Web Sites are still under source control, and it adds the Scc entries back into the SLN file for me.</p>

<p><strong>Does anybody know <em>how</em> VS still knows about the old source control?</strong></p>

<p><em>Edit:</em>
Another thing that I didn't mention is that the files I'm trying to remove VSS hooks from has been copied outside of VSS's known working directories, the python script run and manual edits to files made before the solution is opened in VS 2008 or VS 2005 (I had the problem with both).</p>

<p>Here is a python script that I used to weed out these files and let me know which files needed manually edited.</p>

<pre><code>import os, stat
from os.path import join

def main():
  startDir = r""C:\Documents and Settings\user\Desktop\project""

  manualEdits = []

  for root, dirs, files in os.walk(startDir, topdown=False):
    if '.svn' in dirs:
      dirs.remove('.svn')
    for name in files:
      os.chmod(join(root,name), stat.S_IWRITE)
      if name.endswith("".vssscc"") or name.endswith("".scc"") or name.endswith("".vspscc"") or name.endswith("".suo"") or name.endswith("".user""):
        print ""Deleting:"", join(root, name)
        os.remove(join(root,name))
      if name.endswith(""sln"") or name.endswith(""dbp"") or name.endswith(""vbproj"") or name.endswith(""csproj""):
        manualEdits.append(join(root, name))

  print ""Manual Edits are needed for these files:""
  for name in manualEdits:
    print name

if __name__ == ""__main__"":
  main()
</code></pre>
","<p>In your %APPDATA% directory Visual Studio saves a list of websites used in Visual Studio, with some settings of that site:</p>

<p>On my Vista Machine the exact location of the file is</p>

<pre><code>C:\Users\{name}\AppData\Local\Microsoft\WebsiteCache\Websites.xml
</code></pre>

<p>This file contains entries like</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-16""?&gt;
&lt;DesignTimeData&gt;
  &lt;Website RootUrl=""e:\Documents\Visual Studio 2008\WebSites\WebSite\""
      CacheFolder=""WebSite"" sccprovider=""SubversionScc"" scclocalpath=""Svn""
      sccauxpath=""Svn"" addnewitemlang=""Visual Basic"" sccprojectname=""Svn""
      targetframework=""3.5"" vwdport=""60225"" 
      _LastAccess=""11-11-2008 10:58:03""/&gt;
    &lt;Website RootUrl=""E:\siteje.webproj\"" CacheFolder=""siteje.webproj""
      _LastAccess=""11-6-2008 14:43:45""/&gt;
    &lt;!-- And many more --&gt;
&lt;/DesignTimeData /&gt;
</code></pre>

<p>As you can see it contains the Scc references that are also part of your solution file.
(In this case the SCC provider is AnkhSVN 2.0, so it doesn't contain the actual SCC mapping; just some constant strings that tell the SCC provider to look at the working copy).</p>

<p>I think tried to fix the missing project file by caching this information in several locations. But it would be welcome if this file was properly documented.</p>
"
526,262460,-1,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>You could do something like this to generate fibonnacci numbers for 1 second then stop.</p>

<pre><code>fibonnacci = [1,1]
stoptime = time.time() + 1 # set stop time to 1 second in the future
while time.time() &lt; stoptime:
  fibonnacci.append(fibonnacci[-1]+fibonnacci[-2])

print ""Generated %s numbers, the last one was %s."" % (len(fibonnacci),fibonnacci[-1])
</code></pre>

<p>I'm not sure how efficient it is to call time.time() in every loop - depending on the what you are doing inside the loop, it might end up taking a lot of the performance away.</p>
"
527,262460,0,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>You could use a generator for this:</p>

<pre><code>def finished():
    ""Define your exit condition here""
    return ...

def count(i=0):
    while not finished():
        yield i
        i += 1

for i in count():
    print i
</code></pre>

<p>If you want to change the exit condition you could pass a value back into the generator function and use that value to determine when to exit.</p>
"
675,350230,1,0,python,Conway's Game Of Life,"<p>I am currently writting a programe about Conway's Game of life and I am really a beginner of python, I don't know how to start at all. Anybody can help me with it?</p>
","<p>I happened to post a <a href=""http://www.thinkbottomup.com.au/site/blog/Game_of_Life_in_XAML_WPF_using_embedded_Python"" rel=""nofollow"">blog</a> on implementing John Conway's Game of Life in XAML/WPF using embedded Python.  It might be of interest to you.</p>
"
606,296490,0,0,python,How do I remove a specific number of files using python (version 2.5)?,"<p>I would like to remove two files from a folder at the conclusion of my script. Do I need to create a function responsible for removing these two specific files? I would like to know in some detail how to use os.remove (if that is what I should use) properly. These two files will always be discarded at the conclusion of my script (which packages a series of files together in a zip format). Thanks in advance.  </p>
","<p>It is perfectly acceptable to have a 'cleanup()' function that you call at the end of your script, which will call 'os.remove()' on your files.</p>
"
234,118540,0,0,python,What is wrong with my snap to grid code?,"<p>First of all, I'm fairly sure snapping to grid is fairly easy, however I've run into some odd trouble in this situation and my maths are too weak to work out specifically what is wrong.</p>

<p>Here's the situation</p>

<p>I have an abstract concept of a grid, with Y steps exactly Y_STEP apart (the x steps are working fine so ignore them for now)</p>

<p>The grid is in an abstract coordinate space, and to get things to line up I've got a magic offset in there, let's call it Y_OFFSET</p>

<p>to snap to the grid I've got the following code (python)</p>

<pre><code>def snapToGrid(originalPos, offset, step):
    index = int((originalPos - offset) / step) #truncates the remainder away
    return index * gap + offset
</code></pre>

<p>so I pass the cursor position, Y_OFFSET and Y_STEP into that function and it returns me the nearest floored y position on the grid</p>

<p>That appears to work fine in the original scenario, however when I take into account the fact that the view is scrollable things get a little weird.</p>

<p>Scrolling is made as basic as I can get it, I've got a viewPort that keeps count of the distance scrolled along the Y Axis and just offsets everything that goes through it.</p>

<p>Here's a snippet of the cursor's mouseMotion code:</p>

<pre><code>def mouseMotion(self, event):
    pixelPos = event.pos[Y]
    odePos = Scroll.pixelPosToOdePos(pixelPos)
    self.tool.positionChanged(odePos)
</code></pre>

<p>So there's two things to look at there, first the Scroll module's translation from pixel position to the abstract coordinate space, then the tool's positionChanged function which takes the abstract coordinate space value and snaps to the nearest Y step.</p>

<p>Here's the relevant Scroll code</p>

<pre><code>def pixelPosToOdePos(pixelPos):
    offsetPixelPos = pixelPos - self.viewPortOffset
    return pixelsToOde(offsetPixelPos)

def pixelsToOde(pixels):
    return float(pixels) / float(pixels_in_an_ode_unit)
</code></pre>

<p>And the tools update code</p>

<pre><code>def positionChanged(self, newPos):
    self.snappedPos = snapToGrid(originalPos, Y_OFFSET, Y_STEP)
</code></pre>

<p>The last relevant chunk is when the tool goes to render itself.  It goes through the Scroll object, which transforms the tool's snapped coordinate space position into an onscreen pixel position, here's the code:</p>

<pre><code>#in Tool
def render(self, screen):
    Scroll.render(screen, self.image, self.snappedPos)

#in Scroll
def render(self, screen, image, odePos):
    pixelPos = self.odePosToPixelPos(odePos)
    screen.blit(image, pixelPos) # screen is a surface from pygame for the curious

def odePosToPixelPos(self.odePos):
    offsetPos = odePos + self.viewPortOffset
    return odeToPixels(offsetPos)

def odeToPixels(odeUnits):
    return int(odeUnits * pixels_in_an_ode_unit)
</code></pre>

<p>Whew, that was a long explanation.  Hope you're still with me... </p>

<p>The problem I'm now getting is that when I scroll up the drawn image loses alignment with the cursor.<br />
It starts snapping to the Y step exactly 1 step below the cursor.
Additionally it appears to phase in and out of allignment.<br />
At some scrolls it is out by 1 and other scrolls it is spot on.<br />
It's never out by more than 1 and it's always snapping to a valid grid location.</p>

<p>Best guess I can come up with is that somewhere I'm truncating some data in the wrong spot, but no idea where or how it ends up with this behavior.</p>

<p>Anyone familiar with coordinate spaces, scrolling and snapping?</p>
","<p>Thanks for the answer, there may be a typo, but I can't see it...</p>

<p>Unfortunately the change to snapToGrid didn't make a difference, so I don't think that's the issue.</p>

<p>It's not off by one pixel, but rather it's off by Y_STEP.  Playing around with it some more I've found that I can't get it to be exact at any point that the screen is scrolled up and also that it happens towards the top of the screen, which I suspect is ODE position zero, so I'm guessing my problem is around small or negative values.</p>
"
235,118540,1,0,python,What is wrong with my snap to grid code?,"<p>First of all, I'm fairly sure snapping to grid is fairly easy, however I've run into some odd trouble in this situation and my maths are too weak to work out specifically what is wrong.</p>

<p>Here's the situation</p>

<p>I have an abstract concept of a grid, with Y steps exactly Y_STEP apart (the x steps are working fine so ignore them for now)</p>

<p>The grid is in an abstract coordinate space, and to get things to line up I've got a magic offset in there, let's call it Y_OFFSET</p>

<p>to snap to the grid I've got the following code (python)</p>

<pre><code>def snapToGrid(originalPos, offset, step):
    index = int((originalPos - offset) / step) #truncates the remainder away
    return index * gap + offset
</code></pre>

<p>so I pass the cursor position, Y_OFFSET and Y_STEP into that function and it returns me the nearest floored y position on the grid</p>

<p>That appears to work fine in the original scenario, however when I take into account the fact that the view is scrollable things get a little weird.</p>

<p>Scrolling is made as basic as I can get it, I've got a viewPort that keeps count of the distance scrolled along the Y Axis and just offsets everything that goes through it.</p>

<p>Here's a snippet of the cursor's mouseMotion code:</p>

<pre><code>def mouseMotion(self, event):
    pixelPos = event.pos[Y]
    odePos = Scroll.pixelPosToOdePos(pixelPos)
    self.tool.positionChanged(odePos)
</code></pre>

<p>So there's two things to look at there, first the Scroll module's translation from pixel position to the abstract coordinate space, then the tool's positionChanged function which takes the abstract coordinate space value and snaps to the nearest Y step.</p>

<p>Here's the relevant Scroll code</p>

<pre><code>def pixelPosToOdePos(pixelPos):
    offsetPixelPos = pixelPos - self.viewPortOffset
    return pixelsToOde(offsetPixelPos)

def pixelsToOde(pixels):
    return float(pixels) / float(pixels_in_an_ode_unit)
</code></pre>

<p>And the tools update code</p>

<pre><code>def positionChanged(self, newPos):
    self.snappedPos = snapToGrid(originalPos, Y_OFFSET, Y_STEP)
</code></pre>

<p>The last relevant chunk is when the tool goes to render itself.  It goes through the Scroll object, which transforms the tool's snapped coordinate space position into an onscreen pixel position, here's the code:</p>

<pre><code>#in Tool
def render(self, screen):
    Scroll.render(screen, self.image, self.snappedPos)

#in Scroll
def render(self, screen, image, odePos):
    pixelPos = self.odePosToPixelPos(odePos)
    screen.blit(image, pixelPos) # screen is a surface from pygame for the curious

def odePosToPixelPos(self.odePos):
    offsetPos = odePos + self.viewPortOffset
    return odeToPixels(offsetPos)

def odeToPixels(odeUnits):
    return int(odeUnits * pixels_in_an_ode_unit)
</code></pre>

<p>Whew, that was a long explanation.  Hope you're still with me... </p>

<p>The problem I'm now getting is that when I scroll up the drawn image loses alignment with the cursor.<br />
It starts snapping to the Y step exactly 1 step below the cursor.
Additionally it appears to phase in and out of allignment.<br />
At some scrolls it is out by 1 and other scrolls it is spot on.<br />
It's never out by more than 1 and it's always snapping to a valid grid location.</p>

<p>Best guess I can come up with is that somewhere I'm truncating some data in the wrong spot, but no idea where or how it ends up with this behavior.</p>

<p>Anyone familiar with coordinate spaces, scrolling and snapping?</p>
","<p>Ok, I'm answering my own question here, as alexk mentioned, using int to truncate was my mistake.  </p>

<p>The behaviour I'm after is best modeled by math.floor().</p>

<p>Apologies, the original question does not contain enough information to really work out what the problem is.  I didn't have the extra bit of information at that point.</p>

<p>With regards to the typo note, I think I may be using the context in a confusing manner...  From the perspective of the positionChanged() function, the parameter is a new position coming in.<br />
From the perspective of the snapToGrid() function the parameter is an original position which is being changed to a snapped position.
The language is like that because part of it is in my event handling code and the other part is in my general services code.  I should have changed it for the example</p>
"
605,296490,-1,0,python,How do I remove a specific number of files using python (version 2.5)?,"<p>I would like to remove two files from a folder at the conclusion of my script. Do I need to create a function responsible for removing these two specific files? I would like to know in some detail how to use os.remove (if that is what I should use) properly. These two files will always be discarded at the conclusion of my script (which packages a series of files together in a zip format). Thanks in advance.  </p>
","<p>Just call <code>os.remove(""path/to/file"")</code>. For example, to remove the file <code>.emacs</code>, call</p>

<pre><code>os.remove("".emacs"")
</code></pre>

<p>The path should be a <code>str</code> that's the pathname of the file. It may be relative or absolute.</p>
"
607,296490,4,0,python,How do I remove a specific number of files using python (version 2.5)?,"<p>I would like to remove two files from a folder at the conclusion of my script. Do I need to create a function responsible for removing these two specific files? I would like to know in some detail how to use os.remove (if that is what I should use) properly. These two files will always be discarded at the conclusion of my script (which packages a series of files together in a zip format). Thanks in advance.  </p>
","<p>It sounds like what you really want is a temp file:
<a href=""http://docs.python.org/library/tempfile.html"" rel=""nofollow"">http://docs.python.org/library/tempfile.html</a></p>
"
687,354370,4,0,python,Adding a SOAP header to a SOAPpy request,"<p>Does anyone know how to do this? I need to add a header of the form:</p>

<p>
  
    value1
    value2
  
</p>
","<p>As the question is phrased, it's hard to guess what the intention (or even the intended semantics) is. For setting headers, try the following:</p>

<pre><code>import SOAPpy
headers = SOAPpy.Types.headerType()
headers.value1 = value2
</code></pre>

<p>or</p>

<pre><code>[...]
headers.foo = value1
headers.bar = value2
</code></pre>
"
494,249330,0,0,python,Translate SVN path to local file system path in Python,"<p>I'm writing a utility in Python that will attach changed files in Subversion to an email and send it when a subset of folders that are under source control in SVN have been changed.  I am using the pysvn library to access the repository.</p>

<p>I have a copy of the files on my local file system and I do an update to check if the files have changed since the last time the utility was run.</p>

<p>I am at the point where I am translating the path names in SVN to the path names on my local copy.</p>

<p>Currently I have written the following to do the job:</p>

<pre><code>def formatPaths(self, paths):
    newPaths = list()
    for path in paths:
        path = path[len(self.basePath):]
        path = path.replace(""/"", ""\\"")
        newPaths.append(path)
    return newPaths
</code></pre>

<p>self.basePath would be something like ""/trunk/project1"" and I'm looking to just get the relative path of a subset of folders (I.e. folder1 under ""/trunk/project1"").</p>

<p>Is this a good way to solve this problem or is there some magical function I missed?</p>
","<p>Your specific solution to the path name copy is reasonable, but your general solution to the entire problem could be improved.</p>

<p>I would <code>easy_install anyvc</code>, a library developed for the <a href=""http://pida.co.uk/"" rel=""nofollow"">PIDA IDE</a> which is a uniform python interface into version control systems, and use it instead:</p>

<pre><code>from anyvc import Subversion
vc = Subversion('/trunk')

modified = [f.relpath for f in vc.list() if f.state != 'clean']

for f in modified:
    print f.relpath # the relative path of the file to the source root
</code></pre>

<p>Additionally, I would probably attach a diff to an email rather than the actual file. But I guess that's your choice.</p>
"
493,249330,2,0,python,Translate SVN path to local file system path in Python,"<p>I'm writing a utility in Python that will attach changed files in Subversion to an email and send it when a subset of folders that are under source control in SVN have been changed.  I am using the pysvn library to access the repository.</p>

<p>I have a copy of the files on my local file system and I do an update to check if the files have changed since the last time the utility was run.</p>

<p>I am at the point where I am translating the path names in SVN to the path names on my local copy.</p>

<p>Currently I have written the following to do the job:</p>

<pre><code>def formatPaths(self, paths):
    newPaths = list()
    for path in paths:
        path = path[len(self.basePath):]
        path = path.replace(""/"", ""\\"")
        newPaths.append(path)
    return newPaths
</code></pre>

<p>self.basePath would be something like ""/trunk/project1"" and I'm looking to just get the relative path of a subset of folders (I.e. folder1 under ""/trunk/project1"").</p>

<p>Is this a good way to solve this problem or is there some magical function I missed?</p>
","<p>Stay with the slice operator, but do not change the loop variable inside the loop. for fun, try the generator expression (or keep the listcomp).</p>

<pre><code>baselen = len(self.basePath)
return (path[baselen:].replace(""/"", ""\\"") for path in paths)
</code></pre>

<p>Edit: `lstrip()' is not relevant here. From the <a href=""http://docs.python.org/library/stdtypes.html#string-methods"" rel=""nofollow"">manual</a>:</p>

<blockquote>
  <p>str.lstrip([chars])</p>
  
  <p>Return a copy of the string with leading characters removed. If chars is omitted or
      None, whitespace characters are removed. If given and not None, chars must be a
      string;   the characters in the string will be stripped from the beginning of the 
      string this method is called on.</p>
</blockquote>
"
492,249330,0,0,python,Translate SVN path to local file system path in Python,"<p>I'm writing a utility in Python that will attach changed files in Subversion to an email and send it when a subset of folders that are under source control in SVN have been changed.  I am using the pysvn library to access the repository.</p>

<p>I have a copy of the files on my local file system and I do an update to check if the files have changed since the last time the utility was run.</p>

<p>I am at the point where I am translating the path names in SVN to the path names on my local copy.</p>

<p>Currently I have written the following to do the job:</p>

<pre><code>def formatPaths(self, paths):
    newPaths = list()
    for path in paths:
        path = path[len(self.basePath):]
        path = path.replace(""/"", ""\\"")
        newPaths.append(path)
    return newPaths
</code></pre>

<p>self.basePath would be something like ""/trunk/project1"" and I'm looking to just get the relative path of a subset of folders (I.e. folder1 under ""/trunk/project1"").</p>

<p>Is this a good way to solve this problem or is there some magical function I missed?</p>
","<p>Hm... That would do it:</p>

<pre><code>baselen = len(self.basePath)
for path in paths:
    path = path[baselen:].replace(""/"", ""\\"")
    newPaths.append(path)
return newPaths
</code></pre>

<p>If you like, you can do it like this:</p>

<pre><code>baselen = len(self.basePath)
return (path[baselen:].replace(""/"", ""\\"") for path in paths)
</code></pre>

<p>Not calculating <code>baselen</code> in every loop iteration is also good practice.</p>
"
621,308220,1,0,python,Showing processing message in Python,"<p>I want to show the processing information or log in the original page when the submitted request is being served until it completes the execution. I thought it would be meaningful to the user to know what is happening behind the request.</p>

<p>I don't find a clue to do so though, can you guys help me out as how people are doing like this one below one - for your reference</p>

<p><a href=""http://www.xml-sitemaps.com/"" rel=""nofollow"">http://www.xml-sitemaps.com/</a></p>
","<p>there are two ways i could imagine handling this:</p>

<ol>
<li><p>have your backend script (python) output the information of a long process to a log of some sort (text file, database, session, etc...) and then have javascript grab the information via ajax and update the current page.</p></li>
<li><p>same deal, but instead of ajax just have a meta refresh on the page which would grab the latest updated information.</p></li>
</ol>
"
86,67180,1,0,python,"mod_python/MySQL error on INSERT with a lot of data: ""OperationalError: (2006, 'MySQL server has gone away')""","<p>When doing an INSERT with a lot of data, ie:</p>

<pre><code>INSERT INTO table (mediumtext_field) VALUES ('...lots of text here: about 2MB worth...')
</code></pre>

<p>MySQL returns </p>

<blockquote>
  <p>""OperationalError: (2006, 'MySQL server has gone away')""</p>
</blockquote>

<p>This is happening within a minute of starting the script, so it is not a timeout issue. Also, <code>mediumtext_field</code> should be able to hold ~16MB of data, so that shouldn't be a problem.</p>

<p>Any ideas what is causing the error or how to work around it?</p>

<p>Some relevant libraries being used: <code>mod_python 3.3.1</code>, <code>MySQL 5.0.51</code> (on Windows XP SP3, via xampp, details below)</p>

<p><strong>ApacheFriends XAMPP (basic package) version 1.6.5</strong></p>

<ul>
<li>Apache 2.2.6</li>
<li>MySQL 5.0.51</li>
<li>phpMyAdmin 2.11.3</li>
</ul>
","<p>check the max_packet setting in your my.cnf file. this determines the largest amount of data you can send to your mysql server in a single statement. exceeding this values results in that error.</p>
"
390,204570,0,0,python,Any experience with the Deliverance system?,"<p>My new boss went to a speech where Deliverance, a kind of proxy allowing to add skin to any html output on the fly, was presented. He decided to use it right after that, no matter how young it is.</p>

<p>More here :</p>

<p><a href=""http://www.openplans.org/projects/deliverance/introduction"" rel=""nofollow"">http://www.openplans.org/projects/deliverance/introduction</a></p>

<p>In theory, the system sounds great when you want a newbie to tweak your plone theme without having to teach him all the complex mechanisms behind the zope products. And apply the same theme on a Drupal web site in one row.</p>

<p>But I don't believe in theory, and would like to know if anybody tried this out in the real world :-)</p>
","<p>I will start answering this question here while we perform tests but I'd love to have feedback from other users.</p>

<h2>Install</h2>

<p>We have spent a small afternoon from tuto to ""how to"" to finally install and run the thing on a virtual machine.</p>

<p>This one is ok : <a href=""http://www.openplans.org/projects/deliverance/getting-started"" rel=""nofollow"">http://www.openplans.org/projects/deliverance/getting-started</a></p>

<p>There are setuptools packages but this does not works out of the box (and certainly not without compiling anything). We had to install :</p>

<ul>
<li>setuptools >= 0.6c5 (tested with 0.6c9 from <a href=""http://pypi.python.org/pypi/setuptools/"" rel=""nofollow"">http://pypi.python.org/pypi/setuptools/</a>). </li>
<li>of course, compilation implies installing gcc, linux-header et lib6-dev</li>
<li>libxslt in dev (we used libxslt1-dev)</li>
<li>linking with zl so zlib (we used zlib1g-dev)</li>
<li>you'd better install Pastescript BEFORE starting the Deliverance install</li>
<li>installing python-nose is not mandatory but it helps to check if everything went fine</li>
</ul>

<p>We did not manage to make it works with python-virtualenv to we definitly messed up the debian system but it seems to run ok.</p>

<p>Hope it can help.</p>
"
186,95950,0,0,python,Python reading Oracle path,"<p>On my desktop I have written a small Pylons app that connects to Oracle.   I'm now trying to deploy it to my server which is running Win2k3 x64. (My desktop is 32-bit XP) The Oracle installation on the server is also 64-bit.</p>

<p>I was getting errors about loading the OCI dll, so I installed the 32 bit client into <code>C:\oracle32</code>.</p>

<p>If I add this to the <code>PATH</code> environment variable, it works great.   But I also want to run the Pylons app as a service (<a href=""http://wiki.pylonshq.com/display/pylonscookbook/How+to+run+Pylons+as+a+Windows+service"" rel=""nofollow"">using this recipe</a>) and don't want to put this 32-bit library on the path for all other applications.  </p>

<p>I tried using <code>sys.path.append(""C:\\oracle32\\bin"")</code> but that doesn't seem to work.</p>
","<p>If your Python application runs in the 64-bit space, you will need to access a 64-bit installation of Oracle's oci.dll, rather than the 32-bit version. Normally you would update the system path to include the appropriate Oracle Home bin directory, prior to running the script. The solution may also vary depending on what component you are using to access Oracle from Python.</p>
"
185,95950,0,0,python,Python reading Oracle path,"<p>On my desktop I have written a small Pylons app that connects to Oracle.   I'm now trying to deploy it to my server which is running Win2k3 x64. (My desktop is 32-bit XP) The Oracle installation on the server is also 64-bit.</p>

<p>I was getting errors about loading the OCI dll, so I installed the 32 bit client into <code>C:\oracle32</code>.</p>

<p>If I add this to the <code>PATH</code> environment variable, it works great.   But I also want to run the Pylons app as a service (<a href=""http://wiki.pylonshq.com/display/pylonscookbook/How+to+run+Pylons+as+a+Windows+service"" rel=""nofollow"">using this recipe</a>) and don't want to put this 32-bit library on the path for all other applications.  </p>

<p>I tried using <code>sys.path.append(""C:\\oracle32\\bin"")</code> but that doesn't seem to work.</p>
","<p>You need to append the c:\Oracle32\bin directory to the PATH variable of your environment before you execute python.exe.<br>
In Linux, I need to set up the LD_LIBRARY_PATH variable for similar reasons, to locate the Oracle libraries, before calling python. I use wrapper shell scripts that set the variable and then call Python.<br>
In your case, maybe you can call, in the service startup, a .cmd or .vbs script that sets the PATH variable and then calls python.exe with your .py script.</p>

<p>I hope this helps!</p>
"
524,262460,0,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>If you really want your function to run and still wants user (or system) input, you have two solutions:</p>

<ol>
<li>multi-thread</li>
<li>multi-process</li>
</ol>

<p>It will depend on how fine the interaction. If you just want to interrupt the function and don't care about the exit, then multi-process is fine.</p>

<p>In both cases, you can rely on some shared resources (file or shared memory for multi-thread, variable with associated mutex for multi-thread) and check for the state of that resource regularly in your function. If it is set up to tell you to quit, just do it.</p>

<p>Example on multi-thread:</p>

<pre><code>from threading import Thread, Lock
from time import sleep

class MyFct(Thread):
    def __init__(self):
        Thread.__init__(self)
        self.mutex = Lock()
        self._quit = False

    def stopped(self):
        self.mutex.acquire()
        val = self._quit
        self.mutex.release()
        return val

    def stop(self):
        self.mutex.acquire()
        self._quit = True
        self.mutex.release()

    def run(self):
        i = 1
        j = 1
        print i
        print j
        while True:
            if self.stopped():
                return
            i,j = j,i+j
            print j

def main_fct():
    t = MyFct()
    t.start()
    sleep(1)
    t.stop()
    t.join()
    print ""Exited""

if __name__ == ""__main__"":
    main_fct()
</code></pre>
"
674,350230,1,0,python,Conway's Game Of Life,"<p>I am currently writting a programe about Conway's Game of life and I am really a beginner of python, I don't know how to start at all. Anybody can help me with it?</p>
","<p>You'll probably get some good documentation here : <a href=""http://www.imdb.com/title/tt0085959/"" rel=""nofollow"">http://www.imdb.com/title/tt0085959/</a>.</p>
"
959,471190,1,0,python,How do I remove VSS hooks from a VS Web Site?,"<p>I have a Visual Studio 2008 solution with 7 various projects included with it.  3 of these 'projects' are Web Sites (the kind of project without a project file).</p>

<p>I have stripped all the various Visual Sourcesafe files from all the directories, removed the Scc references in the SLN file and all the project files that exist.  I deleted the SUO file and all the USER files also.  Visual Studio still thinks that 2 of the Web Sites are still under source control, and it adds the Scc entries back into the SLN file for me.</p>

<p><strong>Does anybody know <em>how</em> VS still knows about the old source control?</strong></p>

<p><em>Edit:</em>
Another thing that I didn't mention is that the files I'm trying to remove VSS hooks from has been copied outside of VSS's known working directories, the python script run and manual edits to files made before the solution is opened in VS 2008 or VS 2005 (I had the problem with both).</p>

<p>Here is a python script that I used to weed out these files and let me know which files needed manually edited.</p>

<pre><code>import os, stat
from os.path import join

def main():
  startDir = r""C:\Documents and Settings\user\Desktop\project""

  manualEdits = []

  for root, dirs, files in os.walk(startDir, topdown=False):
    if '.svn' in dirs:
      dirs.remove('.svn')
    for name in files:
      os.chmod(join(root,name), stat.S_IWRITE)
      if name.endswith("".vssscc"") or name.endswith("".scc"") or name.endswith("".vspscc"") or name.endswith("".suo"") or name.endswith("".user""):
        print ""Deleting:"", join(root, name)
        os.remove(join(root,name))
      if name.endswith(""sln"") or name.endswith(""dbp"") or name.endswith(""vbproj"") or name.endswith(""csproj""):
        manualEdits.append(join(root, name))

  print ""Manual Edits are needed for these files:""
  for name in manualEdits:
    print name

if __name__ == ""__main__"":
  main()
</code></pre>
","<p>It probably is only trying to add it on your instance of VS.  You have to remove the cache so VS thinks its no longer under SS</p>

<ol>
<li>under file -> SourceControl -> Workspaces</li>
<li>Select the SS location</li>
<li>Edit</li>
<li>Choose the working folder</li>
<li>Remove!</li>
</ol>
"
960,471190,1,0,python,How do I remove VSS hooks from a VS Web Site?,"<p>I have a Visual Studio 2008 solution with 7 various projects included with it.  3 of these 'projects' are Web Sites (the kind of project without a project file).</p>

<p>I have stripped all the various Visual Sourcesafe files from all the directories, removed the Scc references in the SLN file and all the project files that exist.  I deleted the SUO file and all the USER files also.  Visual Studio still thinks that 2 of the Web Sites are still under source control, and it adds the Scc entries back into the SLN file for me.</p>

<p><strong>Does anybody know <em>how</em> VS still knows about the old source control?</strong></p>

<p><em>Edit:</em>
Another thing that I didn't mention is that the files I'm trying to remove VSS hooks from has been copied outside of VSS's known working directories, the python script run and manual edits to files made before the solution is opened in VS 2008 or VS 2005 (I had the problem with both).</p>

<p>Here is a python script that I used to weed out these files and let me know which files needed manually edited.</p>

<pre><code>import os, stat
from os.path import join

def main():
  startDir = r""C:\Documents and Settings\user\Desktop\project""

  manualEdits = []

  for root, dirs, files in os.walk(startDir, topdown=False):
    if '.svn' in dirs:
      dirs.remove('.svn')
    for name in files:
      os.chmod(join(root,name), stat.S_IWRITE)
      if name.endswith("".vssscc"") or name.endswith("".scc"") or name.endswith("".vspscc"") or name.endswith("".suo"") or name.endswith("".user""):
        print ""Deleting:"", join(root, name)
        os.remove(join(root,name))
      if name.endswith(""sln"") or name.endswith(""dbp"") or name.endswith(""vbproj"") or name.endswith(""csproj""):
        manualEdits.append(join(root, name))

  print ""Manual Edits are needed for these files:""
  for name in manualEdits:
    print name

if __name__ == ""__main__"":
  main()
</code></pre>
","<p>Those things are pernicious! Visual Studio sticks links to SourceSafe in everywhere, including into the XML that makes up your sln file.</p>

<p>I wrote an <a href=""http://billmill.org/ss2svn.html"" rel=""nofollow"">article</a> about my experiences converting sourcesafe to subversion, and included with it the python script that I used to clean out the junk. Please note:</p>

<p>1) This is VERY LIGHTLY TESTED. Make backups so you don't screw up your sln/*proj files. Run your test suite before and after to make sure it didn't screw up something (how could it? Who knows! but stranger things have happened.)</p>

<p>2) This may have been with a different version of sourcesafe and visual studio in mind, so you may need to tweak it. Anyway, without further ado:</p>

<pre><code>import os, re

PROJ_RE = re.compile(r""^\s+Scc"")
SLN_RE = re.compile(r""GlobalSection\(SourceCodeControl\).*?EndGlobalSection"",
                    re.DOTALL)
VDPROJ_RE = re.compile(r""^\""Scc"")

for (dir, dirnames, filenames) in os.walk('.'):
    for fname in filenames:
        fullname = os.path.join(dir, fname)
        if fname.endswith('scc'):
            os.unlink(fullname)
        elif fname.endswith('vdproj'):
            #Installer project has a different format
            fin = file(fullname)
            text = fin.readlines()
            fin.close()

            fout = file(fullname, 'w')
            for line in text:
                if not VDPROJ_RE.match(line):
                    fout.write(line)
            fout.close()
        elif fname.endswith('csproj'):
            fin = file(fullname)
            text = fin.readlines()
            fin.close()

            fout = file(fullname, 'w')
            for line in text:
                if not PROJ_RE.match(line):
                    fout.write(line)
            fout.close()
        elif fname.endswith('sln'):
            fin = file(fullname)
            text = fin.read()
            fin.close()

            text = SLN_RE.sub("""", text)

            fout = file(fullname, 'w')
            fout.write(text)
</code></pre>
"
942,464970,3,0,python,Parsing Functions,"<p>I'm making a script parser in python and I'm a little stuck. I am not quite sure how to parse a line for all its functions (or even just one function at a time) and then search for a function with that name, and if it exists, execute that function short of writing a massive list if elif else block....</p>

<p><em>EDIT</em></p>

<p>This is for my own scripting language that i'm making. its nothing very complex, but i have a standard library of 8 functions or so that i need to be able to be run, how can i parse a line and run the function named in the line?</p>
","<p>Once you get the name of the function, use a dispatch dict to run the function:</p>

<pre><code>def mysum(...): ...
def myotherstuff(...): ...

# create dispatch dict:
myfunctions = {'sum': mysum, 'stuff': myotherstuff}

# run your parser:
function_name, parameters = parse_result(line)

# run the function:
myfunctions[function_name](parameters)
</code></pre>

<p>Alternatively create a class with the commands:</p>

<pre><code>class Commands(object):
    def do_sum(self, ...): ...
    def do_stuff(self, ...): ...
    def run(self, funcname, params):
        getattr(self, 'do_' + funcname)(params)

cmd = Commands()
function_name, parameters = parse_result(line)
cmd.run(function_name, parameters)
</code></pre>

<p>You could also look at the <a href=""http://docs.python.org/library/cmd"" rel=""nofollow"">cmd module</a> in the stdlib to do your class. It can provide you with a command-line interface for your language, with tab command completion, automatically.</p>
"
941,464970,0,0,python,Parsing Functions,"<p>I'm making a script parser in python and I'm a little stuck. I am not quite sure how to parse a line for all its functions (or even just one function at a time) and then search for a function with that name, and if it exists, execute that function short of writing a massive list if elif else block....</p>

<p><em>EDIT</em></p>

<p>This is for my own scripting language that i'm making. its nothing very complex, but i have a standard library of 8 functions or so that i need to be able to be run, how can i parse a line and run the function named in the line?</p>
","<p>It all depends on what code you are parsing. </p>

<p>If you are parsing Python syntax, use the <code>parser</code> module from Python: 
<a href=""http://docs.python.org/library/parser.html"" rel=""nofollow"">http://docs.python.org/library/parser.html</a></p>

<p>A quite complete list of parser libraries available for Python you can find at: <a href=""http://nedbatchelder.com/text/python-parsers.html"" rel=""nofollow"">http://nedbatchelder.com/text/python-parsers.html</a></p>
"
940,464970,2,0,python,Parsing Functions,"<p>I'm making a script parser in python and I'm a little stuck. I am not quite sure how to parse a line for all its functions (or even just one function at a time) and then search for a function with that name, and if it exists, execute that function short of writing a massive list if elif else block....</p>

<p><em>EDIT</em></p>

<p>This is for my own scripting language that i'm making. its nothing very complex, but i have a standard library of 8 functions or so that i need to be able to be run, how can i parse a line and run the function named in the line?</p>
","<p>Check out <a href=""http://pyparsing.wikispaces.com/"" rel=""nofollow"">PyParsing</a>, it allows for definition of the grammar directly in Python code:</p>

<p>Assuming a function call is just <code>somename()</code>:</p>

<pre><code>&gt;&gt;&gt; from pyparsing import *
&gt;&gt;&gt; grammar = Word(alphas + ""_"",  alphanums + ""_"")(""func_name"") + ""()"" + StringEnd()
&gt;&gt;&gt; grammar.parseString(""ab()\n"")[""func_name""]
""ab""
</code></pre>
"
939,464970,0,0,python,Parsing Functions,"<p>I'm making a script parser in python and I'm a little stuck. I am not quite sure how to parse a line for all its functions (or even just one function at a time) and then search for a function with that name, and if it exists, execute that function short of writing a massive list if elif else block....</p>

<p><em>EDIT</em></p>

<p>This is for my own scripting language that i'm making. its nothing very complex, but i have a standard library of 8 functions or so that i need to be able to be run, how can i parse a line and run the function named in the line?</p>
","<p>Take a look at <a href=""http://www.dabeaz.com/ply/"" rel=""nofollow"">PLY</a>. It should help you keep your parser specification clean.</p>
"
934,464010,1,0,python,django application configuration,"<p>I'm dying to get started Django but I'm really struggling with the initial setup. I have Python/MySql/Apache2.2/mod_python installed. Now I'm trying to create a proper directory structure and then update Django and Apache settings.py/httpd docs respectively. Specifically the location tag in the latter. Django and Python are based on simplicity but this is one huge oversight from the Django folks to not provide more guidance in this area. I had a basic page running in the Django dev server but could not get the stylesheet to load. So i decided to install mod_python and try to use apache in my dev environment and I'm even more frustrated. I can't seem find a good example anywhere on the web or in books regarding how to create a realistic directory structure and then based on that strucure, how to configure neccessary settings. Everything in tutorials is as usual not realistic or very helpful. Too simple. If someone here could share how they have their Django directory and settings configured that would be FANTASTIC!</p>
","<p>Thanks guys. After doing some more searching I found exactly what i was looking for  <a href=""http://rob.cogit8.org/blog/2008/Jun/20/django-and-relativity/"" rel=""nofollow"">here</a>. It's an example project directory structure and settings.py. If you view the comments there you can see a lot of others were confused about this as well and found the example helpful. It would be nice if Django created a recommended dir structure so you know where to store css, js, django app files, template files, etc. </p>
"
933,464010,1,0,python,django application configuration,"<p>I'm dying to get started Django but I'm really struggling with the initial setup. I have Python/MySql/Apache2.2/mod_python installed. Now I'm trying to create a proper directory structure and then update Django and Apache settings.py/httpd docs respectively. Specifically the location tag in the latter. Django and Python are based on simplicity but this is one huge oversight from the Django folks to not provide more guidance in this area. I had a basic page running in the Django dev server but could not get the stylesheet to load. So i decided to install mod_python and try to use apache in my dev environment and I'm even more frustrated. I can't seem find a good example anywhere on the web or in books regarding how to create a realistic directory structure and then based on that strucure, how to configure neccessary settings. Everything in tutorials is as usual not realistic or very helpful. Too simple. If someone here could share how they have their Django directory and settings configured that would be FANTASTIC!</p>
","<p>Don't use Apache for development, that'll make you tear your hair out restarting Apache every fifteen seconds (<strong>EDIT</strong>: or you could just use PythonDebug On).</p>

<p><a href=""http://docs.djangoproject.com/en/dev/howto/static-files/#limiting-use-to-debug-true"" rel=""nofollow"">This technique</a> is how to get your media (stylesheets, etc) loading via the development server.  If you used that exact snippet, you'd need to set MEDIA_URL to '/site_media/' and MEDIA_ROOT to '/path/to/media' (obviously this latter is likely to need changing to wherever your media files actually are).</p>
"
932,464010,0,0,python,django application configuration,"<p>I'm dying to get started Django but I'm really struggling with the initial setup. I have Python/MySql/Apache2.2/mod_python installed. Now I'm trying to create a proper directory structure and then update Django and Apache settings.py/httpd docs respectively. Specifically the location tag in the latter. Django and Python are based on simplicity but this is one huge oversight from the Django folks to not provide more guidance in this area. I had a basic page running in the Django dev server but could not get the stylesheet to load. So i decided to install mod_python and try to use apache in my dev environment and I'm even more frustrated. I can't seem find a good example anywhere on the web or in books regarding how to create a realistic directory structure and then based on that strucure, how to configure neccessary settings. Everything in tutorials is as usual not realistic or very helpful. Too simple. If someone here could share how they have their Django directory and settings configured that would be FANTASTIC!</p>
","<p>There's a lot to your question, so I'll try to boil it down to this: </p>

<ol>
<li><p>The tutorial is aimed at getting you to use the framework and to be up and running with as little configuration as possible. No server to configure, etc. If you are trying to load CSS with the dev server, you will need to pull the CSS from somewhere ""beyond"" the dev server. For example, on my Mac, I launch the dev server, but load the CSS from the built-in apache server.</p></li>
<li><p>There is more info available about using Apache and mod-python here: <a href=""http://docs.djangoproject.com/en/dev/howto/deployment/modpython/#howto-deployment-modpython"" rel=""nofollow"">mod_python and apache setup info</a></p></li>
<li><p>I'm not sure what you mean by ""creating the directory structure"", but most of the core application files are typically created by running the <code>django-admin.py</code> script, by running <code>startproject</code> and <code>startapp</code>. This is demonstrated in the tutorial.</p></li>
</ol>

<p>You can also ask questions on the IRC #django channel! If you are looking for a book on the subject, you can also check out the <a href=""http://www.djangobook.com/"" rel=""nofollow"">Django Book</a>.</p>
"
670,350230,4,0,python,Conway's Game Of Life,"<p>I am currently writting a programe about Conway's Game of life and I am really a beginner of python, I don't know how to start at all. Anybody can help me with it?</p>
","<p><a href=""http://plife.sourceforge.net/"" rel=""nofollow"">http://plife.sourceforge.net/</a></p>

<p>Send the 50 quid to me :)</p>

<p>(I'm kidding, of course)</p>
"
671,350230,0,0,python,Conway's Game Of Life,"<p>I am currently writting a programe about Conway's Game of life and I am really a beginner of python, I don't know how to start at all. Anybody can help me with it?</p>
","<p>try here instead.</p>

<p><a href=""http://www.elance.com/p/landing/buyer.html"" rel=""nofollow"">http://www.elance.com/p/landing/buyer.html</a></p>

<p><a href=""http://www.rentacoder.com/RentACoder/DotNet/default.aspx"" rel=""nofollow"">http://www.rentacoder.com/RentACoder/DotNet/default.aspx</a></p>

<p>These are places where you can hire people to do small freelance work for you.</p>
"
672,350230,3,0,python,Conway's Game Of Life,"<p>I am currently writting a programe about Conway's Game of life and I am really a beginner of python, I don't know how to start at all. Anybody can help me with it?</p>
","<p>You probably don't need to pay to learn python. Implementing cellular automata makes for good starting project.  The best place to start with python is the <a href=""http://docs.python.org/tutorial/"" rel=""nofollow"">official tutorial</a> and you can follow that with <a href=""http://www.diveintopython.org/"" rel=""nofollow"">dive into python</a>.</p>

<p>The answers <a href=""http://stackoverflow.com/questions/348506/starting-from-scratchi-need-some-direction"">here</a> and <a href=""http://stackoverflow.com/questions/348376/intro-book-on-cs-for-girlfriend"">here</a> may be helpful as well.</p>

<p>If you can bear the self-praising and claims to godness <a href=""http://rads.stackoverflow.com/amzn/click/1579550088"" rel=""nofollow"">Wolfram's book</a> is a good way to get a feel for cellular automata, but don't take the book itself too seriously (that's a separate issue that can fill several blog posts). He also has a <a href=""http://rads.stackoverflow.com/amzn/click/0201626640"" rel=""nofollow"">set of papers</a> on this stuff that is published as a book that goes into all the details.  And of course if you just google for cellular automata and Conway's game you'll find a myriad of implementations and explanations.</p>
"
523,262460,0,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>If you use a child thread to run the function while the main thread waits for character input it should work.  Just remember to have something that stops the child thread (in the example below the global runthread)</p>

<p>For example:</p>

<pre><code>import threading, time
runthread = 1
def myfun():
   while runthread:
      print ""A""
      time.sleep(.1)

t = threading.Thread(target=myfun)
t.start()
raw_input("""")
runthread = 0
t.join()
</code></pre>

<p>does just that</p>
"
673,350230,0,0,python,Conway's Game Of Life,"<p>I am currently writting a programe about Conway's Game of life and I am really a beginner of python, I don't know how to start at all. Anybody can help me with it?</p>
","<p>There's a few people on the pygame.org website who've done their versions of the game of life. Maybe they'll be of help:
<a href=""http://www.pygame.org/tags/life"" rel=""nofollow"">Pygame.org - search ""life""</a></p>
"
1062,527420,0,0,python,"input and thread problem, python","<p>I am doing something like this in python</p>

<pre><code>class MyThread ( threading.Thread ):
    def run (s):
        try:
            s.wantQuit = 0
            while(not s.wantQuit):
                button = raw_input()
                if button == ""q"":
                    s.wantQuit=1
        except KeyboardInterrupt:
            s.wantQuit = 1

myThread = MyThread ()
myThread.start()

a=5
while not myThread.wantQuit:
    print ""hey""
    if (a == 0):
        break;
    a = a-1;
    time.sleep(1)
#""""""
sys.exit()
</code></pre>

<p>What happens is my app locks up for 5 seconds printing ""hey"" (5 times) THEN i get the raw_input dialog. How can i have the dialog show up so i can quit anytime instead of when my loop runs out?</p>
","<p>just tried the code to make sure, but this does do what it's supposed to... you can type q and enter in to the console and make the application quit before a=0 (so it says hey less then 5 times)</p>

<p>I don't know what you mean by the raw_input dialog, raw_input normally just takes info from stdin</p>
"
184,95950,2,0,python,Python reading Oracle path,"<p>On my desktop I have written a small Pylons app that connects to Oracle.   I'm now trying to deploy it to my server which is running Win2k3 x64. (My desktop is 32-bit XP) The Oracle installation on the server is also 64-bit.</p>

<p>I was getting errors about loading the OCI dll, so I installed the 32 bit client into <code>C:\oracle32</code>.</p>

<p>If I add this to the <code>PATH</code> environment variable, it works great.   But I also want to run the Pylons app as a service (<a href=""http://wiki.pylonshq.com/display/pylonscookbook/How+to+run+Pylons+as+a+Windows+service"" rel=""nofollow"">using this recipe</a>) and don't want to put this 32-bit library on the path for all other applications.  </p>

<p>I tried using <code>sys.path.append(""C:\\oracle32\\bin"")</code> but that doesn't seem to work.</p>
","<p>sys.path is python's internal representation of the PYTHONPATH, it sounds to me like you want to modify the PATH.</p>

<p>I'm not sure that this will work, but you can try:</p>

<pre><code>import os
os.environ['PATH'] += os.pathsep + ""C:\\oracle32\\bin""
</code></pre>
"
521,262460,0,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>As in almost all languages:</p>

<pre><code>while True:
  # check what you want and eventually break
  print nextValue()
</code></pre>

<p>The second part of your question is more interesting:</p>

<blockquote>
  <p>Also, if it is based on time then is there anyway I could just extend the time and start it going from that point again rather than having to start again from 0</p>
</blockquote>

<p>you can use a <code>yield</code> instead of <code>return</code> in the function <code>nextValue()</code></p>
"
1058,525080,9,0,python,python coding speed and cleanest,"<p>Python is pretty clean, and I can code neat apps quickly.
But I notice I have some minor error someplace and I dont find the error at compile but at run time. Then I need to change and run the script again. Is there a way to have it break and let me modify and run?</p>

<p>Also, I dislike how python has no enums. If I were to write code that needs a lot of enums and types, should I be doing it in C++? It feels like I can do it quicker in C++.</p>
","<p><strong>""I don't find the error at compile but at run time""</strong></p>

<p>Correct.  True for all non-compiled interpreted languages.</p>

<p><strong>""I need to change and run the script again""</strong></p>

<p>Also correct.  True for all non-compiled interpreted languages.</p>

<p><strong>""Is there a way to have it break and let me modify and run?""</strong></p>

<p>What?</p>

<p>If it's a run-time error, the script breaks, you fix it and run again.</p>

<p>If it's not a proper error, but a logic problem of some kind, then the program finishes, but doesn't work correctly.  No language can anticipate what you hoped for and break for you.</p>

<p>Or perhaps you mean something else.</p>

<p><strong>""...code that needs a lot of enums""</strong></p>

<p>You'll need to provide examples of code that needs a lot of enums.  I've been writing Python for years, and have no use for enums.  Indeed, I've been writing C++ with no use for enums either.</p>

<p>You'll have to provide code that needs a lot of enums as a specific example.  Perhaps in another question along the lines of ""What's a Pythonic replacement for all these enums.""</p>

<p>It's usually polymorphic class definitions, but without an example, it's hard to be sure.</p>
"
1059,525080,2,0,python,python coding speed and cleanest,"<p>Python is pretty clean, and I can code neat apps quickly.
But I notice I have some minor error someplace and I dont find the error at compile but at run time. Then I need to change and run the script again. Is there a way to have it break and let me modify and run?</p>

<p>Also, I dislike how python has no enums. If I were to write code that needs a lot of enums and types, should I be doing it in C++? It feels like I can do it quicker in C++.</p>
","<p>Python is an interpreted language, there <em>is</em> no compile stage, at least not that is visible to the user. If you get an error, go back, modify the script, and try again. If your script has long execution time, and you don't want to stop-restart, you can try a debugger like pdb, using which you can fix some of your errors during runtime.</p>

<p>There are a large number of ways in which you can implement enums, a quick google search for ""python enums"" gives everything you're likely to need. However, you should look into whether or not you really need them, and if there's a better, more 'pythonic' way of doing the same thing.</p>
"
1060,525080,3,0,python,python coding speed and cleanest,"<p>Python is pretty clean, and I can code neat apps quickly.
But I notice I have some minor error someplace and I dont find the error at compile but at run time. Then I need to change and run the script again. Is there a way to have it break and let me modify and run?</p>

<p>Also, I dislike how python has no enums. If I were to write code that needs a lot of enums and types, should I be doing it in C++? It feels like I can do it quicker in C++.</p>
","<p>With interpreted languages you have a lot of freedom.  Freedom isn't free here either.  While the interpreter won't torture you into dotting every i and crossing every T before it deems your code worthy of a run, it also won't try to statically analyze your code for all those problems.  So you have a few choices.</p>

<p>1) {Pyflakes, pychecker, pylint} will do static analysis on your code.  That settles the syntax issue mostly.  </p>

<p>2) Test-driven development with nosetests or the like will help you.  If you make a code change that breaks your existing code, the tests will fail and you will know about it.  This is actually better than static analysis and can be as fast.  If you test-first, then you will have all your code checked at <em>test</em> runtime instead of program runtime.</p>

<p>Note that with 1 &amp; 2 in place you are a bit better off than if you had just a static-typing compiler on your side. Even so, it will not create a proof of correctness.  </p>

<p>It is possible that your tests may miss  some plumbing you need for the app to actually run. If that happens, you fix it by writing more tests usually.  But you still need to fire up the app and bang on it to see what tests you should have written and didn't. </p>
"
1061,525080,3,0,python,python coding speed and cleanest,"<p>Python is pretty clean, and I can code neat apps quickly.
But I notice I have some minor error someplace and I dont find the error at compile but at run time. Then I need to change and run the script again. Is there a way to have it break and let me modify and run?</p>

<p>Also, I dislike how python has no enums. If I were to write code that needs a lot of enums and types, should I be doing it in C++? It feels like I can do it quicker in C++.</p>
","<p>You might want to look into something like <a href=""http://jeffwinkler.net/2006/04/27/keeping-your-nose-green/"" rel=""nofollow"">nosey</a>, which runs your unit tests periodically when you've saved changes to a file. You could also set up a save-event trigger to run your unit tests in the background whenever you save a file (possible e.g. with Komodo Edit).</p>

<p>That said, what I do is bind the F7 key to run unit tests in the current directory and subdirectories, and the F6 key to run <a href=""http://www.logilab.org/857"" rel=""nofollow"">pylint</a> on the current file. Frequent use of these allows me to spot errors pretty quickly.</p>
"
522,262460,1,0,python,making a programme run indefinitely in python,"<p>Is there any way to make a function (the ones I'm thinking of are in the style of the simple ones I've made which generate the fibonnacci sequence from 0 to a point, and all the primes between two points) run indefinitely.   E.g. until I press a certain key or until a time has passed, rather than until a number reaches a certain point? </p>

<p>Also, if it is based on time then is there any way I could just extend the time and start it going from that point again, rather than having to start again from 0? I am aware there is a time module, i just don't know much about it.</p>
","<p>The simplest way is just to write a program with an infinite loop, and then hit control-C to stop it. Without more description it's hard to know if this works for you.</p>

<p>If you do it time-based, you don't need a generator. You can just have it pause for user input, something like a ""Continue? [y/n]"", read from stdin, and depending on what you get either exit the loop or not.</p>
"
1063,527420,1,0,python,"input and thread problem, python","<p>I am doing something like this in python</p>

<pre><code>class MyThread ( threading.Thread ):
    def run (s):
        try:
            s.wantQuit = 0
            while(not s.wantQuit):
                button = raw_input()
                if button == ""q"":
                    s.wantQuit=1
        except KeyboardInterrupt:
            s.wantQuit = 1

myThread = MyThread ()
myThread.start()

a=5
while not myThread.wantQuit:
    print ""hey""
    if (a == 0):
        break;
    a = a-1;
    time.sleep(1)
#""""""
sys.exit()
</code></pre>

<p>What happens is my app locks up for 5 seconds printing ""hey"" (5 times) THEN i get the raw_input dialog. How can i have the dialog show up so i can quit anytime instead of when my loop runs out?</p>
","<p>You mean the while loop runs before the thread? Well, you can't predict this unless you synchronize it. No one guarantees you that the thread will run before or after that while loop. But if it's being blocked for 5 seconds that's akward - the thread should have been pre-empted by then.</p>

<p>Also, since you're first use of wantToQuit is in the run() method, no one assures you that the thread has been started when you're checking for it's wantToQuit attribute in <code>while not myThread.wantToQuit</code> .</p>
"
1064,527420,1,0,python,"input and thread problem, python","<p>I am doing something like this in python</p>

<pre><code>class MyThread ( threading.Thread ):
    def run (s):
        try:
            s.wantQuit = 0
            while(not s.wantQuit):
                button = raw_input()
                if button == ""q"":
                    s.wantQuit=1
        except KeyboardInterrupt:
            s.wantQuit = 1

myThread = MyThread ()
myThread.start()

a=5
while not myThread.wantQuit:
    print ""hey""
    if (a == 0):
        break;
    a = a-1;
    time.sleep(1)
#""""""
sys.exit()
</code></pre>

<p>What happens is my app locks up for 5 seconds printing ""hey"" (5 times) THEN i get the raw_input dialog. How can i have the dialog show up so i can quit anytime instead of when my loop runs out?</p>
","<p>The behaviour here is not what you described.
Look at those sample outputs I got:</p>

<p>1st: pressing <code>q&lt;ENTER&gt;</code> as fast as possible:</p>

<pre><code>hey
q
</code></pre>

<p>2nd: wait a bit before pressing <code>q&lt;ENTER&gt;</code>:</p>

<pre><code>hey
hey
hey
q
</code></pre>

<p>3rd: Don't touch the keyboard:</p>

<pre><code>hey
hey
hey
hey
hey
hey
# Application locks because main thread is over but 
# there are other threads running. add myThread.wantQuit = 1
# to prevent that if you want
</code></pre>
"
1065,527420,0,0,python,"input and thread problem, python","<p>I am doing something like this in python</p>

<pre><code>class MyThread ( threading.Thread ):
    def run (s):
        try:
            s.wantQuit = 0
            while(not s.wantQuit):
                button = raw_input()
                if button == ""q"":
                    s.wantQuit=1
        except KeyboardInterrupt:
            s.wantQuit = 1

myThread = MyThread ()
myThread.start()

a=5
while not myThread.wantQuit:
    print ""hey""
    if (a == 0):
        break;
    a = a-1;
    time.sleep(1)
#""""""
sys.exit()
</code></pre>

<p>What happens is my app locks up for 5 seconds printing ""hey"" (5 times) THEN i get the raw_input dialog. How can i have the dialog show up so i can quit anytime instead of when my loop runs out?</p>
","<p>huperboreean has your answer.  The thread is still being started when the for loop is executed.</p>

<p>You want to check that a thread is started before moving into your loop.
You could simplify the thread to monitor raw_input, and return when a 'q' is entered. This will kill the thread.</p>

<p>You main for loop can check if the thread is alive.</p>
"
1025,509710,8,-2,python,Python quotient vs remainder,"<p>The python 2.6 docs state that <code>x % y</code> is defined as the remainder of x / y (<a href=""http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex"" rel=""nofollow"">http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex</a>). I am not clear on what is really occurring though, as:</p>

<pre><code>for i in range(2, 11):
    print 1.0 % i
</code></pre>

<p>prints ""1.0"" ten times, rather than ""0.5, 0.333333, 0.25"" etc. as I expected (1/2 = 0.5, etc). </p>
","<p>I think you can get the result you want by doing something like this:</p>

<pre><code>for i in range(2, 11):
    print 1.0*(1 % i) / i
</code></pre>

<p>This computes the (integer) remainder as explained by others. Then you divide by the denominator again, to produce the fractional part of the quotient.</p>

<p>Note that I multiply the result of the modulo operation by 1.0 to ensure that a floating point division operation is done (rather than integer division, which will result in 0).</p>
"
1023,509710,10,-2,python,Python quotient vs remainder,"<p>The python 2.6 docs state that <code>x % y</code> is defined as the remainder of x / y (<a href=""http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex"" rel=""nofollow"">http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex</a>). I am not clear on what is really occurring though, as:</p>

<pre><code>for i in range(2, 11):
    print 1.0 % i
</code></pre>

<p>prints ""1.0"" ten times, rather than ""0.5, 0.333333, 0.25"" etc. as I expected (1/2 = 0.5, etc). </p>
","<p>Modulo is performed in the integer context, not fractional (remainders are integers). Therefore:</p>

<pre><code>1 % 1  = 0  (1 times 1 plus 0)
1 % 2  = 1  (2 times 0 plus 1)
1 % 3  = 1  (3 times 0 plus 1)

6 % 3 = 0  (3 times 2 plus 0)
7 % 3 = 1  (3 times 2 plus 1)
8 % 3 = 2  (3 times 2 plus 2)

etc
</code></pre>

<blockquote>
  <p><em>How do I get the actual remainder of x / y?</em></p>
</blockquote>

<p>By that I presume you mean doing a regular floating point division?</p>

<pre><code>for i in range(2, 11):
    print 1.0 / i
</code></pre>
"
1024,509710,3,-2,python,Python quotient vs remainder,"<p>The python 2.6 docs state that <code>x % y</code> is defined as the remainder of x / y (<a href=""http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex"" rel=""nofollow"">http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex</a>). I am not clear on what is really occurring though, as:</p>

<pre><code>for i in range(2, 11):
    print 1.0 % i
</code></pre>

<p>prints ""1.0"" ten times, rather than ""0.5, 0.333333, 0.25"" etc. as I expected (1/2 = 0.5, etc). </p>
","<p>Wouldn't dividing 1 by an number larger than it result in 0 with remainder 1?</p>

<p>The number theorists in the crowd may correct me, but I think modulus/remainder is defined only on integers.</p>
"
1026,509710,4,-2,python,Python quotient vs remainder,"<p>The python 2.6 docs state that <code>x % y</code> is defined as the remainder of x / y (<a href=""http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex"" rel=""nofollow"">http://docs.python.org/library/stdtypes.html#numeric-types-int-float-long-complex</a>). I am not clear on what is really occurring though, as:</p>

<pre><code>for i in range(2, 11):
    print 1.0 % i
</code></pre>

<p>prints ""1.0"" ten times, rather than ""0.5, 0.333333, 0.25"" etc. as I expected (1/2 = 0.5, etc). </p>
","<p>You've confused <a href=""http://en.wikipedia.org/wiki/Division_(mathematics)"" rel=""nofollow"">division</a> and <a href=""http://en.wikipedia.org/wiki/Modular_arithmetic"" rel=""nofollow"">modulus</a>.</p>

<p>""0.5, 0.333333, 0.25"" etc. as I expected (1/2 = 0.5, etc).""</p>

<p>That's the result of <em>division</em>.  </p>

<p>Not <em>modulus</em>.</p>

<p>Modulus (<code>%</code>) is the remainder left over after integer division.</p>

<p>Your sample values are simple division, which is the <code>/</code> operator.  Not the <code>%</code> operator.</p>
"
744,377000,0,-3,python,need help-variable creation in Python (continuation),"<p><a href=""http://stackoverflow.com/questions/374572/need-help-variable-creation-in-python#374604"">That</a> was helpful kgiannakakis.
I'm facing a problem as below:</p>

<pre><code>a = ['zbc','2.3']
for i in range(0,5):
    exec('E%d=%s' %(i,a[i]))
</code></pre>

<p>This results in:</p>

<pre>
Traceback (most recent call last):
  File """", line 2, in 
    exec('E%d=%s' %(i,a[i]))
  File """", line 1, in 
NameError: name 'zbc' is not defined
</pre>
","<p>It seems  you are trying to use the solution marked in <a href=""http://stackoverflow.com/questions/374572/need-help-variable-creation-in-python"">this</a> question.</p>

<p>If your goal is access values in a loop, you should just use a list.  This weird concept of variable names with numbers in them is not one that should be used in any language.  Try this.</p>

<pre><code>vals = ['foo', 'bar', 'blah', 67, -0.4, 'your mom']
for i in range(len(vals)):
    print(vals[i])
</code></pre>

<p>That is the correct way to have a list of values indexed by an integer, not putting it in the variable name.</p>
"
743,377000,2,-3,python,need help-variable creation in Python (continuation),"<p><a href=""http://stackoverflow.com/questions/374572/need-help-variable-creation-in-python#374604"">That</a> was helpful kgiannakakis.
I'm facing a problem as below:</p>

<pre><code>a = ['zbc','2.3']
for i in range(0,5):
    exec('E%d=%s' %(i,a[i]))
</code></pre>

<p>This results in:</p>

<pre>
Traceback (most recent call last):
  File """", line 2, in 
    exec('E%d=%s' %(i,a[i]))
  File """", line 1, in 
NameError: name 'zbc' is not defined
</pre>
","<p>It looks like the code you're generating expands to:</p>

<pre><code>E0=zbc
E1=2.3
</code></pre>

<p>At the next iteration through the loop, you'll get an IndexError exception because <code>a</code> is only two elements long.</p>

<p>So given the above, you are trying to assign the value of <code>zbc</code> to <code>E0</code>. If <code>zbc</code> doesn't exist (which it seems that it doesn't), then you will get the NameError you mention.</p>

<p>It's hard to determine what you're actually trying to do with this code, so I'm not sure what to recommend. You could assign strings instead:</p>

<pre><code>exec('E%d=""%s""' %(i,a[i]))
</code></pre>

<p>This would expand to:</p>

<pre><code>E0=""zbc""
E1=""2.3""
</code></pre>

<p>You would still get the IndexError because your array <code>a</code> is not 5 elements long. That should be an easy fix for you.</p>
"
745,377000,0,-3,python,need help-variable creation in Python (continuation),"<p><a href=""http://stackoverflow.com/questions/374572/need-help-variable-creation-in-python#374604"">That</a> was helpful kgiannakakis.
I'm facing a problem as below:</p>

<pre><code>a = ['zbc','2.3']
for i in range(0,5):
    exec('E%d=%s' %(i,a[i]))
</code></pre>

<p>This results in:</p>

<pre>
Traceback (most recent call last):
  File """", line 2, in 
    exec('E%d=%s' %(i,a[i]))
  File """", line 1, in 
NameError: name 'zbc' is not defined
</pre>
","<p>Just keep in mind that 'exec' executes whatever string you pass in to it as if you typed it in your .py file or the interpreter.</p>

<p>When debugging exec() related code, it's helpful to log whatever you're about to 'exec' when you run into trouble, if you did that you'd easily have noticed that E0 wasn't being assigned to the string ""zbc"" but to the non-existent object zbc.</p>

<p>Aside from that, this code sample is really weird. Â There are some legitimate uses for parsing strings into instance variables, or objects in other namespaces, most notably when you're coding a highly dynamic class that needs to do sensible stuff with messy input, or needs to setup a bunch of instance variables from a dict or string. Â But without context, the code in your question looks like you're avoiding, or don't understand how, to use list() and dict() objects..</p>

<p>I'd recommend telling a bit more about what you're trying to achieve next time you ask a question around something as peculiar as this. Â That would give people a good opportunity to suggest a better solution, or âif you're approaching a particular problem in a completely sensible wayâ prevent a bunch of answers telling you that you're doing something completely wrong.</p>
"
742,377000,0,-3,python,need help-variable creation in Python (continuation),"<p><a href=""http://stackoverflow.com/questions/374572/need-help-variable-creation-in-python#374604"">That</a> was helpful kgiannakakis.
I'm facing a problem as below:</p>

<pre><code>a = ['zbc','2.3']
for i in range(0,5):
    exec('E%d=%s' %(i,a[i]))
</code></pre>

<p>This results in:</p>

<pre>
Traceback (most recent call last):
  File """", line 2, in 
    exec('E%d=%s' %(i,a[i]))
  File """", line 1, in 
NameError: name 'zbc' is not defined
</pre>
","<p>Okay. this code is very weird.</p>

<p>As a one liner like this, it's not syntactically correct, but I suspect you're missing line breaks for some reason.  But then it becomes</p>

<pre><code>a = ['zbc','2.3']
for i in range(0,5): 
    exec('E%d=%s' %(i,a[i]))
</code></pre>

<p>But that will result in an index error on the reference to a[i] as shown:</p>

<pre><code>&gt;&gt;&gt; a
['zbc', '2.3']
&gt;&gt;&gt; for i in range(0,5):
...    print a[i]
... 
zbc
2.3
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 2, in &lt;module&gt;
IndexError: list index out of range
</code></pre>

<p>If you avoided that issue, you'd get</p>

<pre><code>exec(""E2.3=1"")
</code></pre>

<p>on the second pass through the lopp, and that's a syntax error too.</p>
"
970,472170,1,-4,python,Incorrect answer in dll import in Python,"<p>In my Python script I'm importing a dll written in VB.NET.
I'm calling a function of initialisation in my script. It takes 2 arguments: a path to XML file and a string. It returns an integer - 0 for success, else error. The second argument is passed by reference. So if success, it will get updated with success message. Otherwise, get updated with error message.</p>

<p>When my script receives the integer, I should print the message in the second variable. I'm not able to do that.</p>
","<p>Python does not support the concept of passing a string ""by reference"" in the same way that VB.NET does. So it might not be possible to do this without some more work.</p>

<p>However, without seeing your code it's definitely not possible to tell you what's wrong.</p>
"
971,472170,3,-4,python,Incorrect answer in dll import in Python,"<p>In my Python script I'm importing a dll written in VB.NET.
I'm calling a function of initialisation in my script. It takes 2 arguments: a path to XML file and a string. It returns an integer - 0 for success, else error. The second argument is passed by reference. So if success, it will get updated with success message. Otherwise, get updated with error message.</p>

<p>When my script receives the integer, I should print the message in the second variable. I'm not able to do that.</p>
","<p>Python strings are immutable. There is no way the string can be changed inside the function.</p>

<p>So what you really want is to pass a <em>char buffer</em> of some sort. You can create those in python using the <code>ctypes</code> module. </p>

<p>Please edit the question and paste a minimal snippet of the code so we can test and give more information.</p>
"
